<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"lyvivian0077.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.5.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>
<meta property="og:type" content="website">
<meta property="og:title" content="总有刁民想要害朕">
<meta property="og:url" content="https://lyvivian0077.github.io/page/3/index.html">
<meta property="og:site_name" content="总有刁民想要害朕">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="lyvivian">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lyvivian0077.github.io/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>总有刁民想要害朕</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">总有刁民想要害朕</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">lyvivian</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">32</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span>
      </div>
  </nav>
</div>



          </div>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lyvivian0077.github.io/2018/07/10/centos-network-device-naming/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyvivian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="总有刁民想要害朕">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/07/10/centos-network-device-naming/" class="post-title-link" itemprop="url">centos-network-device-naming</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-07-10 10:19:20" itemprop="dateCreated datePublished" datetime="2018-07-10T10:19:20+09:00">2018-07-10</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-22 12:58:45" itemprop="dateModified" datetime="2021-06-22T12:58:45+09:00">2021-06-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/main/" itemprop="url" rel="index"><span itemprop="name">main</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>转自: <a target="_blank" rel="noopener" href="https://www.cnblogs.com/zyd112/p/8143464.html">https://www.cnblogs.com/zyd112/p/8143464.html</a></p>
<h2 id="centos7中的网卡一致性命名规则、网卡重命名方法"><a href="#centos7中的网卡一致性命名规则、网卡重命名方法" class="headerlink" title="centos7中的网卡一致性命名规则、网卡重命名方法"></a>centos7中的网卡一致性命名规则、网卡重命名方法</h2><p>一致性网络设备命名(Consistent Network Device Naming)</p>
<p>背景介绍：</p>
<p>在centos5的时候，我们习惯了eth0这样的网络设备命名，在centos6发现网络设备变成了em1这样的命名。<br>那时我们在安装的时候，给启动参数加上 biosdevname=0，就可以继续使用eth0这样的命名。<br>升级到centos7后，发现原有的参数biosdevname=0不起作用了，网络设备变成了eno1这样的名称。<br>centos7这种变化的原因是由于systemd和udev引入了一种新的网络设备命名方式：一致网络设备命名（CONSISTENT NETWORK DEVICE NAMING）。</p>
<h3 id="一、为什么需要这个"><a href="#一、为什么需要这个" class="headerlink" title="一、为什么需要这个"></a>一、为什么需要这个</h3><p>服务器通常有多块网卡，有板载集成的，同时也有插在PCIe插槽的。<br>Linux系统的命名原来是eth0,eth1这样的形式，但是这个编号往往不一定准确对应网卡接口的物理顺序。<br>为解决这类问题,dell开发了biosdevname方案(systemd v197版本中将dell的方案作了进一步的一般化拓展)。  </p>
<p>目前的Centos既支持dell的biosdevname，也支持systemd的方案。</p>
<h3 id="二、Centos7中的命名策略"><a href="#二、Centos7中的命名策略" class="headerlink" title="二、Centos7中的命名策略"></a>二、Centos7中的命名策略</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Scheme 1: 如果从BIOS中能够取到可用的，板载网卡的索引号，则使用这个索引号命名，例如: eno1，如不能则尝试Scheme 2</span><br><span class="line">Scheme 2: 如果从BIOS中能够取到可以用的，网卡所在的PCI-E热插拔插槽的索引号，则使用这个索引号命名，例如: ens1，如不能则尝试Scheme 3</span><br><span class="line">Scheme 3: 如果能拿到设备所连接的物理位置信息，则使用这个信息命名，例如:enp2s0，如不能则尝试Scheme 5</span><br><span class="line">Scheme 4: 使用网卡的MAC地址来命名，这个方法一般不使用。</span><br><span class="line">Scheme 5：传统的kernel命名方法，例如: eth0，这种命名方法的结果不可预知的，即可能第二块网卡对应eth0，第一块网卡对应eth1。</span><br></pre></td></tr></table></figure>


<h3 id="三、biosdevname和net-ifnames两种命名规范"><a href="#三、biosdevname和net-ifnames两种命名规范" class="headerlink" title="三、biosdevname和net.ifnames两种命名规范"></a>三、biosdevname和net.ifnames两种命名规范</h3><p>net.ifnames命名规范为:设备类型+设备位置+数字</p>
<p><img src="/assets/net.ifnames.png" alt="net.ifnames命名规范"></p>
<p>设备类型：</p>
<ul>
<li>en 表示Ethernet</li>
<li>wl 表示WLAN</li>
<li>ww 表示无线广域网WWAN</li>
</ul>
<p>实际的例子:</p>
<ul>
<li>eno1 板载网卡</li>
<li>enp0s2  pci网卡</li>
<li>ens33   pci网卡</li>
<li>wlp3s0  PCI无线网卡</li>
<li>wwp0s29f7u2i2   4G modem</li>
<li>wlp0s2f1u4u1   连接在USB Hub上的无线网卡</li>
<li>enx78e7d1ea46da pci网卡</li>
</ul>
<p>biosdevname的命名规范为:</p>
<p><img src="/assets/biosdevname.png" alt="biosdevname命名规范"></p>
<p>实际的例子:</p>
<ul>
<li>em1 板载网卡</li>
<li>p3p4 pci网卡</li>
<li>p3p4_1 虚拟网卡</li>
</ul>
<h3 id="四、systemd中的实际执行顺序"><a href="#四、systemd中的实际执行顺序" class="headerlink" title="四、systemd中的实际执行顺序"></a>四、systemd中的实际执行顺序</h3><p>按照如下顺序执行udev的rule</p>
<ol>
<li><code>/usr/lib/udev/rules.d/60-net.rules</code></li>
<li><code>/usr/lib/udev/rules.d/71-biosdevname.rules</code></li>
<li><code>/lib/udev/rules.d/75-net-description.rules</code></li>
<li><code>/usr/lib/udev/rules.d/80-net-name-slot.rules</code></li>
</ol>
<ul>
<li><p>60-net.rules<br>使用/lib/udev/rename_device这个程序，去查询/etc/sysconfig/network-scripts/下所有以ifcfg-开头的文件<br>如果在ifcfg-xx中匹配到HWADDR=xx:xx:xx:xx:xx:xx参数的网卡接口<br>则选取DEVICE=yyyy中设置的名字作为网卡名称。  </p>
</li>
<li><p>71-biosdevname.rules<br>如果系统中安装了biosdevname，且内核参数未指定biosdevname=0，且上一步没有重命名网卡，则按照biosdevname的命名规范，从BIOS中取相关信息来命名网卡。<br>主要是取SMBIOS中的type 9 (System Slot) 和 type 41 (Onboard Devices Extended Information)<br>不过要求SMBIOS的版本要高于2.6，且系统中要安装biosdevname程序。  </p>
</li>
<li><p>75-net-description.rules<br>udev通过检查网卡信息，填写如下这些udev的属性值  </p>
<ul>
<li>ID_NET_NAME_ONBOARD</li>
<li>ID_NET_NAME_SLOT</li>
<li>ID_NET_NAME_PATH</li>
<li>ID_NET_NAME_MAC</li>
</ul>
</li>
<li><p>80-net-name-slot.rules<br>如果在60-net.rules ，71-biosdevname.rules这两条规则中没有重命名网卡，且内核未指定net.ifnames=0参数<br>则udev依次尝试使用以下属性值来命名网卡，如果这些属性值都没有，则网卡不会被重命名。  </p>
<ul>
<li>ID_NET_NAME_ONBOARD</li>
<li>ID_NET_NAME_SLOT</li>
<li>ID_NET_NAME_PATH</li>
</ul>
</li>
</ul>
<p>上边的71-biosdevname.rules 是实际执行biosdevname的policy<br>75-net-description.rules和80-net-name-slot.rules实际执行Scheme 1,2,3  </p>
<p>根据上述的过程，可见网卡命名受 biosdevname和net.ifnames这两个内核参数影响。</p>
<h3 id="五、biosdevname-net-ifnames应用"><a href="#五、biosdevname-net-ifnames应用" class="headerlink" title="五、biosdevname/net.ifnames应用"></a>五、biosdevname/net.ifnames应用</h3><p>这两个参数都可以在grub配置中提供，biosdevname=0是系统默认值（dell服务器默认是1），net.ifnames=1是系统默认值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#vi /boot/grub/grub.conf</span><br><span class="line">kernel /boot/vmlinuz biosdevname=1</span><br><span class="line">initrd /boot/initrd.img</span><br></pre></td></tr></table></figure>

<p>第二节所说的Scheme的策略顺序是系统默认的。<br>如系统BIOS符合要求，且系统中安装了biosdevname，且biosdevname=1启用，则biosdevname优先；<br>如果BIOS不符合biosdevname要求或biosdevname=0，则仍然是systemd的规则优先。<br>如果用户自己定义了udev rule来修改内核设备名字，则用户规则优先。  </p>
<p>内核参数组合使用的时候，其结果如下：<br>默认内核参数(biosdevname=0，net.ifnames=1):  网卡名 “enp5s2”<br>biosdevname=1，net.ifnames=0：网卡名 “em1”<br>biosdevname=0，net.ifnames=0：网卡名 “eth0” (最传统的方式,eth0 eth1 傻傻分不清)  </p>
<h3 id="六、centos7网卡重命名为ethx格式"><a href="#六、centos7网卡重命名为ethx格式" class="headerlink" title="六、centos7网卡重命名为ethx格式"></a>六、centos7网卡重命名为ethx格式</h3><p>如果你希望继续使用 eth0 这样的传统名称，那么在安装启动（pxe）时加上参数：<br>net.ifnames=0 biosdevname=0</p>
<p>cobbler profile 修改方法：</p>
<p><code>cobbler profile edit --name=Centos-7.3-x86_64 --kopts=&#39;net.ifnames=0 biosdevname=0&#39;</code></p>
<p>如果你已经安装完了，希望改成eth0这样的名称，那么执行如下操作需要：</p>
<p>1.修改grub2启动参数，在GRUB_CMDLINE_LINUX的中加上”net.ifnames=0 biosdevname=0”的参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/grub</span><br><span class="line">GRUB_CMDLINE_LINUX=”rd.lvm.lv=vg0/swap vconsole.keymap=us crashkernel=auto vconsole.font=latarcyrheb-sun16 net.ifnames=0 biosdevname=0 rd.lvm.lv=vg0/usr rhgb quiet”</span><br></pre></td></tr></table></figure>

<p>2.重新加载到启动中</p>
<p><code>grub2-mkconfig -o /boot/grub2/grub.cfg</code></p>
<p>3.重新对网卡配置文件进行命名（网卡文件全部重命名，顺便修改配置文件NAME、DEVICE的名称）</p>
<p><code>mv /etc/sysconfig/network-scripts/ifcfg-enp0s3 /etc/sysconfig/network-scripts/ifcfg-eth0</code></p>
<p>4.reboot重启生效</p>
<p>参考文档：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Consistent_Network_Device_Naming.html">https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Consistent_Network_Device_Naming.html</a></li>
<li><a target="_blank" rel="noopener" href="https://bugzilla.redhat.com/show_bug.cgi?id=965718">https://bugzilla.redhat.com/show_bug.cgi?id=965718</a></li>
</ul>
<p>有什么问题尽管说，反正我也不会帮你的</p>
<p>转自: <a target="_blank" rel="noopener" href="https://blog.csdn.net/maomao5945/article/details/79354204">https://blog.csdn.net/maomao5945/article/details/79354204</a></p>
<p>从centos7开始，系统默认的网卡命名有已经不是我们熟悉的ethX方式了，细心的同学会留意到一些比如ens enp等开头的网卡名称，简单了解，可以解释为centos7开始，网卡命名会根据网卡的硬件信息，插槽位置等有关；</p>
<p>而网上也有为那些依然想使用ethX方式命名的提供了策略。比如在内核启动参数里增加biosdevname=0 net.ifnames=0；</p>
<p>但是这里忽略了 一个问题，那就是为什么centos7不再使用以前的ethX方式？根本是因为之前ethX方式是不确定的，每次启动可能都不同（如果没有用户自定义网卡名称的前提下）；</p>
<p>所以大家提供的这种办法其实是不好的；</p>
<p>解释完上面内容之后，咱们来看下到底网卡名称是如何命名的。</p>
<p>核心流程：明确一点是，linux内核启动过程中，会默认给网卡以ethX方式随机命名，然后再通过systemd去rename成其他名称。关键字，rename!</p>
<h3 id="一、如何rename？"><a href="#一、如何rename？" class="headerlink" title="一、如何rename？"></a>一、如何rename？</h3><h4 id="默认rename流程："><a href="#默认rename流程：" class="headerlink" title="默认rename流程："></a>默认rename流程：</h4><ul>
<li><p>step1 依据/usr/lib/udev/rules.d/60-net.rules， 查看是否有ifcfg-xx配置文件（路径在/etc/sysconfig/network-scripts/),是否有定义了指定MAC地址的配置文件（ifcfg-xx ，xx必须和配置文件的内容DEVICE一致），如果有，则命名改网卡；</p>
</li>
<li><p>step2 依据/usr/lib/udev/rules.d/71-biosdevname.rules，如果biosdevname使能了（安装了biosdevname这个包，且内核启动参数显式设置为1），且网卡没有在step1中定义，则按照biosdevname命名规则rename网卡；（注意，如果没有安装biosdevname这个包，就没有这个文件）</p>
</li>
<li><p>step3, 依据/lib/udev/rules.d/75-net-description.rules，将udev工具会根据device属性将填写网卡的属性命名，可能一个网卡会有多个维度的名称哦；</p>
</li>
<li><p>step4，udev 根据step3中的赋值，按照指定的scheme规则，去给在step1 step2中没有命名的网卡命名；<br>    强调：这个step顺序是在我们没有自定义自己的rules的前提下，如果用户自定义了自己的rules，则用户自定义为优先级最高；</p>
</li>
</ul>
<h3 id="二、scheme次序"><a href="#二、scheme次序" class="headerlink" title="二、scheme次序"></a>二、scheme次序</h3><h4 id="上面step4中提到，按照指定的scheme规则，这个规则是什么呢？"><a href="#上面step4中提到，按照指定的scheme规则，这个规则是什么呢？" class="headerlink" title="上面step4中提到，按照指定的scheme规则，这个规则是什么呢？"></a>上面step4中提到，按照指定的scheme规则，这个规则是什么呢？</h4><ul>
<li><p>首先说step3中，提到按照网卡的不同属性命名，系统识别网卡有好几种维度：  </p>
<ul>
<li>比如 BIOS provided index numbers for on-board devices (example: eno1),</li>
<li>比如：BIOS provided PCI Express hotplug slot index numbers (example: ens1) </li>
<li>比如：physical location of the connector of the hardware (example: enp2s0), </li>
<li>比如：mac地址</li>
<li>同一个网卡通常同时具有多个维度的名称，systemd在选取的时候，按照有先后次序，使用先命中的；</li>
</ul>
</li>
<li><p>顺序可以简单理解为（eno1-ens1-enp1）</p>
<p><img src="/assets/eno1-ens1-enp1.jpg" alt="EXP"></p>
</li>
<li><p>eth2这个网卡，scheme名称有3个，如果systemd自选，会使用哪个？ens5f0.(那这个为什么是/sys/class/net/eth2 而不是/sys/class/net/ens5f0 ，那是因为自定义的缘故；)</p>
</li>
</ul>
<h3 id="三、用户自定义网卡名称"><a href="#三、用户自定义网卡名称" class="headerlink" title="三、用户自定义网卡名称"></a>三、用户自定义网卡名称</h3><ul>
<li><p>1、在用户没有自定义rules文件前提下，step1中的网卡命名方式也可认为是 一种用户自定义的网卡命名，即在/etc/sysconfig/network-scripts/ifcfg-xx 文件，xx就是这个网卡名称，文件内容中体现MAC_ADDRESS、NAME，这种情况下，则会按照配置文件中指定的名称来命名网卡；</p>
</li>
<li><p>2、如果用户自定义了rules文件，放在/etc/udev/rules.d/目录下，则这个优先级是最高的；比1中ifcfg-xx方式优先级更高，但是如果两者不一致，则在重启network服务时，会依据ifcfg-xx，所以用户不应该同时采用里两种方式给同一个网卡命不同的名称；</p>
</li>
</ul>
<h3 id="四、内核启动参数biosdevnane、net-ifnames"><a href="#四、内核启动参数biosdevnane、net-ifnames" class="headerlink" title="四、内核启动参数biosdevnane、net.ifnames"></a>四、内核启动参数biosdevnane、net.ifnames</h3><p>默认就是内核启动参数没有biosdevname 也没有net.ifnames 参数（其实默认是net.ifnames=1,biosdevname=0）这种情况下就按照一 中进行网卡命名；eno-ens-enp的方式逐个匹配。但是如果使能了biosdevname.则会使用biosdevname的命名 step1没有命名的网卡；</p>
<h4 id="bios命名规则："><a href="#bios命名规则：" class="headerlink" title="bios命名规则："></a>bios命名规则：</h4><ul>
<li>要么是em开头，要么是p开头；</li>
<li>怎么样使能biosdevname呢？2个条件，安装biosdevname包，且在内核启动参数中明确 biosdevname=1. 否则使能不了；</li>
<li>但是不管怎么样，如果用户自定义了udev rules，则用户自定义的rules优先！</li>
<li>这是总述，但凡用户自定义rules，优先级最高；</li>
</ul>
<h4 id="内核启动参数net-ifname"><a href="#内核启动参数net-ifname" class="headerlink" title="内核启动参数net.ifname,"></a>内核启动参数net.ifname,</h4><p>如果在启动参数中增加net.ifname=0，这个文件会在/lib/udev/rule.d/80-net-name-slot.rules体现使用价值，则告诉系统不用scheme的方式来命名，这个时候，会恢复ethx这种不确定性的命名方式；</p>
<h3 id="五、-不要用ethX去命名"><a href="#五、-不要用ethX去命名" class="headerlink" title="五、 不要用ethX去命名"></a>五、 不要用ethX去命名</h3><p>内核在boot 过程是默认使用ethX方式来命名的，每次启动的时候都不确定，启动会后再通过udev等方式去rename,</p>
<p>参考文档：<br><a target="_blank" rel="noopener" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/sec-troubleshooting_network_device_naming">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/sec-troubleshooting_network_device_naming</a>
   </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lyvivian0077.github.io/2018/03/30/ubnt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyvivian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="总有刁民想要害朕">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/03/30/ubnt/" class="post-title-link" itemprop="url">ubnt</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-03-30 17:00:20" itemprop="dateCreated datePublished" datetime="2018-03-30T17:00:20+09:00">2018-03-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-22 12:58:45" itemprop="dateModified" datetime="2021-06-22T12:58:45+09:00">2021-06-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/main/" itemprop="url" rel="index"><span itemprop="name">main</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li><a target="_blank" rel="noopener" href="https://qiita.com/haccht/items/17ed2bed628d2fd17bea">Edgerouter Lite-3でDS-Lite</a></li>
</ul>
<h2 id="Add-nat"><a href="#Add-nat" class="headerlink" title="Add nat"></a>Add nat</h2><ul>
<li><a target="_blank" rel="noopener" href="https://help.ubnt.com/hc/en-us/articles/217367937-EdgeRouter-Port-Forwarding">EdgeRouter - Port Forwarding</a></li>
<li>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">set firewall name WAN_IN rule 22 action accept</span><br><span class="line">set firewall name WAN_IN rule 22 destination address 192.168.1.100</span><br><span class="line">set firewall name WAN_IN rule 22 destination port 22</span><br><span class="line">set firewall name WAN_IN rule 22 protocol tcp</span><br><span class="line"></span><br><span class="line">set service nat rule 22 description &quot;port forward to Server (ssh)&quot;</span><br><span class="line">set service nat rule 22 destination port 22</span><br><span class="line">set service nat rule 22 inbound-interface pppoe0</span><br><span class="line">set service nat rule 22 inside-address address 192.168.1.100</span><br><span class="line">set service nat rule 22 inside-address port 22</span><br><span class="line">set service nat rule 22 protocol tcp</span><br><span class="line">set service nat rule 22 type destination</span><br><span class="line">commit</span><br><span class="line">save</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Add-dynamic-DNS"><a href="#Add-dynamic-DNS" class="headerlink" title="Add dynamic DNS"></a>Add dynamic DNS</h2><table>
<thead>
<tr>
<th align="left">設定値</th>
<th align="left">Duck DNS</th>
</tr>
</thead>
<tbody><tr>
<td align="left">domain</td>
<td align="left">return-0.duckdns.org</td>
</tr>
<tr>
<td align="left">Interface</td>
<td align="left">pppoe0</td>
</tr>
<tr>
<td align="left">Service</td>
<td align="left">custom-duckdns</td>
</tr>
<tr>
<td align="left">Hostname</td>
<td align="left">return-0</td>
</tr>
<tr>
<td align="left">Login</td>
<td align="left">nouser</td>
</tr>
<tr>
<td align="left">Password</td>
<td align="left">Duck DNS のサイトに表示される<code>token</code></td>
</tr>
<tr>
<td align="left">Protocol</td>
<td align="left">dyndns2</td>
</tr>
<tr>
<td align="left">Server</td>
<td align="left"><a target="_blank" rel="noopener" href="http://www.duckdns.org/">www.duckdns.org</a></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<ul>
<li>duckdns</li>
<li><a target="_blank" rel="noopener" href="https://yabe.jp/gadgets/edgerouter-x-05-ddns">EdgeRouter X - 5. ダイナミック DNS の設定 ( DDNS )</a></li>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">root@ubnt:/home/ubnt# configure</span><br><span class="line">[edit]</span><br><span class="line">root@ubnt# set service dns dynamic interface pppoe0  service custom-duckdns host-name return-0</span><br><span class="line">[edit]</span><br><span class="line">root@ubnt# set service dns dynamic interface pppoe0  service custom-duckdns login nosuer</span><br><span class="line">[edit]</span><br><span class="line">root@ubnt# set service dns dynamic interface pppoe0  service custom-duckdns password xxxtokenxxxx</span><br><span class="line">[edit]</span><br><span class="line">root@ubnt# set service dns dynamic interface pppoe0  service custom-duckdns protocol dyndns2</span><br><span class="line">[edit]</span><br><span class="line">root@ubnt# set service dns dynamic interface pppoe0  service custom-duckdns server www.duckdns.org</span><br><span class="line">[edit]</span><br><span class="line">root@ubnt# commit</span><br><span class="line">[edit]</span><br><span class="line">root@ubnt# save</span><br><span class="line">Saving configuration to &#x27;/config/config.boot&#x27;...</span><br><span class="line">Done</span><br><span class="line">[edit]</span><br><span class="line">root@ubnt#</span><br><span class="line">root@ubnt:/home/ubnt# show dns dynamic status</span><br><span class="line"># ddns</span><br><span class="line">interface    : pppoe0</span><br><span class="line">ip address   : &lt;PublicIP&gt;</span><br><span class="line">host-name    : &lt;hostname&gt; (xxx.ddns.net)</span><br><span class="line">last update  : Wed Apr 25 10:28:27 2018</span><br><span class="line">update-status: good</span><br><span class="line"># duckdns</span><br><span class="line">interface    : pppoe0</span><br><span class="line">ip address   : &lt;PublicIP&gt;</span><br><span class="line">host-name    : &lt;hostname&gt; (xxx)</span><br><span class="line">last update  : Wed Apr 25 10:28:27 2018</span><br><span class="line">update-status: good</span><br><span class="line">root@ubnt:/home/ubnt#</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="create-VPN-L2TP"><a href="#create-VPN-L2TP" class="headerlink" title="create VPN L2TP"></a>create VPN L2TP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SSH でルーターにアクセス</span><br><span class="line">## 設定モードに入る</span><br><span class="line">configure</span><br></pre></td></tr></table></figure>

<h3 id="Add-firewall-rules-for-the-L2TP-traffic-to-the-local-firewall-policy"><a href="#Add-firewall-rules-for-the-L2TP-traffic-to-the-local-firewall-policy" class="headerlink" title="Add firewall rules for the L2TP traffic to the local firewall policy."></a>Add firewall rules for the L2TP traffic to the local firewall policy.</h3><ul>
<li>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">set firewall name WAN_LOCAL rule 30 action accept</span><br><span class="line">set firewall name WAN_LOCAL rule 30 description ike</span><br><span class="line">set firewall name WAN_LOCAL rule 30 destination port 500</span><br><span class="line">set firewall name WAN_LOCAL rule 30 log disable</span><br><span class="line">set firewall name WAN_LOCAL rule 30 protocol udp</span><br><span class="line"></span><br><span class="line">set firewall name WAN_LOCAL rule 40 action accept</span><br><span class="line">set firewall name WAN_LOCAL rule 40 description esp</span><br><span class="line">set firewall name WAN_LOCAL rule 40 log disable</span><br><span class="line">set firewall name WAN_LOCAL rule 40 protocol esp</span><br><span class="line"></span><br><span class="line">set firewall name WAN_LOCAL rule 50 action accept</span><br><span class="line">set firewall name WAN_LOCAL rule 50 description nat-t</span><br><span class="line">set firewall name WAN_LOCAL rule 50 destination port 4500</span><br><span class="line">set firewall name WAN_LOCAL rule 50 log disable</span><br><span class="line">set firewall name WAN_LOCAL rule 50 protocol udp</span><br><span class="line"></span><br><span class="line">set firewall name WAN_LOCAL rule 60 action accept</span><br><span class="line">set firewall name WAN_LOCAL rule 60 description l2tp</span><br><span class="line">set firewall name WAN_LOCAL rule 60 destination port 1701</span><br><span class="line">set firewall name WAN_LOCAL rule 60 ipsec match-ipsec</span><br><span class="line">set firewall name WAN_LOCAL rule 60 log disable</span><br><span class="line">set firewall name WAN_LOCAL rule 60 protocol udp</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="基本的な-IPsec-の設定"><a href="#基本的な-IPsec-の設定" class="headerlink" title="基本的な IPsec の設定"></a>基本的な IPsec の設定</h3><ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set vpn ipsec ipsec-interfaces interface pppoe0</span><br><span class="line">set vpn ipsec nat-networks allowed-network 0.0.0.0/0</span><br><span class="line">set vpn ipsec nat-traversal enable</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="WAN-側-IP-アドレスが-pppoe0-経由で割り当ての場合これを指定"><a href="#WAN-側-IP-アドレスが-pppoe0-経由で割り当ての場合これを指定" class="headerlink" title="WAN 側 IP アドレスが pppoe0 経由で割り当ての場合これを指定"></a>WAN 側 IP アドレスが pppoe0 経由で割り当ての場合これを指定</h3><ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set vpn l2tp remote-access outside-address 0.0.0.0</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="L2TP-でアクセスしてきたクライアントに割り当てる-IP-アドレスの範囲を指定"><a href="#L2TP-でアクセスしてきたクライアントに割り当てる-IP-アドレスの範囲を指定" class="headerlink" title="L2TP でアクセスしてきたクライアントに割り当てる IP アドレスの範囲を指定"></a>L2TP でアクセスしてきたクライアントに割り当てる IP アドレスの範囲を指定</h3><ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set vpn l2tp remote-access client-ip-pool start 192.168.1.121</span><br><span class="line">set vpn l2tp remote-access client-ip-pool stop 192.168.1.140</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="L2TP-の「シークレット」を設定"><a href="#L2TP-の「シークレット」を設定" class="headerlink" title="L2TP の「シークレット」を設定"></a>L2TP の「シークレット」を設定</h3><ul>
<li><code>PASSWORD</code> の部分を任意のパスワードに変更して入力</li>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set vpn l2tp remote-access ipsec-settings authentication mode pre-shared-secret</span><br><span class="line">set vpn l2tp remote-access ipsec-settings authentication pre-shared-secret PASSWORD</span><br><span class="line">set vpn l2tp remote-access ipsec-settings ike-lifetime 3600</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="L2TP-クライアントの認証方法をローカルに設定"><a href="#L2TP-クライアントの認証方法をローカルに設定" class="headerlink" title="L2TP クライアントの認証方法をローカルに設定"></a>L2TP クライアントの認証方法をローカルに設定</h3><ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set vpn l2tp remote-access authentication mode local</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="L2TP-クライアントのユーザー名とパスワードを設定"><a href="#L2TP-クライアントのユーザー名とパスワードを設定" class="headerlink" title="L2TP クライアントのユーザー名とパスワードを設定"></a>L2TP クライアントのユーザー名とパスワードを設定</h3><ul>
<li><code>USER</code> と <code>PASSWORD</code> の部分を変更して入力</li>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set vpn l2tp remote-access authentication local-users username USER password PASSWORD</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="L2TP-の-MTU-を保守的に設定"><a href="#L2TP-の-MTU-を保守的に設定" class="headerlink" title="L2TP の MTU を保守的に設定"></a>L2TP の MTU を保守的に設定</h3><ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set vpn l2tp remote-access mtu 1280</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="L2TP-のクライアントが使う-DNS-をルーター自身と-Google-DNS-に設定"><a href="#L2TP-のクライアントが使う-DNS-をルーター自身と-Google-DNS-に設定" class="headerlink" title="L2TP のクライアントが使う DNS をルーター自身と Google DNS に設定"></a>L2TP のクライアントが使う DNS をルーター自身と Google DNS に設定</h3><ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set vpn l2tp remote-access dns-servers server-1 192.168.1.1</span><br><span class="line">set vpn l2tp remote-access dns-servers server-2 8.8.8.8</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="ルーターの-DNS-が-L2TP-から使えるよう-DNS-Frowarding-をルーター自身に設定"><a href="#ルーターの-DNS-が-L2TP-から使えるよう-DNS-Frowarding-をルーター自身に設定" class="headerlink" title="ルーターの DNS が L2TP から使えるよう DNS Frowarding をルーター自身に設定"></a>ルーターの DNS が L2TP から使えるよう DNS Frowarding をルーター自身に設定</h3><ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set service dns forwarding listen-on lo</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="設定保存"><a href="#設定保存" class="headerlink" title="設定保存"></a>設定保存</h3><ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">commit</span><br><span class="line">save</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="「どこでも-My-Mac」との競合対策"><a href="#「どこでも-My-Mac」との競合対策" class="headerlink" title="「どこでも My Mac」との競合対策"></a>「どこでも My Mac」との競合対策</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">UDP ポート 4500は、「どこでも My Mac」でも使用しているため、</span><br><span class="line">Mac側で「どこでも My Mac」が有効になっていると、L2TP/IPSecと競合してアクセス不能に陥ります。</span><br><span class="line">　・　回避方法</span><br><span class="line">　　その1） ローカルネットワーク内にあるすべてのMacで「どこでも My Mac」を無効にする</span><br><span class="line">　　その2） EdgerouterのUPnP2を無効にする　※セキュリティ的にはUPnPを無効にするのが吉</span><br><span class="line">　　その3） UPnPが必要な場合、UPnP2でUDP ポート 4500での転送を止める</span><br></pre></td></tr></table></figure>

<h3 id="その3）をコマンドで設定する場合"><a href="#その3）をコマンドで設定する場合" class="headerlink" title="その3）をコマンドで設定する場合"></a>その3）をコマンドで設定する場合</h3><h3 id="対策-設定モードのコマンドを使用して設定"><a href="#対策-設定モードのコマンドを使用して設定" class="headerlink" title="対策 設定モードのコマンドを使用して設定"></a>対策 設定モードのコマンドを使用して設定</h3><ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">configure</span><br><span class="line">set service upnp2 acl rule 10 action deny</span><br><span class="line">set service upnp2 acl rule 10 description &quot;Block Port 4500&quot;</span><br><span class="line">set service upnp2 acl rule 10 external-port 4500</span><br><span class="line">set service upnp2 acl rule 10 local-port 4500</span><br><span class="line">set service upnp2 acl rule 10 subnet 192.168.1.0/24</span><br><span class="line">set service upnp2 listen-on pppoe0</span><br><span class="line">set service upnp2 wan pppoe0</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="設定を反映して保存、設定モード終了"><a href="#設定を反映して保存、設定モード終了" class="headerlink" title="設定を反映して保存、設定モード終了"></a>設定を反映して保存、設定モード終了</h3><ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">commit</span><br><span class="line">save</span><br><span class="line">exit</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ファームウェアのアップデート"><a href="#ファームウェアのアップデート" class="headerlink" title="ファームウェアのアップデート"></a>ファームウェアのアップデート</h2><p>-</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line">root@ubnt:/home/ubnt# df -h</span><br><span class="line">Filesystem                Size      Used Available Use% Mounted on</span><br><span class="line">ubi0_0                  214.9M    155.8M     54.4M  74% /root.dev</span><br><span class="line">aufs                    214.9M    155.8M     54.4M  74% /</span><br><span class="line">devtmpfs                124.3M         0    124.3M   0% /dev</span><br><span class="line">tmpfs                   124.4M    220.0K    124.2M   0% /run</span><br><span class="line">tmpfs                   124.4M    220.0K    124.2M   0% /run</span><br><span class="line">tmpfs                   124.4M     18.7M    105.8M  15% /var/log</span><br><span class="line">tmpfs                   124.4M     12.0K    124.4M   0% /tmp</span><br><span class="line">none                    124.4M    756.0K    123.7M   1% /opt/vyatta/config</span><br><span class="line">root@ubnt:/home/ubnt# </span><br><span class="line"></span><br><span class="line">root@ubnt:/home/ubnt# show system image</span><br><span class="line">The system currently has the following image(s) installed:</span><br><span class="line"></span><br><span class="line">v1.10.5.5098943.180622.1555    (running image) (default boot)</span><br><span class="line">v1.9.0.4901118.160804.1131</span><br><span class="line"></span><br><span class="line">root@ubnt:/home/ubnt# show system image storage</span><br><span class="line">Image name                        Read-Only   Read-Write        Total</span><br><span class="line">------------------------------ ------------ ------------ ------------</span><br><span class="line">v1.10.5.5098943.180622.1555           77760          940        78700</span><br><span class="line">v1.9.0.4901118.160804.1131            76760        14152        90912</span><br><span class="line">root@ubnt:/home/ubnt# delete system image</span><br><span class="line">Possible completions:</span><br><span class="line">  &lt;Enter&gt;       Execute the current command</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@ubnt:/home/ubnt# delete system image</span><br><span class="line">The system currently has the following image(s) installed:</span><br><span class="line"></span><br><span class="line">v1.10.5.5098943.180622.1555    (running image) (default boot)</span><br><span class="line">v1.9.0.4901118.160804.1131</span><br><span class="line"></span><br><span class="line">You are about to delete image [v1.9.0.4901118.160804.1131]</span><br><span class="line">Are you sure you want to delete ? (Yes/No) [Yes]: Yes</span><br><span class="line">Removing old image... Done</span><br><span class="line">root@ubnt:/home/ubnt#</span><br><span class="line">root@ubnt:/home/ubnt# df -h</span><br><span class="line">Filesystem                Size      Used Available Use% Mounted on</span><br><span class="line">ubi0_0                  214.9M     74.1M    136.1M  35% /root.dev</span><br><span class="line">aufs                    214.9M     74.1M    136.1M  35% /</span><br><span class="line">devtmpfs                124.3M         0    124.3M   0% /dev</span><br><span class="line">tmpfs                   124.4M    220.0K    124.2M   0% /run</span><br><span class="line">tmpfs                   124.4M    220.0K    124.2M   0% /run</span><br><span class="line">tmpfs                   124.4M     18.7M    105.7M  15% /var/log</span><br><span class="line">tmpfs                   124.4M     12.0K    124.4M   0% /tmp</span><br><span class="line">none                    124.4M    756.0K    123.7M   1% /opt/vyatta/config</span><br><span class="line">root@ubnt:/home/ubnt# </span><br><span class="line"></span><br><span class="line">root@ubnt:/home/ubnt# ls</span><br><span class="line">ER-e50.v1.10.7.5127989.tar</span><br><span class="line">root@ubnt:/home/ubnt# add system image ^C</span><br><span class="line">root@ubnt:/home/ubnt# show version</span><br><span class="line">Version:      v1.10.5</span><br><span class="line">Build ID:     5098943</span><br><span class="line">Build on:     06/22/18 15:55</span><br><span class="line">Copyright:    2012-2018 Ubiquiti Networks, Inc.</span><br><span class="line">HW model:     EdgeRouter X 5-Port</span><br><span class="line">HW S/N:       F09FC2087E8A</span><br><span class="line">Uptime:       12:45:43 up 85 days, 13:33,  1 user,  load average: 1.26, 1.24, 1.19</span><br><span class="line">root@ubnt:/home/ubnt# add system image  ER-e50.v1.10.7.5127989.tar</span><br><span class="line">Checking upgrade image...Done</span><br><span class="line">Preparing to upgrade...Done</span><br><span class="line">Clearing directory /var/cache/apt (356.0K)...Done</span><br><span class="line">Copying upgrade image...Not enough disk space for root file system</span><br><span class="line">Do you want to delete old version first? (Yes/No) [Yes]: Yes</span><br><span class="line">Removing old image...Done</span><br><span class="line">Still not enough disk space for root file system</span><br><span class="line">Canceling upgrade</span><br><span class="line">/home/ubnt</span><br><span class="line">root@ubnt:/home/ubnt#</span><br><span class="line">root@ubnt:/home/ubnt# df -h</span><br><span class="line">Filesystem                Size      Used Available Use% Mounted on</span><br><span class="line">ubi0_0                  214.9M    149.9M     60.3M  71% /root.dev</span><br><span class="line">aufs                    214.9M    149.9M     60.3M  71% /</span><br><span class="line">devtmpfs                124.3M         0    124.3M   0% /dev</span><br><span class="line">tmpfs                   124.4M    220.0K    124.2M   0% /run</span><br><span class="line">tmpfs                   124.4M    220.0K    124.2M   0% /run</span><br><span class="line">tmpfs                   124.4M     18.7M    105.7M  15% /var/log</span><br><span class="line">tmpfs                   124.4M     12.0K    124.4M   0% /tmp</span><br><span class="line">none                    124.4M    756.0K    123.7M   1% /opt/vyatta/config</span><br><span class="line">root@ubnt:/home/ubnt# ls -lath ER-e50.v1.10.7.5127989.tar</span><br><span class="line">-rw-r--r--    1 ubnt     users      78.3M Nov  1 12:44 ER-e50.v1.10.7.5127989.tar</span><br><span class="line">root@ubnt:/home/ubnt#</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@ubnt:/home/ubnt# add system image https://dl.ubnt.com/firmwares/edgemax/v1.10.x/ER-e50.v1.10.7.5127989.tar</span><br><span class="line">Trying to get upgrade file from https://dl.ubnt.com/firmwares/edgemax/v1.10.x/ER-e50.v1.10.7.5127989.tar</span><br><span class="line">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span><br><span class="line">                                 Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">100 78.3M  100 78.3M    0     0  3586k      0  0:00:22  0:00:22 --:--:-- 4926k</span><br><span class="line">Download succeeded</span><br><span class="line">Checking upgrade image...Done</span><br><span class="line">Preparing to upgrade...Done</span><br><span class="line">Clearing directory /var/cache/apt (356.0K)...Done</span><br><span class="line">Copying upgrade image...Done</span><br><span class="line">Removing old image...Done</span><br><span class="line">Checking upgrade image...Done</span><br><span class="line">Copying config data...Done</span><br><span class="line">Finishing upgrade...Done</span><br><span class="line">Upgrade completed</span><br><span class="line">root@ubnt:/home/ubnt#</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@ubnt:/home/ubnt# show system image</span><br><span class="line">The system currently has the following image(s) installed:</span><br><span class="line"></span><br><span class="line">v1.10.7.5127989.181001.1227    (default boot)</span><br><span class="line">v1.10.5.5098943.180622.1555    (running image)</span><br><span class="line"></span><br><span class="line">A reboot is needed to boot default image</span><br><span class="line">root@ubnt:/home/ubnt# show system image storage</span><br><span class="line">Image name                        Read-Only   Read-Write        Total</span><br><span class="line">------------------------------ ------------ ------------ ------------</span><br><span class="line">v1.10.7.5127989.181001.1227           78500           88        78588</span><br><span class="line">v1.10.5.5098943.180622.1555           77760          588        78348</span><br><span class="line">root@ubnt:/home/ubnt#</span><br><span class="line"></span><br><span class="line">root@ubnt:/home/ubnt# show system image</span><br><span class="line">The system currently has the following image(s) installed:</span><br><span class="line"></span><br><span class="line">v1.10.7.5127989.181001.1227    (default boot)</span><br><span class="line">v1.10.5.5098943.180622.1555    (running image)</span><br><span class="line"></span><br><span class="line">A reboot is needed to boot default image</span><br><span class="line">root@ubnt:/home/ubnt# set system image default-boot</span><br><span class="line">The system currently has the following image(s) installed:</span><br><span class="line"></span><br><span class="line">v1.10.7.5127989.181001.1227    (default boot)</span><br><span class="line">v1.10.5.5098943.180622.1555    (running image)</span><br><span class="line"></span><br><span class="line">A reboot is needed to boot default image</span><br><span class="line">Are you sure you want to switch images? (Yes/No) [Yes]:</span><br><span class="line">Moving images...</span><br><span class="line">Done</span><br><span class="line">Switched from</span><br><span class="line">  Version:      v1.10.7.5127989.181001.1227</span><br><span class="line">to</span><br><span class="line">  Version:      v1.10.5.5098943.180622.1555</span><br><span class="line">root@ubnt:/home/ubnt#</span><br><span class="line">root@ubnt:/home/ubnt# show system image</span><br><span class="line">The system currently has the following image(s) installed:</span><br><span class="line"></span><br><span class="line">v1.10.5.5098943.180622.1555    (running image) (default boot)</span><br><span class="line">v1.10.7.5127989.181001.1227</span><br><span class="line"></span><br><span class="line">root@ubnt:/home/ubnt# set system image default-boot</span><br><span class="line">The system currently has the following image(s) installed:</span><br><span class="line"></span><br><span class="line">v1.10.5.5098943.180622.1555    (running image) (default boot)</span><br><span class="line">v1.10.7.5127989.181001.1227</span><br><span class="line"></span><br><span class="line">Are you sure you want to switch images? (Yes/No) [Yes]:</span><br><span class="line">Moving images...</span><br><span class="line">Done</span><br><span class="line">Switched from</span><br><span class="line">  Version:      v1.10.5.5098943.180622.1555</span><br><span class="line">to</span><br><span class="line">  Version:      v1.10.7.5127989.181001.1227</span><br><span class="line">root@ubnt:/home/ubnt# show system image</span><br><span class="line">The system currently has the following image(s) installed:</span><br><span class="line"></span><br><span class="line">v1.10.7.5127989.181001.1227    (default boot)</span><br><span class="line">v1.10.5.5098943.180622.1555    (running image)</span><br><span class="line"></span><br><span class="line">A reboot is needed to boot default image</span><br><span class="line">root@ubnt:/home/ubnt#</span><br><span class="line">root@ubnt:/home/ubnt# reboot</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lyvivian0077.github.io/2018/01/23/awk/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyvivian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="总有刁民想要害朕">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/01/23/awk/" class="post-title-link" itemprop="url">三十分钟学会AWK</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-01-23 15:43:20" itemprop="dateCreated datePublished" datetime="2018-01-23T15:43:20+09:00">2018-01-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-22 12:58:45" itemprop="dateModified" datetime="2021-06-22T12:58:45+09:00">2021-06-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/main/" itemprop="url" rel="index"><span itemprop="name">main</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="三十分钟学会AWK"><a href="#三十分钟学会AWK" class="headerlink" title="三十分钟学会AWK"></a>三十分钟学会AWK</h2><p>[三十分钟学会AWK](/assets/三十分钟学会AWK.pdf)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lyvivian0077.github.io/2017/10/24/python-mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyvivian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="总有刁民想要害朕">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/10/24/python-mysql/" class="post-title-link" itemprop="url">python 操作 mysql基础补充</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-10-24 10:48:00" itemprop="dateCreated datePublished" datetime="2017-10-24T10:48:00+09:00">2017-10-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-22 12:58:45" itemprop="dateModified" datetime="2021-06-22T12:58:45+09:00">2021-06-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/main/" itemprop="url" rel="index"><span itemprop="name">main</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>老了老了，记不住了。<br><a target="_blank" rel="noopener" href="http://www.cnblogs.com/wenchengxiaopenyou/p/5701899.html">http://www.cnblogs.com/wenchengxiaopenyou/p/5701899.html</a></p>
<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>本篇的主要内容为整理mysql的基础内容，分享的同时方便日后查阅，同时结合python的学习整理python操作mysql的方法以及python的ORM。</p>
<h2 id="一-数据库初探"><a href="#一-数据库初探" class="headerlink" title="一.数据库初探"></a>一.数据库初探</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">在开始mysql之前先了解下什么是数据库：</span><br><span class="line">数据库（Database）是按照数据结构来组织、存储和管理数据的仓库，它产生于距今六十多年前，随着信息技术和市场的发展，特别是二十世纪九十年代以后，数据管理不再仅仅是存储和管理数据，而转变成用户所需要的各种数据管理的方式。数据库有很多种类型，从最简单的存储有各种数据的表格到能够进行海量数据存储的大型数据库系统都在各个方面得到了广泛的应用。</span><br><span class="line">通俗的讲数据库就是讲数据保存在文件或者内存中，接收特定的命令然后对文件进行操作，而数据库就是一个工具它可以帮助我们去管理这些文件夹或者文件，我门只需要通过命令的方式告诉他们去执行就行了。</span><br><span class="line"> </span><br><span class="line">那么mysql又是什么呢？</span><br><span class="line"></span><br><span class="line">MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于 Oracle 旗下公司。MySQL 最流行的关系型数据库管理系统，在 WEB 应用方面MySQL是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。 与mysql相类似功能的数据库还有：MySQL、Oracle、SQLite、Access、MS SQL Server等</span><br><span class="line"></span><br><span class="line">再了解下什么是SQL：</span><br><span class="line"></span><br><span class="line">SQL是Structured Query Language(结构化查询语言)的缩写。SQL是专为数据库而建立的操作命令集，是一种功能齐全的数据库语言。在使用它时，只需要发出“做什么”的命令，“怎么做”是不用使用者考虑的。SQL功能强大、简单易学、使用方便，已经成为了数据库操作的基础，并且现在几乎所有的数据库均支持SQL。正如上文提到的SQl就是我们控制数据库的方法，命令。</span><br></pre></td></tr></table></figure>


<h2 id="三-真正的数据库操作："><a href="#三-真正的数据库操作：" class="headerlink" title="三.真正的数据库操作："></a>三.真正的数据库操作：</h2><p>1.显示数据库</p>
<p><code>SHOW DATABASES;</code></p>
<p>安装完mysql数据库后默认数据库如下：</p>
<ul>
<li>mysql - 用户权限相关数据</li>
<li>test - 用于用户测试数据</li>
<li>information_schema - MySQL本身架构相关数据</li>
</ul>
<p>2.使用数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE db_name;   ＃指定要操作的数据库名字</span><br></pre></td></tr></table></figure>

<p>3.显示所有表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW TABLES;</span><br></pre></td></tr></table></figure>
<p>4.用户授权</p>
<p>在用户授权部分包括：</p>
<ul>
<li>用户管理</li>
<li>授权管理 </li>
</ul>
<p>用户管理：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">创建用户</span><br><span class="line">    create user &#x27;用户名&#x27;@&#x27;IP地址&#x27; identified by &#x27;密码&#x27;;</span><br><span class="line">删除用户</span><br><span class="line">    drop user &#x27;用户名&#x27;@&#x27;IP地址&#x27;;</span><br><span class="line">修改用户</span><br><span class="line">    rename user &#x27;用户名&#x27;@&#x27;IP地址&#x27;; to &#x27;新用户名&#x27;@&#x27;IP地址&#x27;;</span><br><span class="line">修改密码</span><br><span class="line">    set password for &#x27;用户名&#x27;@&#x27;IP地址&#x27; = Password(&#x27;新密码&#x27;);</span><br><span class="line"></span><br><span class="line">注意：用户权限相关数据保存在默认的mysql数据库的user表中，虽然也可以直接对其进行操作，但是未来安全性不建议那么做。</span><br></pre></td></tr></table></figure>

<p>授权管理：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show grants for &#x27;用户&#x27;@&#x27;IP地址&#x27;                  -- 查看权限</span><br><span class="line">grant  权限 on 数据库.表 to   &#x27;用户&#x27;@&#x27;IP地址&#x27;      -- 授权</span><br><span class="line">revoke 权限 on 数据库.表 from &#x27;用户&#x27;@&#x27;IP地址&#x27;      -- 取消权限</span><br></pre></td></tr></table></figure>

<p>更加详细：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">all privileges  除grant外的所有权限</span><br><span class="line">            select          仅查权限</span><br><span class="line">            select,insert   查和插入权限</span><br><span class="line">            ...</span><br><span class="line">            usage                   无访问权限</span><br><span class="line">            alter                   使用alter table</span><br><span class="line">            alter routine           使用alter procedure和drop procedure</span><br><span class="line">            create                  使用create table</span><br><span class="line">            create routine          使用create procedure</span><br><span class="line">            create temporary tables 使用create temporary tables</span><br><span class="line">            create user             使用create user、drop user、rename user和revoke  all privileges</span><br><span class="line">            create view             使用create view</span><br><span class="line">            delete                  使用delete</span><br><span class="line">            drop                    使用drop table</span><br><span class="line">            execute                 使用call和存储过程</span><br><span class="line">            file                    使用select into outfile 和 load data infile</span><br><span class="line">            grant option            使用grant 和 revoke</span><br><span class="line">            index                   使用index</span><br><span class="line">            insert                  使用insert</span><br><span class="line">            lock tables             使用lock table</span><br><span class="line">            process                 使用show full processlist</span><br><span class="line">            select                  使用select</span><br><span class="line">            show databases          使用show databases</span><br><span class="line">            show view               使用show view</span><br><span class="line">            update                  使用update</span><br><span class="line">            reload                  使用flush</span><br><span class="line">            shutdown                使用mysqladmin shutdown(关闭MySQL)</span><br><span class="line">            super                   􏱂􏰈使用change master、kill、logs、purge、master和set global。还允许mysqladmin􏵗􏵘􏲊􏲋调试登陆</span><br><span class="line">            replication client      服务器位置的访问</span><br><span class="line">            replication slave       由复制从属使用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        对于目标数据库以及内部其他：</span><br><span class="line">            数据库名.*           数据库中的所有</span><br><span class="line">            数据库名.表          指定数据库中的某张表</span><br><span class="line">            数据库名.存储过程     指定数据库中的存储过程</span><br><span class="line">            *.*                所有数据库</span><br><span class="line"></span><br><span class="line">            用户名@IP地址         用户只能在改IP下才能访问</span><br><span class="line">            用户名@192.168.1.%   用户只能在改IP段下才能访问(通配符%表示任意)</span><br><span class="line">            用户名@%             用户可以再任意IP下访问(默认IP地址为%)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="四-表操作"><a href="#四-表操作" class="headerlink" title="四.表操作"></a>四.表操作</h2><p>1.创建表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">    列名  类型  是否可以为空，</span><br><span class="line">    列名  类型  是否可以为空</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>是否可空</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">是否可空，null表示空，非字符串</span><br><span class="line">    not null    - 不可空</span><br><span class="line">    null        - 可空</span><br></pre></td></tr></table></figure></li>
<li><p>默认值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">默认值，创建列时可以指定默认值，当插入数据时如果未主动设置，则自动添加默认值</span><br><span class="line">    create table tb1(</span><br><span class="line">        nid int not null defalut 2,</span><br><span class="line">        num int not null</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></li>
<li><p>自增</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">自增，如果为某列设置自增列，插入数据时无需设置此列，默认将自增（表中只能有一个自增列）</span><br><span class="line">            create table tb1(</span><br><span class="line">                nid int not null auto_increment primary key,</span><br><span class="line">                num int null</span><br><span class="line">            )</span><br><span class="line">            或</span><br><span class="line">            create table tb1(</span><br><span class="line">                nid int not null auto_increment,</span><br><span class="line">                num int null,</span><br><span class="line">                index(nid)</span><br><span class="line">            )</span><br><span class="line">            注意：1、对于自增列，必须是索引（含主键）。</span><br><span class="line">                 2、对于自增可以设置步长和起始值</span><br><span class="line">                     show session variables like &#x27;auto_inc%&#x27;;</span><br><span class="line">                     set session auto_increment_increment=2;</span><br><span class="line">                     set session auto_increment_offset=10;</span><br><span class="line"></span><br><span class="line">                     shwo global  variables like &#x27;auto_inc%&#x27;;</span><br><span class="line">                     set global auto_increment_increment=2;</span><br><span class="line">                     set global auto_increment_offset=10;</span><br></pre></td></tr></table></figure></li>
<li><p>主键</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">外键，一个特殊的索引，只能是指定内容</span><br><span class="line">            creat table color(</span><br><span class="line">                nid int not null primary key,</span><br><span class="line">                name char(16) not null</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">            create table fruit(</span><br><span class="line">                nid int not null primary key,</span><br><span class="line">                smt char(32) null ,</span><br><span class="line">                color_id int not null,</span><br><span class="line">                constraint fk_cc foreign key (color_id) references color(nid)</span><br><span class="line">            )</span><br></pre></td></tr></table></figure></li>
</ul>
<p>2.删除表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop table 表名</span><br></pre></td></tr></table></figure>

<p>3.清空表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">delete from 表名</span><br><span class="line">truncate table 表名</span><br></pre></td></tr></table></figure>

<p>4.修改表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">添加列：alter table 表名 add 列名 类型</span><br><span class="line">删除列：alter table 表名 drop column 列名</span><br><span class="line">修改列：</span><br><span class="line">        alter table 表名 modify column 列名 类型;  -- 类型</span><br><span class="line">        alter table 表名 change 原列名 新列名 类型; -- 列名，类型</span><br><span class="line"> </span><br><span class="line">添加主键：</span><br><span class="line">        alter table 表名 add primary key(列名);</span><br><span class="line">删除主键：</span><br><span class="line">        alter table 表名 drop primary key;</span><br><span class="line">        alter table 表名  modify  列名 int, drop primary key;</span><br><span class="line"> </span><br><span class="line">添加外键：alter table 从表 add constraint 外键名称（形如：FK_从表_主表） foreign key 从表(外键字段) references 主表(主键字段);</span><br><span class="line">删除外键：alter table 表名 drop foreign key 外键名称</span><br><span class="line"> </span><br><span class="line">修改默认值：ALTER TABLE testalter_tbl ALTER i SET DEFAULT 1000;</span><br><span class="line">删除默认值：ALTER TABLE testalter_tbl ALTER i DROP DEFAULT;</span><br></pre></td></tr></table></figure>

<h2 id="五-mysql的基本操作"><a href="#五-mysql的基本操作" class="headerlink" title="五.mysql的基本操作"></a>五.mysql的基本操作</h2><p>1.增</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into 表 (列名,列名...) values (值,值,值...)</span><br><span class="line">insert into 表 (列名,列名...) values (值,值,值...),(值,值,值...)</span><br><span class="line">insert into 表 (列名,列名...) select (列名,列名...) from 表</span><br></pre></td></tr></table></figure>

<p>2.删</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">delete from 表</span><br><span class="line">delete from 表 where id＝1 and name＝&#x27;zhaowencheng&#x27;</span><br></pre></td></tr></table></figure>

<p>3.改</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update 表 set name ＝ &#x27;zhaowencheng&#x27; where id&gt;1</span><br></pre></td></tr></table></figure>

<p>4.查</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select * from 表</span><br><span class="line">select * from 表 where id &gt; 1</span><br><span class="line">select nid,name,gender as gg from 表 where id &gt; 1</span><br></pre></td></tr></table></figure>

<p>5.其它</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">1、条件</span><br><span class="line">        select * from 表 where id &gt; 1 and name != &#x27;zhaowencheng&#x27; and num = 12;</span><br><span class="line"></span><br><span class="line">        select * from 表 where id between 5 and 16;</span><br><span class="line"></span><br><span class="line">        select * from 表 where id in (11,22,33)</span><br><span class="line">        select * from 表 where id not in (11,22,33)</span><br><span class="line">        select * from 表 where id in (select nid from 表)</span><br><span class="line"></span><br><span class="line">    2、通配符</span><br><span class="line">        select * from 表 where name like &#x27;zhao%&#x27;  - zhao开头的所有（多个字符串）</span><br><span class="line">        select * from 表 where name like &#x27;zhao_&#x27;  - zhao开头的所有（一个字符）</span><br><span class="line"></span><br><span class="line">    3、限制</span><br><span class="line">        select * from 表 limit 5;            - 前5行</span><br><span class="line">        select * from 表 limit 4,5;          - 从第4行开始的5行</span><br><span class="line">        select * from 表 limit 5 offset 4    - 从第4行开始的5行</span><br><span class="line"></span><br><span class="line">    4、排序</span><br><span class="line">        select * from 表 order by 列 asc              - 根据 “列” 从小到大排列</span><br><span class="line">        select * from 表 order by 列 desc             - 根据 “列” 从大到小排列</span><br><span class="line">        select * from 表 order by 列1 desc,列2 asc    - 根据 “列1” 从大到小排列，如果相同则按列2从小到大排序</span><br><span class="line"></span><br><span class="line">    5、分组</span><br><span class="line">        select num from 表 group by num</span><br><span class="line">        select num,nid from 表 group by num,nid</span><br><span class="line">        select num,nid from 表  where nid &gt; 10 group by num,nid order nid desc</span><br><span class="line">        select num,nid,count(*),sum(score),max(score),min(score) from 表 group by num,nid</span><br><span class="line"></span><br><span class="line">        select num from 表 group by num having max(id) &gt; 10</span><br><span class="line"></span><br><span class="line">        特别的：group by 必须在where之后，order by之前</span><br><span class="line"></span><br><span class="line">    6、连表</span><br><span class="line">        无对应关系则不显示</span><br><span class="line">        select A.num, A.name, B.name</span><br><span class="line">        from A,B</span><br><span class="line">        Where A.nid = B.nid</span><br><span class="line"></span><br><span class="line">        无对应关系则不显示</span><br><span class="line">        select A.num, A.name, B.name</span><br><span class="line">        from A inner join B</span><br><span class="line">        on A.nid = B.nid</span><br><span class="line"></span><br><span class="line">        A表所有显示，如果B中无对应关系，则值为null</span><br><span class="line">        select A.num, A.name, B.name</span><br><span class="line">        from A left join B</span><br><span class="line">        on A.nid = B.nid</span><br><span class="line"></span><br><span class="line">        B表所有显示，如果B中无对应关系，则值为null</span><br><span class="line">        select A.num, A.name, B.name</span><br><span class="line">        from A right join B</span><br><span class="line">        on A.nid = B.nid</span><br><span class="line"></span><br><span class="line">    7、组合</span><br><span class="line">        组合，自动处理重合</span><br><span class="line">        select nickname</span><br><span class="line">        from A</span><br><span class="line">        union</span><br><span class="line">        select name</span><br><span class="line">        from B</span><br><span class="line"></span><br><span class="line">        组合，不处理重合</span><br><span class="line">        select nickname</span><br><span class="line">        from A</span><br><span class="line">        union all</span><br><span class="line">        select name</span><br><span class="line">        from B</span><br></pre></td></tr></table></figure>

<h2 id="六-pymsql"><a href="#六-pymsql" class="headerlink" title="六.pymsql"></a>六.pymsql</h2><p>1.安装pymysql</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">＃直接pip安装</span><br><span class="line">pip3 install pymysql</span><br></pre></td></tr></table></figure>

<p>2.使用</p>
<ul>
<li>执行sql</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">import pymysql</span><br><span class="line"> </span><br><span class="line"># 创建连接</span><br><span class="line">conn = pymysql.connect(host=&#x27;127.0.0.1&#x27;, port=3306, user=&#x27;root&#x27;, passwd=&#x27;123&#x27;, db=&#x27;t1&#x27;)</span><br><span class="line"># 创建游标</span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"> </span><br><span class="line"># 执行SQL，并返回收影响行数</span><br><span class="line">effect_row = cursor.execute(&quot;update hosts set host = &#x27;1.1.1.2&#x27;&quot;)</span><br><span class="line"> </span><br><span class="line"># 执行SQL，并返回受影响行数</span><br><span class="line">#effect_row = cursor.execute(&quot;update hosts set host = &#x27;1.1.1.2&#x27; where nid &gt; %s&quot;, (1,))</span><br><span class="line"> </span><br><span class="line"># 执行SQL，并返回受影响行数</span><br><span class="line">#effect_row = cursor.executemany(&quot;insert into hosts(host,color_id)values(%s,%s)&quot;, [(&quot;1.1.1.11&quot;,1),(&quot;1.1.1.11&quot;,2)])</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"># 提交，不然无法保存新建或者修改的数据</span><br><span class="line">conn.commit()</span><br><span class="line"> </span><br><span class="line"># 关闭游标</span><br><span class="line">cursor.close()</span><br><span class="line"># 关闭连接</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>

<ul>
<li>获取新创建数据自增ID</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">import pymysql</span><br><span class="line"> </span><br><span class="line">conn = pymysql.connect(host=&#x27;127.0.0.1&#x27;, port=3306, user=&#x27;root&#x27;, passwd=&#x27;123&#x27;, db=&#x27;t1&#x27;)</span><br><span class="line">cursor = conn.cursor()</span><br><span class="line">cursor.executemany(&quot;insert into hosts(host,color_id)values(%s,%s)&quot;, [(&quot;1.1.1.11&quot;,1),(&quot;1.1.1.11&quot;,2)])</span><br><span class="line">conn.commit()</span><br><span class="line">cursor.close()</span><br><span class="line">conn.close()</span><br><span class="line"> </span><br><span class="line"># 获取最新自增ID</span><br><span class="line">new_id = cursor.lastrowid</span><br></pre></td></tr></table></figure>

<ul>
<li>获取查询数据</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">import pymysql</span><br><span class="line"> </span><br><span class="line">conn = pymysql.connect(host=&#x27;127.0.0.1&#x27;, port=3306, user=&#x27;root&#x27;, passwd=&#x27;123&#x27;, db=&#x27;t1&#x27;)</span><br><span class="line">cursor = conn.cursor()</span><br><span class="line">cursor.execute(&quot;select * from hosts&quot;)</span><br><span class="line"> </span><br><span class="line"># 获取第一行数据</span><br><span class="line">row_1 = cursor.fetchone()</span><br><span class="line"> </span><br><span class="line"># 获取前n行数据</span><br><span class="line"># row_2 = cursor.fetchmany(3)</span><br><span class="line"># 获取所有数据</span><br><span class="line"># row_3 = cursor.fetchall()</span><br><span class="line"> </span><br><span class="line">conn.commit()</span><br><span class="line">cursor.close()</span><br><span class="line">conn.close()</span><br><span class="line"></span><br><span class="line">注：在fetch数据时按照顺序进行，可以使用cursor.scroll(num,mode)来移动游标位置，如：</span><br><span class="line">cursor.scroll(1,mode=&#x27;relative&#x27;)  # 相对当前位置移动</span><br><span class="line">cursor.scroll(2,mode=&#x27;absolute&#x27;) # 相对绝对位置移动</span><br></pre></td></tr></table></figure>

<ul>
<li>fetch数据类型</li>
</ul>
<p>关于默认获取的数据是元祖类型，如果想要或者字典类型的数据，即：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">import pymysql</span><br><span class="line"> </span><br><span class="line">conn = pymysql.connect(host=&#x27;127.0.0.1&#x27;, port=3306, user=&#x27;root&#x27;, passwd=&#x27;123&#x27;, db=&#x27;t1&#x27;)</span><br><span class="line"> </span><br><span class="line"># 游标设置为字典类型</span><br><span class="line">cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)</span><br><span class="line">r = cursor.execute(&quot;call p1()&quot;)</span><br><span class="line"> </span><br><span class="line">result = cursor.fetchone()</span><br><span class="line"> </span><br><span class="line">conn.commit()</span><br><span class="line">cursor.close()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lyvivian0077.github.io/2017/10/06/mysql-table/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyvivian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="总有刁民想要害朕">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/10/06/mysql-table/" class="post-title-link" itemprop="url">MySQL-table</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-10-06 16:44:10" itemprop="dateCreated datePublished" datetime="2017-10-06T16:44:10+09:00">2017-10-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-22 12:58:45" itemprop="dateModified" datetime="2021-06-22T12:58:45+09:00">2021-06-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/main/" itemprop="url" rel="index"><span itemprop="name">main</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>=========================================================================================================================================</p>
<h2 id="指定的Database里的指定的Table容量"><a href="#指定的Database里的指定的Table容量" class="headerlink" title="指定的Database里的指定的Table容量"></a>指定的Database里的指定的Table容量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT </span><br><span class="line">    table_name AS `Table`, </span><br><span class="line">    round(((data_length + index_length) / 1024 / 1024), 2) `Size in MB` </span><br><span class="line">FROM information_schema.TABLES </span><br><span class="line">WHERE table_schema = &quot;$DB_NAME&quot;</span><br><span class="line">    AND table_name = &quot;$TABLE_NAME&quot;;</span><br><span class="line"></span><br><span class="line">mysql -uroot -e</span><br><span class="line">  &quot;SELECT TABLE_NAME, round(((data_length+index_length) / 1024 / 1024 / 1024), 2) AS &#x27;Size (GB)&#x27;</span><br><span class="line">   FROM information_schema.tables </span><br><span class="line">   WHERE table_schema = &#x27;$DB_NAME&#x27; AND table_name = &#x27;$TABLE_NAME&#x27;;&quot;</span><br><span class="line"> - mysql55-dev# mysql -uroot -e &quot; SELECT TABLE_NAME, round(((data_length+index_length) / 1024 / 1024 / 1024), 2) AS &#x27;Size (GB)&#x27; FROM information_schema.tables WHERE table_schema = &#x27;tigrex_mygoods2&#x27; AND table_name = &#x27;g5_apms_like&#x27;;&quot;</span><br></pre></td></tr></table></figure>

<h2 id="指定的Database里的所有的Table容量"><a href="#指定的Database里的所有的Table容量" class="headerlink" title="指定的Database里的所有的Table容量"></a>指定的Database里的所有的Table容量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@mysqlxxx log]# mysql -uroot -e &quot;SELECT TABLE_SCHEMA, TABLE_NAME, round(((data_length+index_length) / 1024 / 1024 ),2)  AS &#x27;Size (MB)&#x27; FROM information_schema.tables  WHERE table_schema = &#x27;zeroen_wp&#x27;ORDER BY (data_length + index_length) DESC ;&quot;</span><br><span class="line">+--------------+--------------------------------+-----------+</span><br><span class="line">| TABLE_SCHEMA | TABLE_NAME                     | Size (GB) |</span><br><span class="line">+--------------+--------------------------------+-----------+</span><br><span class="line">| zeroen_wp    | wp74e2b1options                |      0.39 |</span><br><span class="line">| zeroen_wp    | wp74e2b1postmeta               |      0.28 |</span><br><span class="line">| zeroen_wp    | wp74e2b1posts                  |      0.13 |</span><br><span class="line">| zeroen_wp    | wp74e2b1comments               |      0.09 |</span><br><span class="line">| zeroen_wp    | wp74e2b1users                  |      0.06 |</span><br><span class="line">| zeroen_wp    | wp74e2b1usermeta               |      0.05 |</span><br><span class="line">| zeroen_wp    | wp74e2b1terms                  |      0.05 |</span><br><span class="line">| zeroen_wp    | wp74e2b1termmeta               |      0.05 |</span><br><span class="line">| zeroen_wp    | wp74e2b1term_taxonomy          |      0.05 |</span><br><span class="line">| zeroen_wp    | wp74e2b1commentmeta            |      0.05 |</span><br><span class="line">| zeroen_wp    | wp74e2b1term_relationships     |      0.03 |</span><br><span class="line">| zeroen_wp    | wp74e2b1links                  |      0.03 |</span><br><span class="line">| zeroen_wp    | wp74e2b1aiowps_login_lockdown  |      0.02 |</span><br><span class="line">| zeroen_wp    | wp74e2b1aiowps_login_activity  |      0.02 |</span><br><span class="line">| zeroen_wp    | wp74e2b1aiowps_global_meta     |      0.02 |</span><br><span class="line">| zeroen_wp    | wp74e2b1aiowps_failed_logins   |      0.02 |</span><br><span class="line">| zeroen_wp    | wp74e2b1aiowps_events          |      0.02 |</span><br><span class="line">| zeroen_wp    | wp74e2b1aiowps_permanent_block |      0.02 |</span><br><span class="line">+--------------+--------------------------------+-----------+</span><br><span class="line">[root@mysqlxxx log]#</span><br></pre></td></tr></table></figure>
<h2 id="所有的Database里的所有的Table容量"><a href="#所有的Database里的所有的Table容量" class="headerlink" title="所有的Database里的所有的Table容量"></a>所有的Database里的所有的Table容量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT </span><br><span class="line">     table_schema as `Database`, </span><br><span class="line">     table_name AS `Table`, </span><br><span class="line">     round(((data_length + index_length) / 1024 / 1024), 2) `Size in MB` </span><br><span class="line">FROM information_schema.TABLES </span><br><span class="line">ORDER BY (data_length + index_length) DESC;</span><br><span class="line"> - mysql -uroot -e &quot;SELECT TABLE_SCHEMA, TABLE_NAME, round(((data_length+index_length) / 1024),2)  AS &#x27;Size (GB)&#x27; FROM information_schema.tables  ORDER BY (data_length + index_length) DESC;&quot;</span><br><span class="line"> - mysql55-dev# mysql -uroot -e &quot; SELECT TABLE_NAME, round(((data_length+index_length) / 1024 / 1024 / 1024), 2) AS &#x27;Size (GB)&#x27; FROM information_schema.tables ORDER BY (data_length + index_length) DESC;&quot;</span><br></pre></td></tr></table></figure>

<h2 id="指定的Database里的所有的Table容量-1"><a href="#指定的Database里的所有的Table容量-1" class="headerlink" title="指定的Database里的所有的Table容量"></a>指定的Database里的所有的Table容量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -e</span><br><span class="line">  &quot;SELECT TABLE_SCHEMA AS &#x27;Database Name&#x27;,</span><br><span class="line">   TABLE_NAME AS &#x27;TABLE_NAME&#x27;,</span><br><span class="line">   SUM(data_length+index_length) / 1024 / 1024 / 1024 AS &#x27;Size (GB)&#x27;</span><br><span class="line">   FROM information_schema.tables </span><br><span class="line">   WHERE table_schema = &#x27;$DB_NAME&#x27;</span><br><span class="line">   ORDER BY (data_length + index_length) DESC;&quot;</span><br><span class="line"></span><br><span class="line"> - mysql -uroot -e &quot;SELECT TABLE_SCHEMA, TABLE_NAME, round(((data_length+index_length) / 1024),2)  AS &#x27;Size (GB)&#x27; FROM information_schema.tables WHERE table_schema = &#x27;tigrex_mygoods&#x27; ORDER BY (data_length + index_length) DESC;&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">use databaseName;</span><br><span class="line">select  </span><br><span class="line">table_name, engine, table_rows as tbl_rows, avg_row_length as rlen,  </span><br><span class="line">floor((data_length+index_length)/1024/1024) as allMB,  #総容量</span><br><span class="line">floor((data_length)/1024/1024) as dMB,  #データ容量</span><br><span class="line">floor((index_length)/1024/1024) as iMB   #インデックス容量</span><br><span class="line">from information_schema.tables  </span><br><span class="line">where table_schema=database()  </span><br><span class="line">order by (data_length+index_length) desc; </span><br></pre></td></tr></table></figure>

<p>=========================================================================================================================================</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select TABLE_NAME from information_schema.TABLES where TABLE_SCHEMA = &#x27;spacerental2_kikou&#x27; and  TABLE_TYPE = &#x27;VIEW&#x27;;</span><br><span class="line">+------------------------+</span><br><span class="line">| TABLE_NAME             |</span><br><span class="line">+------------------------+</span><br><span class="line">| roomtimetable_chk_v01  |</span><br><span class="line">| roomtimetable_disp     |</span><br><span class="line">| roomtimetable_disp_v01 |</span><br><span class="line">| roomtimetable_disp_v02 |</span><br><span class="line">| sagakuview             |</span><br><span class="line">| sagakuview1            |</span><br><span class="line">| sagakuview_Ytmp        |</span><br><span class="line">| sagakuview_n           |</span><br><span class="line">| sagakuview_ngaku       |</span><br><span class="line">| sagakuview_s           |</span><br><span class="line">| sagakuview_sgaku       |</span><br><span class="line">| sagakuview_y           |</span><br><span class="line">| sagakuview_ygaku       |</span><br><span class="line">| yoyakubihintable_v01   |</span><br><span class="line">| yoyakubihintable_v02   |</span><br><span class="line">| yoyakubihintable_v03   |</span><br><span class="line">| yoyakubihintable_v04   |</span><br><span class="line">+------------------------+</span><br><span class="line">17 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<h2 id="指定的Database里的総容量"><a href="#指定的Database里的総容量" class="headerlink" title="指定的Database里的総容量"></a>指定的Database里的総容量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql# mysql -uroot -e &quot;SELECT TABLE_SCHEMA, SUM(data_length+index_length) / 1024 / 1024 / 1024 AS &#x27;Size (GB)&#x27; FROM information_schema.tables WHERE table_schema = &#x27;test45_wdpress&#x27;;&quot;</span><br><span class="line"></span><br><span class="line">mysql&gt; sELECT TABLE_SCHEMA, SUM(data_length+index_length) / 1024 / 1024 / 1024 AS &#x27;Size (GB)&#x27; FROM information_schema.tables WHERE table_schema = &#x27;test45_wdpress&#x27;;</span><br><span class="line">+----------------+----------------+</span><br><span class="line">| TABLE_SCHEMA   | Size (GB)      |</span><br><span class="line">+----------------+----------------+</span><br><span class="line">| test45_wdpress | 0.000793457031 |</span><br><span class="line">+----------------+----------------+</span><br><span class="line">1 row in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>

<h2 id="複数Databaseの各容量"><a href="#複数Databaseの各容量" class="headerlink" title="複数Databaseの各容量"></a>複数Databaseの各容量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT TABLE_SCHEMA, SUM(data_length+index_length) / 1024 / 1024 AS &#x27;Size&#x27;  FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA IN  (&quot;dbname_table1&quot;, &quot;dbname_table2&quot;) GROUP BY TABLE_SCHEMA;</span><br><span class="line">+--------------------+--------------+</span><br><span class="line">| TABLE_SCHEMA       | Size         |</span><br><span class="line">+--------------------+--------------+</span><br><span class="line">| dbname_table1      | 688.31250000 |</span><br><span class="line">| dbname_table2      | 657.39062500 |</span><br><span class="line">+--------------------+--------------+</span><br><span class="line">2 rows in set (0.09 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>


<h2 id="複数Databaseの総容量-and-各容量"><a href="#複数Databaseの総容量-and-各容量" class="headerlink" title="複数Databaseの総容量 and 各容量"></a>複数Databaseの総容量 and 各容量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT  SUM(data_length+index_length) / 1024 / 1024 / 1024 AS &#x27;Size GB&#x27;  FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA like &quot;dbname_table_%&quot;  ;</span><br><span class="line">+----------------+</span><br><span class="line">| Size GB        |</span><br><span class="line">+----------------+</span><br><span class="line">| 3.150512695313 |</span><br><span class="line">+----------------+</span><br><span class="line">1 row in set (0.58 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT TABLE_SCHEMA, SUM(data_length+index_length) / 1024 / 1024 AS &#x27;Size&#x27;  FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA like &quot;dbname_table_%&quot;  GROUP BY TABLE_SCHEMA;</span><br><span class="line">+---------------------------+--------------+</span><br><span class="line">| TABLE_SCHEMA              | Size         |</span><br><span class="line">+---------------------------+--------------+</span><br><span class="line">| dbname_table_1            | 661.78125000 |</span><br><span class="line">| dbname_table_2            | 158.42187500 |</span><br><span class="line">| dbname_table_3            | 472.39062500 |</span><br><span class="line">| dbname_table_4            | 196.60937500 |</span><br><span class="line">| dbname_table_5            |  82.23437500 |</span><br><span class="line">| dbname_table_6            | 479.35937500 |</span><br><span class="line">| dbname_table_7            | 403.57812500 |</span><br><span class="line">| dbname_table_8            | 197.03125000 |</span><br><span class="line">| dbname_table_9            | 156.93750000 |</span><br><span class="line">| dbname_table_10           | 400.75000000 |</span><br><span class="line">| dbname_table_11           |  17.03125000 |</span><br><span class="line">+---------------------------+--------------+</span><br><span class="line">11 rows in set (0.60 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lyvivian0077.github.io/2017/09/28/ansbile/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyvivian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="总有刁民想要害朕">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/09/28/ansbile/" class="post-title-link" itemprop="url">ansible</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-09-28 09:40:20" itemprop="dateCreated datePublished" datetime="2017-09-28T09:40:20+09:00">2017-09-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-22 12:58:45" itemprop="dateModified" datetime="2021-06-22T12:58:45+09:00">2021-06-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/main/" itemprop="url" rel="index"><span itemprop="name">main</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="オプション"><a href="#オプション" class="headerlink" title="オプション"></a>オプション</h2><ul>
<li>-k, –ask-pass<ul>
<li>SSH のパスワードを尋ねる(プロンプトが出る)</li>
</ul>
</li>
<li>-K, –ask-sudo-pass<ul>
<li>sudo のパスワードを尋ねる(プロンプトが出る)</li>
</ul>
</li>
<li>-C, –check<ul>
<li>インストールなどの変更は行わないが、条件の確認などは実行する</li>
</ul>
</li>
<li>-c CONNECTION, –connection=CONNECTION<ul>
<li>local, ssh, paramiko から選択。デフォルトは paramiko。古い OpenSSH で ssh を指定する場合は ANSIBLE_SSH_ARGS=”” と環境変数を空で上書きす<br>る必要がある</li>
</ul>
</li>
<li>-D, –diff<ul>
<li>file や template の差分(diff)を表示する。–check と一緒に使うと便利</li>
</ul>
</li>
<li>-e EXTRA_VARS, –extra-vars=EXTRA_VARS<ul>
<li>追加の変数を key=value で指定する。playbook に書かれている変数の上書きはされない</li>
</ul>
</li>
<li>-f FORKS, –forks=FORKS<ul>
<li>並列実行する数(デフォルトは5)</li>
</ul>
</li>
<li>-h, –help<ul>
<li>このヘルプメッセージを表示して終了する</li>
</ul>
</li>
<li>-i INVENTORY, –inventory-file=INVENTORY<ul>
<li>インベントリファイルを指定する(デフォルトは /etc/ansible/hosts)</li>
</ul>
</li>
<li>-l SUBNET, –limit=SUBNET<ul>
<li>対象サーバーを指定のものだけに制限する</li>
</ul>
</li>
<li>–list-hosts<ul>
<li>それぞれの playbook の対象ホスト一覧を表示して終了する。playbook の実行はされない</li>
</ul>
</li>
<li>–list-tasks<ul>
<li>各 playbook のタスク一覧を表示して終了する</li>
</ul>
</li>
<li>-M MODULE_PATH, –module-path=MODULE_PATH<ul>
<li>モジュールファイルのディレクトリを指定する(デフォルトは /usr/share/ansible)</li>
</ul>
</li>
<li>–private-key=PRIVATE_KEY_FILE<ul>
<li>SSH の秘密鍵ファイルを指定する</li>
</ul>
</li>
<li>–start-at-task=START_AT<ul>
<li>指定の task から開始する</li>
</ul>
</li>
<li>–step<ul>
<li>ひとつの task ごとに “Perform task: タスク名 (y/n/c):” と確認される。y: (yes) 実行する、n: (no) 実行しない、c: (continue) 以降を確認な<br>しで実行する</li>
</ul>
</li>
<li>-s, –sudo<ul>
<li>対象サーバーでの task を sudo で実行する</li>
</ul>
</li>
<li>-U SUDO_USER, –sudo-user=SUDO_USER<ul>
<li>sudo での実行ユーザーを指定する(デフォルトは root)</li>
</ul>
</li>
<li>–syntax-check<ul>
<li>playbook の文法チェックだけを行う</li>
</ul>
</li>
<li>-t TAGS, –tags=TAGS<ul>
<li>指定の tag が付けられた task のみを実行する</li>
</ul>
</li>
<li>-T TIMEOUT, –timeout=TIMEOUT<ul>
<li>SSH のタイムアウトを指定する(デフォルトは10秒)</li>
</ul>
</li>
<li>-u REMOTE_USER, –user=REMOTE_USER<ul>
<li>SSH で接続するユーザー名を指定する</li>
</ul>
</li>
<li>-v, –verbose<ul>
<li>冗長モード (-vvv でより冗長な出力になる)</li>
</ul>
</li>
<li>–version<ul>
<li>バージョンを表示して終了する</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lyvivian0077.github.io/2017/09/21/centos7-set-kernel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyvivian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="总有刁民想要害朕">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/09/21/centos7-set-kernel/" class="post-title-link" itemprop="url">centos7-set-kernel</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-09-21 10:38:20" itemprop="dateCreated datePublished" datetime="2017-09-21T10:38:20+09:00">2017-09-21</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-22 12:58:45" itemprop="dateModified" datetime="2021-06-22T12:58:45+09:00">2021-06-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/main/" itemprop="url" rel="index"><span itemprop="name">main</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>CentOS 7でカーネルをビルドする機会があったので、デフォルトのカーネルを変更する方法をメモしておきます。テキストエディタでgrub.cfgを編集するものだとすっかり思い込んでたのでしばらくgrub.cfgをじーーっと眺めてたのですが、調べてみたところ準備されているgrub2-set-defaultコマンドで変更できます。</p>
<h3 id="現在のデフォルトを調べる"><a href="#現在のデフォルトを調べる" class="headerlink" title="現在のデフォルトを調べる"></a>現在のデフォルトを調べる</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@backup ~]# grub2-editenv list</span><br><span class="line">saved_entry=CentOS Linux (3.10.0-693.2.2.el7.x86_64) 7 (Core)</span><br><span class="line">[root@backup ~]#</span><br></pre></td></tr></table></figure>

<h3 id="カーネルのリストを表示する"><a href="#カーネルのリストを表示する" class="headerlink" title="カーネルのリストを表示する"></a>カーネルのリストを表示する</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@backup ~]# awk -F\&#x27; &#x27;$1==&quot;menuentry &quot; &#123;print i++ &quot; : &quot; $2&#125;&#x27; /etc/grub2.cfg</span><br><span class="line">0 : CentOS Linux (3.10.0-693.2.2.el7.x86_64) 7 (Core)</span><br><span class="line">1 : CentOS Linux, with Linux 3.10.0-229.20.1.el7.x86_64</span><br><span class="line">2 : CentOS Linux, with Linux 3.10.0-123.el7.x86_64</span><br><span class="line">3 : CentOS Linux, with Linux 0-rescue-1857a64194e64a80a83a91324b8169d5</span><br><span class="line">[root@backup ~]#</span><br></pre></td></tr></table></figure>

<h3 id="利用したいカーネルをデフォルトに設定する"><a href="#利用したいカーネルをデフォルトに設定する" class="headerlink" title="利用したいカーネルをデフォルトに設定する"></a>利用したいカーネルをデフォルトに設定する</h3><p>例えば <code>1 : CentOS Linux, with Linux 3.10.0-229.20.1.el7.x86_64</code> に変更する場合は下記の通りです。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@backup ~]# grub2-set-default 1</span><br><span class="line">[root@backup ~]# grub2-editenv list</span><br><span class="line">saved_entry=1</span><br></pre></td></tr></table></figure>

<h3 id="再起動して確認する"><a href="#再起動して確認する" class="headerlink" title="再起動して確認する"></a>再起動して確認する</h3>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lyvivian0077.github.io/2017/09/15/vim/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyvivian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="总有刁民想要害朕">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/09/15/vim/" class="post-title-link" itemprop="url">VIM</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-09-15 10:19:20" itemprop="dateCreated datePublished" datetime="2017-09-15T10:19:20+09:00">2017-09-15</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-22 12:58:45" itemprop="dateModified" datetime="2021-06-22T12:58:45+09:00">2021-06-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/main/" itemprop="url" rel="index"><span itemprop="name">main</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="build-vim"><a href="#build-vim" class="headerlink" title="build vim"></a>build vim</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./configure --prefix=<span class="variable">$HOME</span>/myetc \</span></span><br><span class="line"><span class="bash">--with-features=huge \</span></span><br><span class="line"><span class="bash">--enable-gui=gnome2 \</span></span><br><span class="line"><span class="bash">--enable-perlinterp \</span></span><br><span class="line"><span class="bash">--enable-pythoninterp \</span></span><br><span class="line"><span class="bash">--enable-python3interp \</span></span><br><span class="line"><span class="bash">--enable-fail-if-missing \</span></span><br><span class="line"><span class="bash">--disable-selinux \</span></span><br><span class="line"><span class="bash">--enable-pythoninterp=dynamic \</span></span><br><span class="line"><span class="bash">--with-python-config-dir=/home/user/.pyenv/versions/2.7.14/lib/python2.7/config \</span></span><br><span class="line"><span class="bash">--enable-python3interp=dynamic \</span></span><br><span class="line"><span class="bash">--with-python3-config-dir=/home/user/.pyenv/versions/3.6.5/lib/python3.6/config-3.6m \</span></span><br><span class="line"><span class="bash">--enable-rubyinterp=dynamic \</span></span><br><span class="line"><span class="bash">--enable-cscope \</span></span><br><span class="line"><span class="bash">--enable-fontset \</span></span><br><span class="line"><span class="bash">--enable-multibyte \</span></span><br><span class="line"><span class="bash">vi_cv_path_python3=/home/uers/.pyenv/versions/3.6.5/bin/python3.6</span></span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">vim ~/.zshrc</span><br><span class="line">alias vi=&#x27;~/myetc/bin/vim&#x27;</span><br><span class="line">alias vim=&#x27;~/myetc/bin/vim&#x27;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>キー入力</th>
<th>動作</th>
</tr>
</thead>
<tbody><tr>
<td>vi ファイル名</td>
<td>対象ファイルを開く（複数ファイル可）</td>
</tr>
<tr>
<td>vi +n ファイル名</td>
<td>n 行目から対象ファイルを開く</td>
</tr>
<tr>
<td>vi -r ファイル名</td>
<td>壊れたファイルのリカバリ</td>
</tr>
<tr>
<td>i</td>
<td>カーソルの左から入力開始</td>
</tr>
<tr>
<td>I</td>
<td>行頭から入力開始</td>
</tr>
<tr>
<td>a</td>
<td>カーソルの右から入力開始</td>
</tr>
<tr>
<td>A</td>
<td>行末から入力開始</td>
</tr>
<tr>
<td>ZZ</td>
<td>vi を終了（内容が変更されている場合は保存）</td>
</tr>
<tr>
<td>:wq</td>
<td>ファイルに保存、vi を終了</td>
</tr>
<tr>
<td>:#,# w</td>
<td>#行目から#行目までを保存</td>
</tr>
<tr>
<td>:q</td>
<td>vi を終了（内容が変更されいる場合は警告）</td>
</tr>
<tr>
<td>:q!</td>
<td>vi を強制終了（内容が変更されていても保存しない）</td>
</tr>
<tr>
<td>:ls</td>
<td>バッファリストの表示</td>
</tr>
<tr>
<td>:b バッファ</td>
<td>バッファを表示</td>
</tr>
<tr>
<td>:bn</td>
<td>次のバッファを表示</td>
</tr>
<tr>
<td>:bp</td>
<td>前のバッファを表示</td>
</tr>
<tr>
<td>[n] x</td>
<td>カーソル上の1文字削除</td>
</tr>
<tr>
<td>[n] X</td>
<td>カーソルの左の文字を1文字削除</td>
</tr>
<tr>
<td>p</td>
<td>バッファ内のテキストを挿入（文字はカーソルの右、行はカーソルの下に挿入）</td>
</tr>
<tr>
<td>P</td>
<td>バッファ内のテキストを挿入（文字はカーソルの左、行はカーソルの上に挿入）</td>
</tr>
<tr>
<td>:r [ファイル名]</td>
<td>ファイルの中身を挿入する</td>
</tr>
<tr>
<td>[n] d  目的語 \ d [n] 目的語</td>
<td>目的語一覧:</td>
</tr>
<tr>
<td>:::</td>
<td>w - カーソル位置から空白を含む単語の末尾まで削除</td>
</tr>
<tr>
<td>:::</td>
<td>e - カーソル位置から空白を含まない単語の末尾まで削除</td>
</tr>
<tr>
<td>:::</td>
<td>$ - カーソル位置から行末まで削除</td>
</tr>
<tr>
<td>:::</td>
<td>d - 1行削除切り取り（カット）</td>
</tr>
<tr>
<td>/&lt;文字列&gt;</td>
<td>文字列 を検索する（順方向）</td>
</tr>
<tr>
<td>?&lt;文字列&gt;</td>
<td>文字列を検索する（逆方向）</td>
</tr>
<tr>
<td>n</td>
<td>順方向へ検索する</td>
</tr>
<tr>
<td>N</td>
<td>逆方向へ検索する</td>
</tr>
<tr>
<td>%</td>
<td>(,[に対して対応する ),] や } を検索</td>
</tr>
<tr>
<td>r</td>
<td>カーソルの下の文字を置き換える</td>
</tr>
<tr>
<td>[n] c 目的語 \ c [n] 目的語</td>
<td>目的語一覧:</td>
</tr>
<tr>
<td>:::</td>
<td>w - 単語の一部を変更する</td>
</tr>
<tr>
<td>:::</td>
<td>$ - 行の一部を変更する</td>
</tr>
<tr>
<td>:s/[old]/[new]</td>
<td>[old]を[new]に置換する</td>
</tr>
<tr>
<td>:::</td>
<td>現在行の最初の old を new に置換する :s/old/new</td>
</tr>
<tr>
<td>:::</td>
<td>現在行の全ての old を new に置換する :s/old/new/g</td>
</tr>
<tr>
<td>:::</td>
<td>2つの # 間で語句を置換する :#,#s/old/new/g</td>
</tr>
<tr>
<td>:::</td>
<td>ファイルの中の全ての検索語句を置換する: :%s/old/new/g</td>
</tr>
<tr>
<td>:::</td>
<td>‘c’ を加えると置換の度に確認を求める :%s/old/new/gc</td>
</tr>
<tr>
<td>CTRL-g</td>
<td>ファイル内での位置とファイルの状態を表示</td>
</tr>
<tr>
<td>[n] Shift-g</td>
<td>ファイル内のn行に移動（nが無ければファイル末に移動）</td>
</tr>
<tr>
<td>:sp [ファイル]</td>
<td>ウインドウを横に分割</td>
</tr>
<tr>
<td>:vs [ファイル]</td>
<td>ウインドウを縦に分割</td>
</tr>
<tr>
<td>: q , :only</td>
<td>カーソルのあるウィンドウ以外を全部閉じる</td>
</tr>
<tr>
<td>:new</td>
<td>空の横ウインドウを開く</td>
</tr>
<tr>
<td>:vnew</td>
<td>空の縦ウインドウを開く</td>
</tr>
<tr>
<td>Ctrl-w w</td>
<td>次のウインドウに移動</td>
</tr>
<tr>
<td>Ctrl-w p</td>
<td>前のウインドウに移動</td>
</tr>
<tr>
<td>Ctrl-w o</td>
<td>現在のウインドウ以外を閉じる</td>
</tr>
<tr>
<td>u</td>
<td>直前の操作を取りやめる</td>
</tr>
<tr>
<td>U</td>
<td>行全体の操作を取りやめる</td>
</tr>
<tr>
<td>Ctrl-R</td>
<td>取り消しの取り消し</td>
</tr>
<tr>
<td>.</td>
<td>直前の操作の繰り返し</td>
</tr>
<tr>
<td>:! [外部コマンド]</td>
<td>外部シェルコマンドが実行</td>
</tr>
<tr>
<td>U</td>
<td>行全体の操作を取りやめる</td>
</tr>
<tr>
<td>:set number、 :set nu</td>
<td>行番号を表示</td>
</tr>
<tr>
<td>:set no number、 :set nonu</td>
<td>行番号の表示をやめる</td>
</tr>
<tr>
<td>:set showmode</td>
<td>現在のモードを表示</td>
</tr>
<tr>
<td>:set showmatch</td>
<td>() や {} の対応を報告</td>
</tr>
<tr>
<td>:set ignorecase</td>
<td>大文字/小文字の区別なく検索</td>
</tr>
<tr>
<td>:set autoindent</td>
<td>自動インデントモード</td>
</tr>
<tr>
<td>:set noautoindent</td>
<td>自動インデントモードをやめる</td>
</tr>
<tr>
<td>:set all</td>
<td>すべてのオプションを表示</td>
</tr>
<tr>
<td>:e [ファイル]</td>
<td>ファイルを開く</td>
</tr>
<tr>
<td>:syntax on</td>
<td>キーワードをハイライト表示する</td>
</tr>
<tr>
<td>:vert diffsplit [ファイル]</td>
<td>今のファイルと、他のファイルとの差分を取るコマンド</td>
</tr>
<tr>
<td>:Tutorial</td>
<td>30分程度のVi利用方法のチュートリアル</td>
</tr>
</tbody></table>
<html>
<div id="main">
          <h1>Vimの使い方 基本操作まとめ</h1>
          <p><strong>Vim</strong>の<strong>使い方</strong>, 特に自分がよく使う<strong>基本操作</strong>をまとめてみました.</p>
          <h2>目次</h2>
          <ul class="index">
            <li><a href="#edit">編集, 保存, 終了</a></li>
            <li><a href="#move">移動系</a></li>
            <li><a href="#mode">モード変更</a></li>
            <li><a href="#del">削除, コピー</a></li>
            <li><a href="#search">検索</a></li>
            <li><a href="#undo">Undo, Redo, 繰り返し</a></li>
            <li><a href="#indent">インデント</a></li>
            <li><a href="#substitution">置換</a></li>
            <li><a href="#window">ウィンドウ操作</a></li>
            <li><a href="#tab">タブ</a></li>
            <li><a href="#increment">インクリメント, デクリメント</a></li>
            <li><a href="#attention">注意</a></li>
          </ul>
          <h2 id="edit">編集, 保存, 終了</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>:e [file]</td>
                <td>fileを開く</td>
              </tr>
              <tr class="even">
                <td>:e.</td>
                <td>エクスプローラーを開く</td>
              </tr>
              <tr class="odd">
                <td>:w</td>
                <td>保存</td>
              </tr>
              <tr class="even">
                <td>:q</td>
                <td>終了</td>
              </tr>
              <tr class="odd">
                <td>:q!</td>
                <td>保存せず終了</td>
              </tr>
              <tr class="even">
                <td>ZZ</td>
                <td>保存して終了</td>
              </tr>
              <tr class="odd">
                <td>ZQ</td>
                <td>保存せずに終了</td>
              </tr>
            </tbody>
          </table>
          <h2 id="move">移動系</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>h, j, k, l</td>
                <td>左, 下, 上, 右</td>
              </tr>
              <tr class="even">
                <td>gj, gk</td>
                <td>下, 上に1行移動. (エディタで表示されている行上で移動, つまり, エディタの横幅の制約によって行が折り返されている場合でも, 移動可能)</td>
              </tr>
              <tr class="odd">
                <td>w</td>
                <td>1単語分進む</td>
              </tr>
              <tr class="even">
                <td>W</td>
                <td>1単語分進む(記号では区切られないので, 次のスペースや, 改行文字まで飛ぶ)</td>
              </tr>
              <tr class="odd">
                <td>b</td>
                <td>1単語分戻る</td>
              </tr>
              <tr class="even">
                <td>B</td>
                <td>1単語分戻る(記号では区切られないので, 前のスペースや, 改行文字まで飛ぶ)</td>
              </tr>
              <tr class="odd">
                <td>f[文字]</td>
                <td>次の[文字]まで飛ぶ</td>
              </tr>
              <tr class="even">
                <td>F[文字]</td>
                <td>前の[文字]まで飛ぶ</td>
              </tr>
              <tr class="odd">
                <td>t[文字]</td>
                <td>次の[文字]の手前まで飛ぶ</td>
              </tr>
              <tr class="even">
                <td>T[文字]</td>
                <td>前の[文字]の次まで飛ぶ</td>
              </tr>
              <tr class="odd">
                <td>;</td>
                <td>f, F, t, Tで検索した文字を同方向に繰り返し検索する</td>
              </tr>
              <tr class="even">
                <td>,</td>
                <td>f, F, t, Tで検索した文字を逆方向に繰り返し検索する</td>
              </tr>
              <tr class="odd">
                <td>g;</td>
                <td>直前に変更した位置にカーソルを移動(繰り返し入力することで, 変更リストを遡る)</td>
              </tr>
              <tr class="even">
                <td>g,</td>
                <td><span class="code">g#</span>を使用して遡った変更リストを逆順に進め, カーソルを移動する.</td>
              </tr>
              <tr class="odd">
                <td>gg</td>
                <td>ファイルの先頭に移動</td>
              </tr>
              <tr class="even">
                <td>G</td>
                <td>ファイルの最後に移動</td>
              </tr>
              <tr class="odd">
                <td>[数値]gg, [数値]G, :[数値]</td>
                <td>[数値]行に移動</td>
              </tr>
              <tr class="even">
                <td>H, M, L</td>
                <td>画面に表示されている行について, 最初の行(H), 真ん中の行(M), 最後の行(L)に移動</td>
              </tr>
              <tr class="odd">
                <td>0</td>
                <td>行の先頭に移動</td>
              </tr>
              <tr class="even">
                <td>^</td>
                <td>行のテキスト部分の先頭に移動</td>
              </tr>
              <tr class="odd">
                <td>$</td>
                <td>行の最後に移動</td>
              </tr>
              <tr class="even">
                <td>%</td>
                <td>対応する括弧に移動</td>
              </tr>
              <tr class="odd">
                <td>(</td>
                <td>文単位での移動. 前の文の先頭に移動</td>
              </tr>
              <tr class="even">
                <td>)</td>
                <td>文単位での移動. 後ろの文の先頭に移動</td>
              </tr>
              <tr class="odd">
                <td>{</td>
                <td>段落単位での移動. 前の段落の先頭に移動</td>
              </tr>
              <tr class="even">
                <td>}</td>
                <td>段落単位での移動. 後ろの段落の先頭に移動</td>
              </tr>
              <tr class="odd">
                <td>Ctrl-u</td>
                <td>半画面分戻る</td>
              </tr>
              <tr class="even">
                <td>Ctrl-d</td>
                <td>半画面分進む</td>
              </tr>
              <tr class="odd">
                <td>Ctrl-b</td>
                <td>1画面分戻る</td>
              </tr>
              <tr class="even">
                <td>Ctrl-f</td>
                <td>1画面分進む</td>
              </tr>
              <tr class="odd">
                <td>Ctrl-o</td>
                <td>ジャンプリストを遡ってカーソルを移動する(検索や行数指定移動などがジャンプリストに保存されている)</td>
              </tr>
              <tr class="even">
                <td>Ctrl-i</td>
                <td>ジャンプリストを進めてカーソルを移動する(検索や行数指定移動などがジャンプリストに保存されている)</td>
              </tr>
              <tr class="odd">
                <td></td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <h2 id="mode">モード変更</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>esc</td>
                <td>ノーマルモードに戻る</td>
              </tr>
              <tr class="even">
                <td>Ctrl-[</td>
                <td>ノーマルモードに戻る</td>
              </tr>
              <tr class="odd">
                <td>i</td>
                <td>カーソル位置からインサートモードに入る</td>
              </tr>
              <tr class="even">
                <td>a</td>
                <td>カーソルの直後からインサートモードに入る</td>
              </tr>
              <tr class="odd">
                <td>I</td>
                <td>行頭からインサートモードに入る</td>
              </tr>
              <tr class="even">
                <td>A</td>
                <td>行末からインサートモードに入る</td>
              </tr>
              <tr class="odd">
                <td>Ctrl-o(インサートモード中に)</td>
                <td>インサートノーマルモードに入る(インサートモード中に1コマンドのみノーマルモードのコマンドを使用できる)</td>
              </tr>
              <tr class="even">
                <td>v</td>
                <td>ビジュアルモードに入る</td>
              </tr>
              <tr class="odd">
                <td>V</td>
                <td>行単位の選択をするビジュアルモードに入る</td>
              </tr>
              <tr class="even">
                <td>Ctrl-v</td>
                <td>矩形選択をするビジュアルモードに入る</td>
              </tr>
              <tr class="odd">
                <td>gv</td>
                <td>前回選択した範囲が再選択された状態でビジュアルモードに入る</td>
              </tr>
              <tr class="even">
                <td>:</td>
                <td>コマンドラインモードに入る(続けてコマンドを打ち, Enterで実行)</td>
              </tr>
              <tr class="odd">
                <td></td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <p>矩形選択の使い方については, <a href="visual_block.html">｢矩形選択モードの使い方｣</a>でも解説していますので, よろしければ参考になさってください.</p>
          <h2 id="del">削除, コピー</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>x</td>
                <td>カーソル上の文字を消す</td>
              </tr>
              <tr class="even">
                <td>s</td>
                <td>カーソル上の文字を消して, インサートモードに入る</td>
              </tr>
              <tr class="odd">
                <td>dd</td>
                <td>カーソルがある行を消す</td>
              </tr>
              <tr class="even">
                <td>dw</td>
                <td>カーソル位置から1単語分削除する</td>
              </tr>
              <tr class="odd">
                <td>diw</td>
                <td>カーソル位置にある単語を1つ削除する</td>
              </tr>
              <tr class="even">
                <td>dt(</td>
                <td>カーソル位置から, 次に最初に出現する<span class="code">(</span>までを削除する</td>
              </tr>
              <tr class="odd">
                <td>cc</td>
                <td>カーソルがある行を消して, インサートモードに入る</td>
              </tr>
              <tr class="even">
                <td>cw</td>
                <td>カーソル位置から1単語分削除して, インサートモードに入る</td>
              </tr>
              <tr class="odd">
                <td>ciw</td>
                <td>カーソル位置にある単語を1つ削除して, インサートモードに入る</td>
              </tr>
              <tr class="even">
                <td>ct(</td>
                <td>カーソル位置から, 次に最初に出現する<span class="code">(</span>までを削除して, インサートモードに入る</td>
              </tr>
              <tr class="odd">
                <td>D</td>
                <td>カーソル位置から行末まで削除</td>
              </tr>
              <tr class="even">
                <td>C</td>
                <td>カーソル位置から行末まで削除して, インサートモードに入る</td>
              </tr>
              <tr class="odd">
                <td>yy</td>
                <td>カーソルがある行をコピー</td>
              </tr>
              <tr class="even">
                <td>y</td>
                <td>ビジュアルモードで選択されている部分をコピー</td>
              </tr>
              <tr class="odd">
                <td>p</td>
                <td>カーソル行の下の行にペースト</td>
              </tr>
              <tr class="even">
                <td>P</td>
                <td>カーソル行の上の行にペースト</td>
              </tr>
              <tr class="odd">
                <td>Ctrl-r 0(ゼロ)(インサートモード中に)</td>
                <td>レジスタ0に保存されている文字列を貼り付ける. 通常, yを使用してコピーした文字列は, レジスタ0に保存される.</td>
              </tr>
              <!-- <tr>
                <td></td>
                <td></td>
              </tr> -->
            </tbody>
          </table>
          <h2 id="search">検索</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>/</td>
                <td>続けて文字を打ち, Enterで文字列を確定し, 後方検索をかける</td>
              </tr>
              <tr class="even">
                <td>?</td>
                <td>続けて文字を打ち, Enterで文字列を確定し, 前方検索をかける</td>
              </tr>
              <tr class="odd">
                <td>*</td>
                <td>カーソル下の単語を, 後方検索する</td>
              </tr>
              <tr class="even">
                <td>#</td>
                <td>カーソル下の単語を, 前方検索する</td>
              </tr>
              <tr class="odd">
                <td>g*</td>
                <td>カーソル下の単語を含む文字列を, 後方検索する</td>
              </tr>
              <tr class="even">
                <td>g#</td>
                <td>カーソル下の単語を含む文字列を, 前方検索する</td>
              </tr>
              <tr class="odd">
                <td>n</td>
                <td>次の単語に移る</td>
              </tr>
              <tr class="even">
                <td>N</td>
                <td>前の単語に移る</td>
              </tr>
              <tr class="odd">
                <td></td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <h2 id="undo">Undo, Redo, 繰り返し</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>u</td>
                <td>Undo</td>
              </tr>
              <tr class="even">
                <td>Ctrl-r</td>
                <td>Redo</td>
              </tr>
              <tr class="odd">
                <td>.</td>
                <td>直前の操作の繰り返し</td>
              </tr>
            </tbody>
          </table>
          <p>Vimでコマンドを繰り返したいときに非常に便利な機能として, <span class="code">マクロ</span>があります. 任意のコマンドを記憶させて, それをいつでも繰り返せるようにできるというものです. 使い方を｢<a href="macro.html">Vimのマクロの使い方</a>｣, マクロを使った便利操作の一例を｢<a href="serno.html">Vimでマクロを使って連番の文を簡単に入力する方法</a>｣で解説しておりますので, よろしければ参考になさって下さい.</p>
          <h2 id="indent">インデント</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>=</td>
                <td>カーソルがある行をインデント. ビジュアルモードで範囲を選択していれば, その範囲をインデント</td>
              </tr>
              <tr class="even">
                <td>&gt;&gt;</td>
                <td>インデントを追加</td>
              </tr>
              <tr class="odd">
                <td>&lt;&lt;</td>
                <td>インデントを削除</td>
              </tr>
            </tbody>
          </table>
          <h2 id="substitution">置換</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>r[文字]</td>
                <td>カーソル上の文字を[文字]に置換</td>
              </tr>
              <tr class="even">
                <td>:%s/before/after/g</td>
                <td>ファイル上の全ての"before"を"after"に置換</td>
              </tr>
              <tr class="odd">
                <td>:s/before/after/g</td>
                <td>カーソルの行の全ての"before"を"after"に置換</td>
              </tr>
              <tr class="even">
                <td>:10,20s/before/after/g</td>
                <td>10~20行目の全ての"before"を"after"に置換</td>
              </tr>
              <tr class="odd">
                <td>:'&lt;,'&gt;s/before/after/g</td>
                <td>ビジュアルモードで選択中の範囲の全ての"before"を"after"に置換. " '&lt;,'&gt; "の部分は, 範囲を選択中に":"を押すと自動的に出ます.</td>
              </tr>
            </tbody>
          </table>
          <p>置換については, <a href="substitution.html">｢Vimの置換コマンドの使い方｣</a>でも解説していますので, よろしければ参考になさってください.</p>
          <h2 id="window">ウィンドウ操作</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>:sp [file]</td>
                <td>ウィンドウを横に分割し, fileを開く(file名はなくても良い)</td>
              </tr>
              <tr class="even">
                <td>:vs [file]</td>
                <td>ウィンドウを縦に分割し, fileを開く(file名はなくても良い)</td>
              </tr>
              <tr class="odd">
                <td>Ctrl-w s</td>
                <td>ウィンドウを横に分割する</td>
              </tr>
              <tr class="even">
                <td>Ctrl-w v</td>
                <td>ウィンドウを縦に分割する</td>
              </tr>
              <tr class="odd">
                <td>:only</td>
                <td>カーソルのあるウィンドウ以外閉じる</td>
              </tr>
              <tr class="even">
                <td>Ctrl-w o</td>
                <td>カーソルのあるウィンドウ以外閉じる</td>
              </tr>
              <tr class="odd">
                <td>Ctrl-w w</td>
                <td>次のウィンドウに移動</td>
              </tr>
              <tr class="even">
                <td>Ctrl-w p</td>
                <td>前のウィンドウに移動</td>
              </tr>
              <tr class="odd">
                <td>Ctrl-w h, j, k, l</td>
                <td>左, 下, 上, 右のウィンドウに移動する</td>
              </tr>
              <tr class="even">
                <td>Ctrl-w H, J, K, L</td>
                <td>カーソルがあるウィンドウを左, 下, 上, 右方向に移動する</td>
              </tr>
              <tr class="odd">
                <td></td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <h2 id="tab">タブ</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>:tabnew [file]</td>
                <td>新しいタブを開く. ファイル名を入力した場合は, そのファイルを開く</td>
              </tr>
              <tr class="even">
                <td>:tabclose</td>
                <td>タブを閉じる(<span class="code">:q</span>などでも閉じられます)</td>
              </tr>
              <tr class="odd">
                <td>:tabnext</td>
                <td>次のタブに移動する</td>
              </tr>
              <tr class="even">
                <td>:tabprevious</td>
                <td>前のタブに移動する</td>
              </tr>
              <tr class="odd">
                <td>:tabfirst</td>
                <td>1番目のタブに移動する</td>
              </tr>
              <tr class="even">
                <td>:tablast</td>
                <td>最後のタブに移動する</td>
              </tr>
              <tr class="odd">
                <td>:tabonly</td>
                <td>現在のタブ以外全てのタブを閉じる</td>
              </tr>
              <tr class="even">
                <td>gt</td>
                <td>次のタブに移動する. gtの直前に数字をつけると, 数字番目のタブに移動する</td>
              </tr>
              <tr class="odd">
                <td>gT</td>
                <td>一つ前のタブに移動する</td>
              </tr>
            </tbody>
          </table>
          <h2 id="increment">インクリメント, デクリメント</h2>
          <table>
            <thead>
              <tr class="even">
                <th>コマンド</th>
                <th>動作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="odd">
                <td>Ctrl-a</td>
                <td>カーソル行上で, カーソル以降の最初に出現した数字をインクリメント</td>
              </tr>
              <tr class="even">
                <td>Ctrl-x</td>
                <td>カーソル行上で, カーソル以降の最初に出現した数字をデクリメント</td>
              </tr>
            </tbody>
          </table>
          <p>カーソル下に数字がなくても使用できるため, 移動にも使えます.</p>
          <h2 id="attention">注意</h2>
          <p>主にいつも使っているコマンドをまとめてみました. 多くのコマンドは, 直前に数字などを組み合わせて使うことができます. 例えば, 3ddとすれば3行削除できます. 10iでインサートモードに入って, 文字を入力した後にノーマルモードにもどれは, 入力した文字が10個分入力されます. あと, ここに書いてある以外にもたくさんコマンドはありますので, あしからず.</p>
        </div>
</html>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lyvivian0077.github.io/2017/09/13/megacli/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyvivian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="总有刁民想要害朕">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/09/13/megacli/" class="post-title-link" itemprop="url">Megacliの基本操作</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-09-13 18:11:20" itemprop="dateCreated datePublished" datetime="2017-09-13T18:11:20+09:00">2017-09-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-22 12:58:45" itemprop="dateModified" datetime="2021-06-22T12:58:45+09:00">2021-06-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/main/" itemprop="url" rel="index"><span itemprop="name">main</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[StorCLI_RefMan_revf PDF](/assets/StorCLI_RefMan_revf.pdf)</p>
<h3 id="Smart表"><a href="#Smart表" class="headerlink" title="Smart表"></a>Smart表</h3><table>
<thead>
<tr>
<th>項目ID</th>
<th>項目名</th>
<th>詳細な説明</th>
</tr>
</thead>
<tbody><tr>
<td>01</td>
<td>Raw Read Error Rate</td>
<td>この項目はハードディスクからデータを読み込む時に発生したエラーの割合を表す。数値が閾値より低い場合、ハードディスク内の磁気ディスクまたは磁気ヘッドに異常がある。</td>
</tr>
<tr>
<td>05</td>
<td>Reallocated Sectors Count</td>
<td>代替処置（データを特別に予約した予備エリアに移動する）を施された不良セクタの数。</td>
</tr>
<tr>
<td>C5(197)</td>
<td>Current Pending Sector Count</td>
<td>現在異常があり、代替処理を待つセクタの総数。もし後で読み込みに成功したセクタがあれば、この値は減少する。</td>
</tr>
<tr>
<td>C6(198)</td>
<td>Off-Line Scan Uncorrectable Sector Count</td>
<td>オフラインスキャン時に発見された、回復不可能なセクタの総数。この値が増加する場合は、磁気ディスクの表面に明確な問題がある。</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Media Error代表扇区有问题，坏道等；</span><br><span class="line">Other Error代表磁盘可能有松动。</span><br><span class="line"></span><br><span class="line">Media Error Count: 0</span><br><span class="line">Other Error Count: 0</span><br></pre></td></tr></table></figure>

<h3 id="MegaRAIDが認識しているHDDを全表示する方法"><a href="#MegaRAIDが認識しているHDDを全表示する方法" class="headerlink" title="MegaRAIDが認識しているHDDを全表示する方法"></a>MegaRAIDが認識しているHDDを全表示する方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo MegaCli64 -PDList -aALL</span><br><span class="line">$ sudo MegaCli64 -CfgDsply -aALL   ← RAIDカードも表示する。</span><br></pre></td></tr></table></figure>


<h3 id="HDDをリビルドする手順"><a href="#HDDをリビルドする手順" class="headerlink" title="HDDをリビルドする手順"></a>HDDをリビルドする手順</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">1.</span><br><span class="line">#対象ディスクのオフライン</span><br><span class="line">/opt/MegaRAID/MegaCli/MegaCli64 -PDOffline -PhysDrv[252:0] -a0</span><br><span class="line">Adapter: 0: EnclId-252 SlotId-0 state changed to OffLine.</span><br><span class="line">Exit Code: 0x00</span><br><span class="line"></span><br><span class="line">2.</span><br><span class="line">#status確認</span><br><span class="line">/opt/MegaRAID/MegaCli/MegaCli64 -PDList -a0 | less</span><br><span class="line">Firmware state: Offline  ←　offlineになってる。</span><br><span class="line"></span><br><span class="line">3.</span><br><span class="line">#対象のディスクにmissing markつける</span><br><span class="line">/opt/MegaRAID/MegaCli/MegaCli64 -PDMarkMissing -PhysDrv[252:0] -a0</span><br><span class="line">EnclId-252 SlotId-0 is marked Missing.</span><br><span class="line">Exit Code: 0x00</span><br><span class="line"></span><br><span class="line">4.</span><br><span class="line">#missing markのついたdiskの確認</span><br><span class="line">/opt/MegaRAID/MegaCli/MegaCli64 -PDGetMissing -aALL</span><br><span class="line">    Adapter 0 - Missing Physical drives</span><br><span class="line">    No.   Array   Row   Size Expected</span><br><span class="line">    0     0       0     1907200 MB</span><br><span class="line"></span><br><span class="line">5.</span><br><span class="line">#削除前の準備</span><br><span class="line">/opt/MegaRAID/MegaCli/MegaCli64 -PDPrpRmv -PhysDrv[252:0] -a0</span><br><span class="line">Prepare for removal Success</span><br><span class="line">Exit Code: 0x00</span><br><span class="line"></span><br><span class="line">6.</span><br><span class="line">#Missing markの状態変更</span><br><span class="line">/opt/MegaRAID/MegaCli/MegaCli64 -PDReplaceMissing -PhysDrv[252:0] -Array1 -row0 -a0</span><br><span class="line"> </span><br><span class="line">7.</span><br><span class="line">#Rebuildスタート</span><br><span class="line">/opt/MegaRAID/MegaCli/MegaCli64 -PDRbld -Start -PhysDrv[252:0] -a0</span><br><span class="line"></span><br><span class="line">8.</span><br><span class="line">#状態確認</span><br><span class="line">/opt/MegaRAID/MegaCli/MegaCli64 -PDList -a0 | less</span><br><span class="line">Firmware state: Rebuild   ← rebuildのステータスになった</span><br><span class="line"></span><br><span class="line">9.</span><br><span class="line">#Rebuildの状況確認</span><br><span class="line">/opt/MegaRAID/MegaCli/MegaCli64 -PDRbld -showprog -physdrv[252:0] -a0</span><br><span class="line">Rebuild Progress on Device at Enclosure 252, Slot 0 Completed 4% in 11 Minutes.</span><br><span class="line">Exit Code: 0x00</span><br></pre></td></tr></table></figure>

<h3 id="RAIDが冗長になっている事を確認する方法"><a href="#RAIDが冗長になっている事を確認する方法" class="headerlink" title="RAIDが冗長になっている事を確認する方法"></a>RAIDが冗長になっている事を確認する方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo MegaCli64 -LDInfo -Lall -aALL</span><br><span class="line">$ sudo MegaCli64 -LDInfo -Lall -aALL | grep -i state</span><br></pre></td></tr></table></figure>

<p>①◆ State: Optimal を確認 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for i in $(sudo /usr/local/sbin/MegaCli -PDList -aALL -NoLog | grep &#x27;Device Id&#x27; | awk &#x27;&#123; print $NF &#125;&#x27;) ; do echo &quot;===== Device Id $i =====&quot; ; sudo /usr/sbin/smartctl -a -d</span><br><span class="line">sat+megaraid,$i /dev/sda | egrep &#x27;</span><br><span class="line">^(Ser|  [15]|19[78]|#)&#x27; ; echo ; done</span><br></pre></td></tr></table></figure>

<h3 id="Display-Virtual-Drive-Information"><a href="#Display-Virtual-Drive-Information" class="headerlink" title="Display Virtual Drive Information"></a>Display Virtual Drive Information</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">root@www101v:~# MegaCli64 -LDInfo -Lall -aALL </span><br><span class="line">                                     </span><br><span class="line"></span><br><span class="line">Adapter 0 -- Virtual Drive Information:</span><br><span class="line">Virtual Disk: 0 (Target Id: 0)</span><br><span class="line">Name:</span><br><span class="line">RAID Level: Primary-1, Secondary-0, RAID Level Qualifier-0</span><br><span class="line">Size:931.0 GB</span><br><span class="line">State: Degraded    &lt;-- ここ</span><br><span class="line">Stripe Size: 64 KB</span><br><span class="line">Number Of Drives:2</span><br><span class="line">Span Depth:1</span><br><span class="line">Default Cache Policy: WriteBack, ReadAheadNone, Cached, Write Cache OK if Bad BBU</span><br><span class="line">Current Cache Policy: WriteBack, ReadAheadNone, Cached, Write Cache OK if Bad BBU</span><br><span class="line">Access Policy: Read/Write</span><br><span class="line">Disk Cache Policy: Enabled</span><br><span class="line">Encryption Type: None</span><br><span class="line">Bad Blocks Exist: No</span><br><span class="line"></span><br><span class="line">Exit Code: 0x00</span><br></pre></td></tr></table></figure>

<h3 id="Display-Drive-Information"><a href="#Display-Drive-Information" class="headerlink" title="Display Drive Information"></a>Display Drive Information</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">root@www101v:~# MegaCli64 -PDList -aALL</span><br><span class="line">                                     </span><br><span class="line">Adapter #0</span><br><span class="line"></span><br><span class="line">Enclosure Device ID: 252</span><br><span class="line">Slot Number: 0</span><br><span class="line">Device Id: 2</span><br><span class="line">Sequence Number: 2</span><br><span class="line">Media Error Count: 0</span><br><span class="line">Other Error Count: 0</span><br><span class="line">Predictive Failure Count: 0</span><br><span class="line">Last Predictive Failure Event Seq Number: 0</span><br><span class="line">PD Type: SATA</span><br><span class="line">Raw Size: 931.512 GB [0x74706db0 Sectors]</span><br><span class="line">Non Coerced Size: 931.012 GB [0x74606db0 Sectors]</span><br><span class="line">Coerced Size: 931.0 GB [0x74600000 Sectors]</span><br><span class="line">Firmware state: Online, Spun Up</span><br><span class="line">SAS Address(0): 0x4433221103000000</span><br><span class="line">Connected Port Number: 0(path0) </span><br><span class="line">Inquiry Data:      WD-WMATV5217983WDC WD1002FBYS-50A6B0                   03.00C09</span><br><span class="line">FDE Capable: Not Capable</span><br><span class="line">FDE Enable: Disable</span><br><span class="line">Secured: Unsecured</span><br><span class="line">Locked: Unlocked</span><br><span class="line">Foreign State: None </span><br><span class="line">Device Speed: 3.0Gb/s </span><br><span class="line">Link Speed: 3.0Gb/s </span><br><span class="line">Media Type: Hard Disk Device</span><br><span class="line">Drive:  Not Certified</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Rebuild-進捗確認"><a href="#Rebuild-進捗確認" class="headerlink" title="Rebuild 進捗確認"></a>Rebuild 進捗確認</h3><ul>
<li>静的</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@www101v:~# MegaCli64 -PDRbld -ShowProg -PhysDrv[252:1] -aALL</span><br><span class="line">                                     </span><br><span class="line">Rebuild Progress on Device at Enclosure 252, Slot 1 Completed 16% in 24 Minutes.</span><br><span class="line"></span><br><span class="line">Exit Code: 0x00</span><br></pre></td></tr></table></figure>

<ul>
<li>Real Time</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@www101v:~# MegaCli64 -PDRbld -ProgDsply -PhysDrv[252:1] -aALL</span><br><span class="line">      Rebuild progress of physical drives...</span><br><span class="line">                                            </span><br><span class="line">  Enclosure:Slot               Percent Complete                       Time Elps</span><br><span class="line">       252 :01     ########***************17 %*********************** 00:26:56 </span><br><span class="line">                                                                              </span><br><span class="line">    Press &lt;ESC&gt; key to quit...</span><br></pre></td></tr></table></figure>

<h3 id="キャッシュ設定方法"><a href="#キャッシュ設定方法" class="headerlink" title="キャッシュ設定方法"></a>キャッシュ設定方法</h3><p> RAIDカードの書き込みキャッシュの設定 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">＜Write スルー＞</span><br><span class="line">MegaCli -LDSetProp WT -Lall -Aall</span><br><span class="line">＜Write バック＞</span><br><span class="line">MegaCli -LDSetProp WB -Lall -Aall</span><br></pre></td></tr></table></figure>

<p>  RAIDカードの読み込みキャッシュの設定 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">＜No read ahead＞</span><br><span class="line">MegaCli -LDSetProp NORA -Lall -Aall</span><br><span class="line">＜Read ahead＞</span><br><span class="line">MegaCli -LDSetProp RA -Lall -Aall</span><br><span class="line">＜Adaptive read ahead＞</span><br><span class="line">MegaCli -LDSetProp ADRA -Lall -Aall</span><br></pre></td></tr></table></figure>

<p>  RAIDカードのキャッシュポリシーの設定 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">＜Chached＞</span><br><span class="line">MegaCli -LDSetProp -Cached -Lall -aALL</span><br><span class="line">＜Direct＞</span><br><span class="line">MegaCli -LDSetProp -Direct -Lall -aALL</span><br></pre></td></tr></table></figure>

<p>  BBUユニットが不良の場合に書き込みキャッシュを使うかどうか </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">＜CachedBadBBU：書き込みキャッシュ有効＞</span><br><span class="line">MegaCli  -LDSetProp -CachedBadBBU -Lall -Aall</span><br><span class="line">＜NoCachedBadBBU：書き込みキャッシュ無効＞</span><br><span class="line">MegaCli  -LDSetProp -NoCachedBadBBU -Lall -Aall</span><br></pre></td></tr></table></figure>

<p>  ドライブのキャッシュを有効にするかどうか </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">＜Enables drive cache：有効＞</span><br><span class="line">MegaCli -LDSetProp -EnDskCache -Lall -Aall</span><br><span class="line">＜Disables drive cache：無効＞</span><br><span class="line">MegaCli -LDSetProp -DisDskCache -Lall -Aall</span><br></pre></td></tr></table></figure>

<p> キャッシュ設定確認方法</p>
<ul>
<li> RAIDカードのキャッシュ設定確認 </li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># MegaCli -LDGetProp -Cache -Lall -aALL</span><br><span class="line"></span><br><span class="line">Adapter 0-VD 0(target id: 0): Cache Policy:WriteThrough, ReadAheadNone, Direct, No Write Cache if bad BBU</span><br><span class="line"></span><br><span class="line">Exit Code: 0x00</span><br></pre></td></tr></table></figure>

<ul>
<li> ドライブのキャッシュ設定確認 </li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># MegaCli -LDGetProp -DskCache -Lall -aALL</span><br><span class="line"></span><br><span class="line">Adapter 0-VD 0(target id: 0): Disk Write Cache : Disabled</span><br><span class="line"></span><br><span class="line">Exit Code: 0x00</span><br></pre></td></tr></table></figure>

<h3 id="Fwtermlogを表示する方法-grep-Rebuild"><a href="#Fwtermlogを表示する方法-grep-Rebuild" class="headerlink" title="Fwtermlogを表示する方法 | grep Rebuild"></a>Fwtermlogを表示する方法 | grep Rebuild</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[iadmin@xxxx ~]$ sudo MegaCli64 -Fwtermlog -Dsply -aall | grep Rebuild</span><br><span class="line">T5:     disableAutoRebuild=0, disableBatteryWarning=0, eccBucketSize=ff</span><br><span class="line">02/01/15  6:05:01: EVT#02934-02/01/15  6:05:01: 106=Rebuild automatically started on PD 01(e0x20/s1)</span><br><span class="line">02/01/15  6:05:03: prDiskCheckOkToRun: PR cannot run on this pd=0 since this array=1 has a PD in REBUILD state Rebuilding</span><br><span class="line">02/01/15  7:43:01: EVT#02936-02/01/15  7:43:01: 103=Rebuild progress on PD 01(e0x20/s1) is 0.99%(5880s)</span><br><span class="line">02/01/15  9:21:28: EVT#02937-02/01/15  9:21:28: 103=Rebuild progress on PD 01(e0x20/s1) is 1.99%(11787s)</span><br><span class="line">02/01/15 10:59:38: EVT#02938-02/01/15 10:59:38: 103=Rebuild progress on PD 01(e0x20/s1) is 2.99%(17677s)</span><br><span class="line">02/01/15 12:37:13: EVT#02939-02/01/15 12:37:13: 103=Rebuild progress on PD 01(e0x20/s1) is 3.99%(23532s)</span><br><span class="line">02/01/15 14:15:49: EVT#02940-02/01/15 14:15:49: 103=Rebuild progress on PD 01(e0x20/s1) is 4.99%(29448s)</span><br><span class="line">02/01/15 15:54:18: EVT#02941-02/01/15 15:54:18: 103=Rebuild progress on PD 01(e0x20/s1) is 5.99%(35357s)</span><br><span class="line">02/01/15 17:31:16: EVT#02942-02/01/15 17:31:16: 103=Rebuild progress on PD 01(e0x20/s1) is 6.99%(41175s)</span><br><span class="line">02/01/15 19:07:32: EVT#02943-02/01/15 19:07:32: 103=Rebuild progress on PD 01(e0x20/s1) is 7.99%(46951s)</span><br><span class="line">02/01/15 20:44:02: EVT#02944-02/01/15 20:44:02: 103=Rebuild progress on PD 01(e0x20/s1) is 8.99%(52741s)</span><br><span class="line">02/01/15 22:20:47: EVT#02945-02/01/15 22:20:47: 103=Rebuild progress on PD 01(e0x20/s1) is 9.99%(58546s)</span><br><span class="line">02/01/15 23:57:46: EVT#02946-02/01/15 23:57:46: 103=Rebuild progress on PD 01(e0x20/s1) is 10.99%(64365s)</span><br><span class="line">02/02/15  1:35:11: EVT#02947-02/02/15  1:35:11: 103=Rebuild progress on PD 01(e0x20/s1) is 11.99%(4674s)</span><br><span class="line">02/02/15  3:12:39: EVT#02948-02/02/15  3:12:39: 103=Rebuild progress on PD 01(e0x20/s1) is 12.99%(10522s)</span><br><span class="line">02/02/15  4:49:15: EVT#02949-02/02/15  4:49:15: 103=Rebuild progress on PD 01(e0x20/s1) is 13.99%(16318s)</span><br><span class="line">02/02/15  6:26:01: EVT#02950-02/02/15  6:26:01: 103=Rebuild progress on PD 01(e0x20/s1) is 14.99%(22124s)</span><br><span class="line">02/02/15  8:02:22: EVT#02951-02/02/15  8:02:22: 103=Rebuild progress on PD 01(e0x20/s1) is 15.99%(27905s)</span><br><span class="line">02/02/15  9:39:34: EVT#02952-02/02/15  9:39:34: 103=Rebuild progress on PD 01(e0x20/s1) is 16.99%(33737s)</span><br><span class="line">02/02/15 11:16:58: EVT#02953-02/02/15 11:16:58: 103=Rebuild progress on PD 01(e0x20/s1) is 17.99%(39581s)</span><br><span class="line">02/02/15 12:54:33: EVT#02954-02/02/15 12:54:33: 103=Rebuild progress on PD 01(e0x20/s1) is 18.98%(45436s)</span><br><span class="line">02/02/15 14:24:59: EVT#02955-02/02/15 14:24:59: 103=Rebuild progress on PD 01(e0x20/s1) is 19.98%(50862s)</span><br><span class="line">02/02/15 16:02:28: EVT#02956-02/02/15 16:02:28: 103=Rebuild progress on PD 01(e0x20/s1) is 20.98%(56711s)</span><br><span class="line">02/02/15 17:39:07: EVT#02957-02/02/15 17:39:07: 103=Rebuild progress on PD 01(e0x20/s1) is 21.98%(62510s)</span><br></pre></td></tr></table></figure>

<h3 id="“-Slot-Number-Firmware-state-Inquiry-Data-Raw-Size-Device-Id”-を表示する"><a href="#“-Slot-Number-Firmware-state-Inquiry-Data-Raw-Size-Device-Id”-を表示する" class="headerlink" title="“^Slot Number|^Firmware state|^Inquiry Data|^Raw Size|^Device Id” を表示する"></a>“^Slot Number|^Firmware state|^Inquiry Data|^Raw Size|^Device Id” を表示する</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu14:/home/lyvivian# megacli -PDList -aALL | egrep &quot;^Slot Number|^Firmware state|^Inquiry Data|^Raw Size|^Device Id&quot;</span><br><span class="line">Slot Number: 0                                                                                                                                                                                                                               </span><br><span class="line">Device Id: 6                                                                                                                                                                                                                                 </span><br><span class="line">Raw Size: 465.761 GB [0x3a386030 Sectors]                                                                                                                                                                                                    </span><br><span class="line">Firmware state: Online, Spun Up                                                                                                                                                                                                              </span><br><span class="line">Inquiry Data: S313J9FF103173      ST500LM012 HN-M500MBB                   2BA30010                                                                                                                                                           </span><br><span class="line">Slot Number: 1                                                                                                                                                                                                                               </span><br><span class="line">Device Id: 5                                                                                                                                                                                                                                 </span><br><span class="line">Raw Size: 29.843 GB [0x3bb0000 Sectors]                                                                                                                                                                                                      </span><br><span class="line">Firmware state: Online, Spun Up                                                                                                                                                                                                              </span><br><span class="line">Inquiry Data: 00257465041E        TS32GSSD25S-M                           V090216                                                                                                                                                            </span><br><span class="line">Slot Number: 2                                                                                                                                                                                                                               </span><br><span class="line">Device Id: 4                                                                                                                                                                                                                                 </span><br><span class="line">Raw Size: 298.090 GB [0x2542eab0 Sectors]                                                                                                                                                                                                    </span><br><span class="line">Firmware state: Online, Spun Up                                                                                                                                                                                                              </span><br><span class="line">Inquiry Data:      WD-WXE508HD9898WDC WD3200BEVT-75ZCT1                   11.01A11                                                                                                                                                           </span><br><span class="line">Slot Number: 3                                                                                                                                                                                                                               </span><br><span class="line">Device Id: 11                                                                                                                                                                                                                                </span><br><span class="line">Raw Size: 59.625 GB [0x7740ab0 Sectors]                                                                                                                                                                                                      </span><br><span class="line">Firmware state: Online, Spun Up                                                                                                                                                                                                              </span><br><span class="line">Inquiry Data: 0000000011210310A638M4-CT064M4SSD2                          000F                                                                                                                                                               </span><br><span class="line">Slot Number: 4                                                                                                                                                                                                                               </span><br><span class="line">Device Id: 7                                                                                                                                                                                                                                 </span><br><span class="line">Raw Size: 1.819 TB [0xe8e088b0 Sectors]                                                                                                                                                                                                      </span><br><span class="line">Firmware state: Online, Spun Up                                                                                                                                                                                                              </span><br><span class="line">Inquiry Data:      WD-WCC1T0228569WDC WD20EZRX-00DC0B0                    80.00A80                                                                                                                                                           </span><br><span class="line">Slot Number: 5                                                                                                                                                                                                                               </span><br><span class="line">Device Id: 9                                                                                                                                                                                                                                 </span><br><span class="line">Raw Size: 1.819 TB [0xe8e088b0 Sectors]                                                                                                                                                                                                      </span><br><span class="line">Firmware state: Online, Spun Up                                                                                                                                                                                                              </span><br><span class="line">Inquiry Data:      WD-WMC301755889WDC WD20EZRX-00DC0B0                    80.00A80                                                                                                                                                           </span><br><span class="line">Slot Number: 6                                                                                                                                                                                                                               </span><br><span class="line">Device Id: 8                                                                                                                                                                                                                                 </span><br><span class="line">Raw Size: 1.819 TB [0xe8e088b0 Sectors]                                                                                                                                                                                                      </span><br><span class="line">Firmware state: Online, Spun Up                                                                                                                                                                                                              </span><br><span class="line">Inquiry Data:      WD-WMC301755597WDC WD20EZRX-00DC0B0                    80.00A80                                                                                                                                                           </span><br><span class="line">Slot Number: 7                                                                                                                                                                                                                               </span><br><span class="line">Device Id: 10                                                                                                                                                                                                                                </span><br><span class="line">Raw Size: 1.819 TB [0xe8e088b0 Sectors]                                                                                                                                                                                                      </span><br><span class="line">Firmware state: Online, Spun Up                                                                                                                                                                                                              </span><br><span class="line">Inquiry Data:      WD-WMC301744569WDC WD20EZRX-00DC0B0                    80.00A80                                                                                                                                                           </span><br><span class="line">root@ubuntu14:/home/lyvivian# </span><br></pre></td></tr></table></figure>


<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /opt/MegaRAID/storcli</span><br><span class="line"># ./storcli64 </span><br></pre></td></tr></table></figure>

<ul>
<li><p>information about every controller</p>
<ul>
<li><code>./storcli64 show</code></li>
</ul>
</li>
<li><p>informations to selected controller and its configuration</p>
<ul>
<li><code>./storcli64 /c0 show</code></li>
</ul>
</li>
<li><p>informations to the available hard drives and their current state (Serial Number, temperature )</p>
<ul>
<li><code>./storcli64 /c0 /eall /sall show [all]</code></li>
</ul>
</li>
<li><p>informations to the available virtual drives and their current state.</p>
<ul>
<li><code>./storcli64 /c0 /vall show [all]</code></li>
</ul>
</li>
<li><p>show the progress of ongoing rebuilds</p>
<ul>
<li><code>./storcli64 /c0 /eall /sall show rebuild</code></li>
</ul>
</li>
<li><p>create a RAID 1</p>
<ul>
<li><code>./storcli64 /c0 add vd type=raid1 size=10gb names=tmp1 drives=0:2-3</code></li>
</ul>
</li>
<li><p>create a RAID 5</p>
<ul>
<li><code>./storcli64 /c0 add vd type=raid5 size=10gb names=tmp1 drives=0:2-6</code></li>
</ul>
</li>
<li><p>create a RAID 6</p>
<ul>
<li><code>./storecli64 /c0 add vd type=raid6 size=10gb names=tmp1 drives=0:2-7</code></li>
</ul>
</li>
<li><p>create a RAID 10</p>
<ul>
<li><code>./storecli64 /c0 add vd type=raid10 size=2gb,3gb,4gb names=tmp1,tmp2,tmp3 drives=0:2-3,5,7 pdperarray=2</code></li>
</ul>
</li>
</ul>
<h2 id="Manual"><a href="#Manual" class="headerlink" title="Manual"></a>Manual</h2><p>There is a manual with all the usable parameters provided by avagotech (the succsessor of the producer LSI) to be found here.</p>
<h3 id="controller-overview-in-detail"><a href="#controller-overview-in-detail" class="headerlink" title="controller overview in detail"></a>controller overview in detail</h3><p>information regarding every controller</p>
<ul>
<li><p><code>./storecli64 show</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># ./storcli64 show</span><br><span class="line"></span><br><span class="line">... SNIPP ...</span><br><span class="line"></span><br><span class="line">System Overview :</span><br><span class="line">===============</span><br><span class="line">---------------------------------------------------------------------------------------------------</span><br><span class="line">Ctl Model                                  Ports PDs DGs DNOpt VDs VNOpt BBU sPR DS  EHS ASOs Hlth </span><br><span class="line">---------------------------------------------------------------------------------------------------</span><br><span class="line">  0 Intel(R)IntegratedRAIDModuleRMS25CB080     8   2   1     0   1     0 Opt On  1&amp;2 Y      3 Opt  </span><br><span class="line">---------------------------------------------------------------------------------------------------</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="configuration-overview"><a href="#configuration-overview" class="headerlink" title="configuration overview"></a>configuration overview</h3><p>information regarding the selected controller and its configuration</p>
<ul>
<li><p><code>./storecli64 /c0 show</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"># ./storcli64 /c0 show</span><br><span class="line">Generating detailed summary of the adapter, it may take a while to complete.</span><br><span class="line"></span><br><span class="line">... SNIPP ...</span><br><span class="line"></span><br><span class="line">Product Name = Intel(R) Integrated RAID Module RMS25CB080</span><br><span class="line">Serial Number = QSIP23600494</span><br><span class="line">SAS Address =  5001e6756eda0000</span><br><span class="line">PCI Address = 00:05:00:00</span><br><span class="line">System Time = 01/25/2016 14:34:15</span><br><span class="line">Mfg. Date = 09/07/12</span><br><span class="line">Controller Time = 01/25/2016 13:34:14</span><br><span class="line">FW Package Build = 23.12.0-0013</span><br><span class="line">BIOS Version = 5.42.00_4.12.05.00_0x05270000</span><br><span class="line">FW Version = 3.240.25-2382</span><br><span class="line">Driver Name = megaraid_sas</span><br><span class="line">Driver Version = 06.805.06.01-rc1</span><br><span class="line">Vendor Id = 0x1000</span><br><span class="line">Device Id = 0x5B</span><br><span class="line">SubVendor Id = 0x8086</span><br><span class="line">SubDevice Id = 0x3513</span><br><span class="line">Host Interface = PCI-E</span><br><span class="line">Device Interface = SAS-6G</span><br><span class="line">Bus Number = 5</span><br><span class="line">Device Number = 0</span><br><span class="line">Function Number = 0</span><br><span class="line">Drive Groups = 1</span><br><span class="line"></span><br><span class="line">TOPOLOGY :</span><br><span class="line">========</span><br><span class="line">--------------------------------------------------------------------------</span><br><span class="line">DG Arr Row EID:Slot DID Type  State BT       Size PDC  PI SED DS3  FSpace </span><br><span class="line">--------------------------------------------------------------------------</span><br><span class="line"> 0 -   -   -        -   RAID1 Optl  N  930.390 GB dflt N  N   none N      </span><br><span class="line"> 0 0   -   -        -   RAID1 Optl  N  930.390 GB dflt N  N   none N      </span><br><span class="line"> 0 0   0   252:0    8   DRIVE Onln  N  930.390 GB dflt N  N   none -      </span><br><span class="line"> 0 0   1   252:1    9   DRIVE Onln  N  930.390 GB dflt N  N   none -      </span><br><span class="line">--------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">... SNIPP ...</span><br><span class="line"></span><br><span class="line">Virtual Drives = 1</span><br><span class="line"></span><br><span class="line">VD LIST :</span><br><span class="line">=======</span><br><span class="line">---------------------------------------------------------------</span><br><span class="line">DG/VD TYPE  State Access Consist Cache Cac sCC       Size Name </span><br><span class="line">---------------------------------------------------------------</span><br><span class="line">0/0   RAID1 Optl  RW     No      RWBC  -   ON  930.390 GB      </span><br><span class="line">---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">... SNIPP ...</span><br><span class="line"></span><br><span class="line">Physical Drives = 2</span><br><span class="line"></span><br><span class="line">PD LIST :</span><br><span class="line">=======</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">EID:Slt DID State DG       Size Intf Med SED PI SeSz Model                  Sp </span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">252:0     8 Onln   0 930.390 GB SATA HDD N   N  512B WDC WD1000CHTZ-04JCPV1 U  </span><br><span class="line">252:1     9 Onln   0 930.390 GB SATA HDD N   N  512B WDC WD1000CHTZ-04JCPV1 U  </span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">... SNIPP ...</span><br><span class="line"></span><br><span class="line">Cachevault_Info :</span><br><span class="line">===============</span><br><span class="line">---------------------------------------------------------</span><br><span class="line">Model  State   Temp Mode MfgDate    Next Learn           </span><br><span class="line">---------------------------------------------------------</span><br><span class="line">CVPM02 Optimal 23C  -    2012/12/19 2016/02/22  13:07:20 </span><br><span class="line">---------------------------------------------------------</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Information-regarding-the-disks"><a href="#Information-regarding-the-disks" class="headerlink" title="Information regarding the disks"></a>Information regarding the disks</h3><p>Information regarding the available disks and their current state (serial number,temperature etc.)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line"># ./storecli64 /c0 /eall /sall show all</span><br><span class="line">Controller = 0</span><br><span class="line">Status = Success</span><br><span class="line">Description = Show Drive Information Succeeded.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Drive /c0/e252/s0 :</span><br><span class="line">=================</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">EID:Slt DID State DG       Size Intf Med SED PI SeSz Model                  Sp </span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">252:0     8 Onln   0 930.390 GB SATA HDD N   N  512B WDC WD1000CHTZ-04JCPV1 U  </span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">... SNIPP ...</span><br><span class="line"></span><br><span class="line">Drive /c0/e252/s0 - Detailed Information :</span><br><span class="line">========================================</span><br><span class="line"></span><br><span class="line">Drive /c0/e252/s0 State :</span><br><span class="line">=======================</span><br><span class="line">Shield Counter = 0</span><br><span class="line">Media Error Count = 0</span><br><span class="line">Other Error Count = 0</span><br><span class="line">BBM Error Count = 0</span><br><span class="line">Drive Temperature =  29C (84.20 F)</span><br><span class="line">Predictive Failure Count = 0</span><br><span class="line">S.M.A.R.T alert flagged by drive = No</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Drive /c0/e252/s0 Device attributes :</span><br><span class="line">===================================</span><br><span class="line">SN =      WD-WXS1E64JNL0D</span><br><span class="line">Manufacturer Id = ATA     </span><br><span class="line">Model Number = WDC WD1000CHTZ-04JCPV1</span><br><span class="line">NAND Vendor = NA</span><br><span class="line">WWN = 50014ee65a68f4c4</span><br><span class="line">Firmware Revision = 04.06A01</span><br><span class="line">Raw size = 931.512 GB [0x74706db0 Sectors]</span><br><span class="line">Coerced size = 930.390 GB [0x744c8000 Sectors]</span><br><span class="line">Non Coerced size = 931.012 GB [0x74606db0 Sectors]</span><br><span class="line">Device Speed = 6.0Gb/s</span><br><span class="line">Link Speed = 6.0Gb/s</span><br><span class="line">NCQ setting = N/A</span><br><span class="line">Write cache = N/A</span><br><span class="line">Logical Sector Size = 512B</span><br><span class="line">Physical Sector Size = 4 KB</span><br><span class="line">Connector Name = Port 0 - 3 x1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Drive /c0/e252/s0 Policies/Settings :</span><br><span class="line">===================================</span><br><span class="line">Drive position = DriveGroup:0, Span:0, Row:0</span><br><span class="line">Enclosure position = 0</span><br><span class="line">Connected Port Number = 0(path0) </span><br><span class="line">Sequence Number = 2</span><br><span class="line">Commissioned Spare = No</span><br><span class="line">Emergency Spare = No</span><br><span class="line">Last Predictive Failure Event Sequence Number = 0</span><br><span class="line">Successful diagnostics completion on = N/A</span><br><span class="line">SED Capable = No</span><br><span class="line">SED Enabled = No</span><br><span class="line">Secured = No</span><br><span class="line">Locked = No</span><br><span class="line">Needs EKM Attention = No</span><br><span class="line">PI Eligible = No</span><br><span class="line">Certified = No</span><br><span class="line">Wide Port Capable = No</span><br><span class="line"></span><br><span class="line">Port Information :</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">-----------------------------------------</span><br><span class="line">Port Status Linkspeed SAS address        </span><br><span class="line">-----------------------------------------</span><br><span class="line">   0 Active 6.0Gb/s   0x4433221100000000 </span><br><span class="line">-----------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Inquiry Data = </span><br><span class="line">7a 42 ff 3f 37 c8 10 00 00 00 00 00 3f 00 00 00 </span><br><span class="line">00 00 00 00 20 20 20 20 57 20 2d 44 58 57 31 53 </span><br><span class="line">36 45 4a 34 4c 4e 44 30 00 00 00 00 00 00 34 30 </span><br><span class="line">30 2e 41 36 31 30 44 57 20 43 44 57 30 31 30 30 </span><br><span class="line">48 43 5a 54 30 2d 4a 34 50 43 31 56 20 20 20 20 </span><br><span class="line">20 20 20 20 20 20 20 20 20 20 20 20 20 20 10 80 </span><br><span class="line">00 40 00 2f 01 40 00 00 00 00 07 00 ff 3f 10 00 </span><br><span class="line">3f 00 10 fc fb 00 00 01 ff ff ff 0f 00 00 07 00 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Drive /c0/e252/s1 :</span><br><span class="line">=================</span><br><span class="line"></span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">EID:Slt DID State DG       Size Intf Med SED PI SeSz Model                  Sp </span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">252:1     9 Onln   0 930.390 GB SATA HDD N   N  512B WDC WD1000CHTZ-04JCPV1 U  </span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">... SNIPP ...</span><br><span class="line"></span><br><span class="line">Drive /c0/e252/s1 - Detailed Information :</span><br><span class="line">========================================</span><br><span class="line"></span><br><span class="line">Drive /c0/e252/s1 State :</span><br><span class="line">=======================</span><br><span class="line">Shield Counter = 0</span><br><span class="line">Media Error Count = 0</span><br><span class="line">Other Error Count = 0</span><br><span class="line">BBM Error Count = 0</span><br><span class="line">Drive Temperature =  28C (82.40 F)</span><br><span class="line">Predictive Failure Count = 0</span><br><span class="line">S.M.A.R.T alert flagged by drive = No</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Drive /c0/e252/s1 Device attributes :</span><br><span class="line">===================================</span><br><span class="line">SN =      WD-WXT1E64TZEFP</span><br><span class="line">Manufacturer Id = ATA     </span><br><span class="line">Model Number = WDC WD1000CHTZ-04JCPV1</span><br><span class="line">NAND Vendor = NA</span><br><span class="line">WWN = 50014ee6afbe6dc0</span><br><span class="line">Firmware Revision = 04.06A01</span><br><span class="line">Raw size = 931.512 GB [0x74706db0 Sectors]</span><br><span class="line">Coerced size = 930.390 GB [0x744c8000 Sectors]</span><br><span class="line">Non Coerced size = 931.012 GB [0x74606db0 Sectors]</span><br><span class="line">Device Speed = 6.0Gb/s</span><br><span class="line">Link Speed = 6.0Gb/s</span><br><span class="line">NCQ setting = N/A</span><br><span class="line">Write cache = N/A</span><br><span class="line">Logical Sector Size = 512B</span><br><span class="line">Physical Sector Size = 4 KB</span><br><span class="line">Connector Name = Port 0 - 3 x1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Drive /c0/e252/s1 Policies/Settings :</span><br><span class="line">===================================</span><br><span class="line">Drive position = DriveGroup:0, Span:0, Row:1</span><br><span class="line">Enclosure position = 0</span><br><span class="line">Connected Port Number = 1(path0) </span><br><span class="line">Sequence Number = 2</span><br><span class="line">Commissioned Spare = No</span><br><span class="line">Emergency Spare = No</span><br><span class="line">Last Predictive Failure Event Sequence Number = 0</span><br><span class="line">Successful diagnostics completion on = N/A</span><br><span class="line">SED Capable = No</span><br><span class="line">SED Enabled = No</span><br><span class="line">Secured = No</span><br><span class="line">Locked = No</span><br><span class="line">Needs EKM Attention = No</span><br><span class="line">PI Eligible = No</span><br><span class="line">Certified = No</span><br><span class="line">Wide Port Capable = No</span><br><span class="line"></span><br><span class="line">Port Information :</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">-----------------------------------------</span><br><span class="line">Port Status Linkspeed SAS address        </span><br><span class="line">-----------------------------------------</span><br><span class="line">   0 Active 6.0Gb/s   0x4433221101000000 </span><br><span class="line">-----------------------------------------</span><br></pre></td></tr></table></figure>




<html>
<table class="article_text" border="1" width="100%"><tbody><tr><td colspan="7" align="center">&nbsp;<span style="font-size: 18px;">Description</span></td><td colspan="7" align="center"><span style="font-size: 18px;">MegaCLI Command</span></td><td colspan="7" align="center"><span style="font-size: 18px;">StorCLI Command</span></td><td colspan="2" align="center"><span style="font-size: 18px;">Real StorCLI Example</span></td></tr><tr><td colspan="7" align="right">&nbsp;<span style="font-size: 16px;">System Commands</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show the software version.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">&nbsp;MegaCLI -v</td><td colspan="7" align="left">storcli -v<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="2" align="center">&nbsp; <a target="_blank" title="C:\storcli>storcli -v&nbsp; -->output-->Storage Command Line Tool&nbsp; Ver 1.01.10 Sep 10, 2012&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (c)Copyright 2012, LSI Corporation, All Rights Reserved.&nbsp; Exit Code: 0x00" class="ApplyClass" href="/LSI/ZAdmin/UltimateEditorInclude/UserFiles/storcli -v.txt">storcli -v</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Show help information.</td><td colspan="7" align="left">&nbsp;MegaCLI -help|-h|?</td><td colspan="7" align="left">&nbsp;storcli -help|-h|?</td><td colspan="2" align="center"><a class="ApplyClass" title="Click to view sample output of the storcli -h&nbsp; command." target="_blank" href="/LSI/ZAdmin/UltimateEditorInclude/UserFiles/storcli -h.txt">storcli -h</a> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Show the number of controllers connected</td><td colspan="7" align="left">&nbsp;MegaCLI -adpCount</td><td colspan="7" align="left">&nbsp;storcli show ctrlcount</td><td colspan="2" align="center"><a target="_blank" title="storcli show ctrlcount -->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status Code = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Count = 1">storcli show ctrlcount</a>&nbsp;</td></tr><tr><td colspan="7" align="right"><span style="font-size: 16px;">Controller Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show the status of properties related<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to the controllers.</td><td colspan="7" align="left">MegaCli -AdpGetProp<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;PropertyName&gt;-aN|-a0,1,2|-aALL<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The following properties can be used with this<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; command:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abortcconerror<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alarmdsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autodetectbackplanedsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autoenhancedimportdsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autosnapshotspace<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; batwarndsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bgirate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootwithpinnedcache<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cachebypass<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ccrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clusterenable<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coercionmode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; copybackdsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultldpspolicy<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultsnapshotspace<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultviewspace<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disableldpsinterval<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disableldpstime<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disableocr<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketcount<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketleakrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketsize<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableeghsp<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableesmarter<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableeug|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enablejbod<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enblspindownunconfigdrvs<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; loadbalancemode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maintainpdfailhistoryenbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ncqdsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; patrolreadrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perfmode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; predfailpollinterval<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rebuildrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reconrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rstrhotspareoninsert<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; smartcpybkenbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spindowntime<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupdelay<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupdrivecount<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupencdelay </td><td colspan="7" align="left">/cx show &lt;propertyName&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The following properties can be used with this<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; command:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; activityforlocate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alarm<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; backplane<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; batterywarning<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bgirate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootwithpinnedcache<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cachebypass<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cacheflushint<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cc<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ccrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clusterenable<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coercion<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; copyback<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directpdmapping<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ds<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketleakrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketsize<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableeghsp<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableesmarter<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableeug<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exposeencldevice<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jbod<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; loadbalancemode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maintainpdfailhistory<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; migraterate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ncq<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perfmode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pr<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prcorrectunconfiguredareas<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rebuildrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rehostinfo<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; restorehotspare<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; safeid<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; smartpollinterval<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupdelay<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupdrivecount<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stoponerror<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; usefdeonlyencrypt </td><td colspan="2" align="center"> <a title="C:\storcli>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /c0 show activityforlocate -->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Use Disk Activity For Locate OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ">storcli /c0 show activityforlocate</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a class="ApplyClass" title="storcli /c0 show alarm -->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show alarm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Alarm&nbsp;&nbsp;&nbsp;&nbsp; OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /c0 show alarm</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show backplane -->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show backplane&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -------------------------------------------------------------------------------- ----------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -------------------------------------------------------------------------------- ----------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BackPlaneState auto detect logic of backplanes like SGPIO, i2c SEP using h/w mec&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hanism like GPIO pins --------------------------------------------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------------">storcli /c0 show backplane</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show batterywarning -->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show batterywarning&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BatteryWarning OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------">storcli /c0 show batterywarning</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show bgirate -->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show bgirate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BGI Rate&nbsp; 30%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------">storcli /c0 show bgirate</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show bootwithpinnedcache -->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show bootwithpinnedcache&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Boot With Pinned Cache OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------------------------" class="ApplyClass">storcli /c0 show bootwithpinnedcache</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show cachebypass -->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show cachebypass&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cache By Pass OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --------------------">storcli /c0 show cachebypass</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show cacheflushint -->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show cacheflushint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cache Flush Interval 4 sec&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------------">storcli /c0 show cacheflushint</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show cc-->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show cc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CC Operation Mode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sequential CC Execution Delay&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CC Next Starttime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10/10/2015, 0:00:00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CC Current State&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Stopped&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CC Number of iterations&nbsp;&nbsp; 442&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CC Number of VD completed 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CC Excluded VDs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------------------------------------">storcli /c0 show cc</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show ccrate-->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show ccrate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CC Rate&nbsp;&nbsp; 30%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------------">storcli /c0 show ccrate</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show clusterenable-->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show clusterenable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cluster Enable 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A value of 0 indicates that clustering is disabled.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A value of 1 indicates that clustering is enabled.">storcli /c0 show clusterenable</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show coercion-->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show coercion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Coercion Mode Disabled&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------------------">storcli /c0 show coercion</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a title="storcli /c0 show copyback-->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 show copyback&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Copy Back&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SSDSMARTerEnabled ON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SMARTerEnabled&nbsp;&nbsp;&nbsp; OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ------------------------">storcli /c0 show copyback</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Show the status of properties related to the controllers (continued).<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">spinupencdrvcnt<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ssdsmartcpybkenbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; usediskactivityforlocate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; usefdeonlyencrypt</td><td colspan="7" align="left">None </td><td colspan="2" align="center"> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Set properties on the selected<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; controllers.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">Megacli -AdpSetProp<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;propertyname&gt;-an|-a0,1,2|-aall<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The following properties can be set using this<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; command:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abortcconerror<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alarmdsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autodetectbackplanedsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autoenhancedimportdsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autosnapshotspace<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; batwarndsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bgirate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootwithpinnedcache<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cachebypass<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ccrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clusterenable<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coercionmode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; copybackdsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultldpspolicy<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultsnapshotspace<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultviewspace<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disableldpsinterval<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disableldpstime<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disableocr<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketcount<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketleakrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketsize<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableeghsp<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableesmarter<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableeug|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enablejbod<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enblspindownunconfigdrvs<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; loadbalancemode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maintainpdfailhistoryenbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ncqdsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; patrolreadrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perfmode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; predfailpollinterval<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rebuildrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reconrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rstrhotspareoninsert<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; smartcpybkenbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spindowntime<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupdelay<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupdrivecount<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupencdelay </td><td colspan="7" align="left">/cx set &lt;property1&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The following properties can be set using this command:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abortcconerror=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; activityforlocate=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alarm=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autorebuild=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; backplane=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; batterywarning=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bgirate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootwithpinnedcache=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cachebypass=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flush|flushcache<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cacheflushinterval=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ccrate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coercion=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clusterenable=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; copyback=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type=&lt;smartssd|smarthdd|all&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimmerswitch=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directpdmapping=&lt;enable|disable&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketleakrate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketsize=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableeghsp=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableesmarter=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableeug=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exposeencldevice=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreignautoimport=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jbod=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; loadbalancemode=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maintainpdfailhistory=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; migraterate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ncq=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perfmode=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prcorrectunconfiguredareas=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prrate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rebuildrate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; restorehotspare=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; smartpollinterval=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupdelay=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupdrivecount=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stoponerror=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; usefdeonlyencrypt=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; time=yyyymmdd hh:mm:ss|systemtime<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; usefdeonlyencrypt=&lt;on|off&gt; </td><td colspan="2" align="center"> <a class="ApplyClass" title="/c0 set abortcconerror=on-->sample output-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\storcli>storcli /c0 set abortcconerror=on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status = Success&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description = None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controller Properties :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =====================&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl_Prop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AbortCCOnError ON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------------------">/c0 set abortcconerror=on</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Set properties on the selected<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; controllers.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">autocarve=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autodetect=&lt;on|off &gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disk=&lt;p:-p&gt;|all<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autorebuild=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; carvesize=&lt;1024..32768&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dpmstat=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ondegrade=&lt;cacheoff|follow&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rebuild=&lt;enable|disable|&gt;&lt;1..5&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rebuildmode=&lt;adaptive|lowlatency&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rebuildrate=&lt;1..5&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; selftest=&lt;enable|disable&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinup=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stagger=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verify=advanced|basic|&lt;1..5&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verify=basic [pref=ddd:hh]where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hh={00..23} and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ddd={mon|tue|wed|thu|fri|sat|sun}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verify=enable|disable|&lt;1..5&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verifymode=&lt;adaptive|lowlatency&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verifyrate=&lt;1..5&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupencdrvcnt<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sdsmartcpybkenbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; usediskactivityforlocate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; usefdeonlyencrypt </td><td colspan="7" align="left">abortcconerror=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; activityforlocate=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alarm=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autorebuild=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; backplane=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; batterywarning=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bgirate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootwithpinnedcache=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cachebypass=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flush|flushcache<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cacheflushinterval=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ccrate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coercion=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clusterenable=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; copyback=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type=&lt;smartssd|smarthdd|all&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directpdmapping=&lt;enable|disable&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketleakrate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eccbucketsize=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableeghsp=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableesmarter=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableeug=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exposeencldevice=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreignautoimport=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jbod=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; loadbalancemode=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maintainpdfailhistory=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; migraterate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ncq=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perfmode=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prcorrectunconfiguredareas=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prrate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rebuildrate=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; restorehotspare=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; smartpollinterval=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupdelay=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spinupdrivecount=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stoponerror=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; usefdeonlyencrypt=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; time=yyyymmdd hh:mm:ss|systemtime<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; usefdeonlyencrypt=&lt;on|off&gt;</td><td colspan="2" align="center"> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Show the number of controllers<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connected.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">MegaCLI -adpCount<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">storcli show ctrlcount</td><td colspan="2" align="center">storcli show ctrlcount<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Show all information about the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; adapter, such as cluster state, BIOS,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alarm, firmware, version, and so on.</td><td colspan="7" align="left">MegaCli -AdpAllInfo<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx show all</td><td colspan="2" align="center">storcli /c0 show all <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Show the freespace available in the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; controller.</td><td colspan="7" align="left">MegaCLI -CfgFreeSpaceinfo<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx show freespace</td><td colspan="2" align="center">storcli /c0 show freespace&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Download the controller firmware</td><td colspan="7" align="left">MegaCli -AdpFwFlash -f filename<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-NoSigChk] [-NoVerChk]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx download file=&lt;filepath&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [fwtype=&lt;val&gt;] [nosigchk] [noverchk]</td><td colspan="2" align="center">storcli /c0 download file=mr2208.rom <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Show the preserved cache status.</td><td colspan="7" align="left">MegaCLI-GetPreservedCacheList<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx show preservedcache</td><td colspan="2" align="center">storcli /c0 show preservedcache&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Set the controller time</td><td colspan="7" align="left">MegaCLI –AdpSetTime yyyymmdd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hh:mm:ss -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /c(x|all) set time=&lt;yyyymmdd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hh:mm:ss | systemtime&gt;</td><td colspan="2" align="center">storcli /c0 set time=systemtime <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Show the controller time.</td><td colspan="7" align="left">&nbsp;MegaCLI –AdpGetTime -aN</td><td colspan="7" align="left">&nbsp;storcli /cx show time</td><td colspan="2" align="center">storcli /c0 show time <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="right"><span style="font-size: 16px;">&nbsp;RAID Configuration commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Create a RAID configuration of RAID<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type 0, 1, 5, and 6.</td><td colspan="7" align="left">MegaCli –CfgLDAdd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -R0|-R1|-R5|-R6[E0:S0,E1:S1,...]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [WT | WB] [NORA | RA | ADRA]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Direct | Cached]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [CachedBadBBU|NoCachedBadBBU]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-szXXXXXXXX [-szYYYYYYYY [... ]]]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-strpszM] [–Hsp[E5:S5,...]]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [–afterLdX] -aN</td><td colspan="7" align="left">storcli /cx add vd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type=raid[0|1|5|6]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Size=&lt;VD1_Sz&gt;,&lt;VD2_Sz&gt;,..|*all]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [name=&lt;VDNAME1&gt;,..]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; drives=e:s|e:s-x|e:s-x,y;e:s-x,y,z<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [PDperArray=x]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [SED] [pdcache=on|off|*default][pi]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [DimmerSwitch(ds)=default|automatic<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (auto)|*none|maximum(max)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |MaximumWithoutCaching(maxnocache)]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [wt|*wb] [nora|*ra] [*direct|cached]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [CachedBadBBU|*NoCachedBadBBU]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Stripe=&lt;8|16|32|64|128|256|512|102<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4] [AfterVd=X]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Spares=[e:]s|[e:]s-x|[e:]s-x,y]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [force]</td><td colspan="2" align="center">&nbsp;storcli /c0 add vd type=road1 drives=252:0,252:1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (hint:&nbsp; use storcli /c0 show to view available enclosure/slot e:s drives)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Create a CacheCade virtual drive</td><td colspan="7" align="left">MegaCLI -CfgCacheCadeAdd [-rX]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Physdrv[E0:S0,...] {-Name<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LdNamestring} [WT|WB|ForcedWB]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-assign -LX|L0,2,5..|LALL]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-Aall</td><td colspan="7" align="left">storcli /cx add VD cachecade|cc<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Type=[0,1,10]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; drives=[e:]s|[e:]s-x|[e:]s-x,y<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ &lt; WT| WB&gt; ] [assignvds=0,1,2]</td><td colspan="2" align="center">&nbsp;storcli /c0 add vd type=road1 drives=252:2,252:3</td></tr><tr><td colspan="7" align="left">Create a RAID configuration of RAID<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type 10, 50, and 60.</td><td colspan="7" align="left">MegaCli –CfgSpanAdd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -R10|-R50|R60<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; –Array0[E0:S0,E1:S1,...]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; –Array1[E0:S0,E1:S1,...] [...]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [WT | WB] [NORA | RA | ADRA]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Direct | Cached]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [CachedBadBBU|NoCachedBadBBU]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-szXXXXXXXX [-szYYYYYYYY [... ]]]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-strpszM] [–afterLdX] -aN</td><td colspan="7" align="left">storcli /cx add vd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type=raid[10|50|60]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Size=&lt;VD1_Sz&gt;,&lt;VD2_Sz&gt;,..|*all]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [name=&lt;VDNAME1&gt;,..]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; drives=e:s|e:s-x|e:s-x,y;e:s-x,y,z<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [PDperArray=x]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [SED] [pdcache=on|off|*default][pi]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [DimmerSwitch(ds)=default|automatic<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (auto)|*none|maximum(max)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |MaximumWithoutCaching(maxnocache)]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [wt|*wb] [nora|*ra] [*direct|cached]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [CachedBadBBU|*NoCachedBadBBU]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Stripe=&lt;8|16|32|64|128|256|512|102<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4] [AfterVd=X]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Spares=[e:]s|[e:]s-x|[e:]s-x,y]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [force]</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Delete a virtual drive</td><td colspan="7" align="left">MegaCli -CfgClr [-Force]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/vx delete or storcli /cx/vall (to delete all virtual drives)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="2" align="center">storcli /c0/v0 delete (warning:&nbsp; there is no warning given; using /c0/vall will delete all logical drives and data with no warning) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Show the topology information of<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the drive group</td><td colspan="7" align="left">MegaCLI -CfgDsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-Aall</td><td colspan="7" align="left">&nbsp;storcli /cx/dall show [all]</td><td colspan="2" align="center">storcli /cx0/d0 show<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Show information for a CacheCade<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; virtual drive</td><td colspan="7" align="left">MegaCLI -CfgCacheCadeDsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-Aall</td><td colspan="7" align="left">&nbsp;storcli /cx/dall show CacheCade(cc)</td><td colspan="2" align="center">&nbsp;storcli /cx0/d0 show cc<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Delete a virtual drive hosting the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; operating system</td><td colspan="7" align="left">MegaCLI -CfgLdDel<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -LX|-L0,2,5...|-LALL [-Force]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/vx[all] delete -force</td><td colspan="2" align="center">storcli /c0/v0 del -force <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Delete a CacheCade virtual drive</td><td colspan="7" align="left">MegaCLI -CfgCacheCadeDel<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -LX|-L0,2,5...|-LALL<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-Aall</td><td colspan="7" align="left">storcli /cx/vx[all] delete<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CacheCade(cc)</td><td colspan="2" align="center">storcli /c0/vx del cc <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Show, delete, and import the foreign<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; configuration commands.</td><td colspan="7" align="left">MegaCli –CfgForeign –Scan |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {-Preview | –Dsply| -Import |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Clear[FID]} -aN|-a0,1,2|-aALL"</td><td colspan="7" align="left">storcli /cx/f(x|all) show [all]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [securityKey=xxx]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/f(x|all) del|delete<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [securityKey=xxx]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/f(x|all) import<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [preview] [securityKey=xxx]"</td><td colspan="2" align="center">storcli /c0/fall show <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="right"><span style="font-size: 16px;">&nbsp;Patrol Read Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Show the patrol read status and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; patrol read parameters, if any in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; progress.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">MegaCli -AdpPR -info<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;/cx show patrolRead</td><td colspan="2" align="center">/c0 show patrolread <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Set the patrol read options on a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; single adapter, multiple adapters, or<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; all adapters (x = single controller).<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">MegaCli -AdpPR<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; –Dsbl|EnblAuto|EnblMan|Start|Stop|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Info|Suspend|Resume|Stop|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SSDPatrolReadEnbl |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SSDPatrolReadDsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |{SetDelay Val}|{-SetStartTime<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yyyymmdd hh}|{maxConcurrentPD Val}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;/cx set patrolread {=on<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mode=&lt;auto|manual&gt;}|{off}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /cx set patrolread [starttime=&lt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yyyy/mm/dd hh&gt;]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [maxconcurrentpd=&lt;value&gt;]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [includessds=&lt;on|off&gt;]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [uncfgareas=on|off]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /cx set patrolread delay=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="2" align="center">/c0 set patrolread mode=manual <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Disable patrol read.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">MegaCli -AdpPR -Dsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx set patrolread=off<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="2" align="center">storcli /c0 set patrolread=off&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Enable automatic patrol read.</td><td colspan="7" align="left">MegaCli -AdpPR -EnblAuto<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx set patrolread=on<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mode=auto&nbsp;</td><td colspan="2" align="center">storcli /cx set patrolread=off<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mode=auto</td></tr><tr><td colspan="7" align="left">&nbsp;Enable manual patrol read.</td><td colspan="7" align="left">MegaCli -AdpPR -EnblMan<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx set patrolread=on<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mode=manual&nbsp;</td><td colspan="2" align="center">storcli /c0 set patrolread=on<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mode=manual&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Start patrol read.</td><td colspan="7" align="left">MegaCli -AdpPR -Start<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx start patrolRead&nbsp;</td><td colspan="2" align="center">storcli /c0 start patrolRead&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Suspend a running patrol read</td><td colspan="7" align="left">MegaCli -AdpPR -Suspend<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx suspend patrolread&nbsp;</td><td colspan="2" align="center">storcli /c0 suspend patrolread&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Resume a suspended patrol read</td><td colspan="7" align="left">MegaCli -AdpPR -Resume<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx resume patrolread</td><td colspan="2" align="center">&nbsp;storcli /c0 resume patrolread&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Stop a running patrol read</td><td colspan="7" align="left">MegaCli -AdpPR -Stop<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx stop patrolRead&nbsp;</td><td colspan="2" align="center">storcli /c0 stop patrolRead&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Include SSD drives in patrol read</td><td colspan="7" align="left">MegaCli -AdpPR -SSDPatrolReadEnbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx set patrolRead<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; includessds=on | onlymixed&nbsp;</td><td colspan="2" align="center">storcli /c0 set patrolRead<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; includessds=on <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Exclude SSD drives in patrol read</td><td colspan="7" align="left">&nbsp;MegaCli -AdpPR -SSDPatrolReadDsbl<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">storcli /cx set patrolRead<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; includessds=off&nbsp;</td><td colspan="2" align="center">storcli /c0 set patrolRead<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; includessds=off</td></tr><tr><td colspan="7" align="left">&nbsp;Delay a patrol read</td><td colspan="7" align="left">MegaCli -AdpPR -SetDelay Val<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx set patrolread<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delay=&lt;value&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; note: &lt;value&gt; unit of time is in hours </td><td colspan="2" align="center">storcli /c0 set patrolread<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delay=1 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Schedule a patrol read</td><td colspan="7" align="left">MegaCli -AdpPR -SetStartTime<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yyyymmdd hh -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx set patrolread=on<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; starttime=YYYY/MM/DD HH</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Set the value for maximum<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; concurrent physical drives for the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; patrol read.</td><td colspan="7" align="left">MegaCli -AdpPR -maxConcurrentPD Val<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx set patrolread<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxconcurrentpd=xx</td><td colspan="2" align="center">storcli /c0 set patrolread<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxconcurrentpd=255 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;<span style="font-size: 16px;">Consistency Check Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Schedule a consistency check</td><td colspan="7" align="left">MegaCLI -AdpCcSched -Dsbl|-Info|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {-ModeConc | -ModeSeq [-ExcludeLD<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -LN|-L0,1,2] [-SetStartTime yyyymmdd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hh ] [-SetDelay val ] }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; consistencycheck|cc=[off|seq|conc]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [delay=value] starttime=yyyy/mm/dd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hh [excludevd=x-y,z]</td><td colspan="2" align="center">storcli /c0 set cc=off <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Show consistency check status and consistency parameters, in progress,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if any.</td><td colspan="7" align="left">&nbsp;MegaCLI -AdpCcSched -Info</td><td colspan="7" align="left">&nbsp;storcli /cx show cc/ConsistencyCheck</td><td colspan="2" align="center">&nbsp;storcli /c0 show cc<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;<span style="font-size: 16px;">OPROM BIOS Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Schedule a consistency check</td><td colspan="7" align="left">MegaCli -AdpBIOS -Dsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx show bios</td><td colspan="2" align="center">&nbsp;storcli /c0 show bios<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Show consistency check status and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; consistency parameters, if any in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; progress.</td><td colspan="7" align="left">MegaCli -AdpBootDrive -{-Set {-Lx |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -physdrv[E0:S0]}} -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/ex/sx set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootdrive=on|off<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/vx set bootdrive=on|off<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="2" align="center">storcli /c0/v0 set bootdrive=on <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Sets the BIOS properties for the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; controller.</td><td colspan="7" align="left">MegaCli -AdpBIOS -Enbl | -Dsbl |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Dsply | SOE | BE<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EnblAutoSelectBootLd |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DsblAutoSelectBootLd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx set bios=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stoponerror|soe=&lt;on|off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autobootselect(abs)=&lt;on|off&gt;&nbsp;</td><td colspan="2" align="center">storcli /c0 set bios=on <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;<span style="font-size: 16px;">Battery (BBU) Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Show battery-related information</td><td colspan="7" align="left">&nbsp;MegaCli -AdpBbuCmd -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/bbu show<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/bbu show all</td><td colspan="2" align="center">storcli /c0/bbu show <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Show the battery learn properties</td><td colspan="7" align="left">MegaCli -AdpBbuCmd -GetBbuProperties<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/bbu show properties</td><td colspan="2" align="center">&nbsp;storcli /c0/bbu show properties</td></tr><tr><td colspan="7" align="left">Show the battery information,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; firmware status, and the gas gauge<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; status.</td><td colspan="7" align="left">MegaCli -AdpBbuCmd -GetBbuStatus<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/bbu show status</td><td colspan="2" align="center">storcli /c0/bbu show status <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Show battery capacity information</td><td colspan="7" align="left">MegaCli -AdpBbuCmd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -GetBbuCapacityInfo<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/bbu show all</td><td colspan="2" align="center">storcli /c0/bbu show all&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Show battery design information</td><td colspan="7" align="left">MegaCli -AdpBbuCmd -GetBbuDesignInfo<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="2" align="center">storcli /cx/bbu show all&nbsp;</td><td colspan="7" align="left">storcli /c0/bbu show all<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Set battery properties</td><td colspan="7" align="left">MegaCli -AdpBbuCmd -SetBbuProperties<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -f &lt;fileName&gt; -aN|-a0,1,2|-aALL</td><td colspan="2" align="center">storcli /cx/bbu set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; learnDelayInterval=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/bbu set bbuMode=&lt;value&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx bbu set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autolearnmode=&lt;value&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; where x= 0 – Enabled, 1 – Disabled, 2 – Warn though<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; event.</td><td colspan="7" align="left">storcli /c0/bbu set bbumode=5<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Start battery learn cycle</td><td colspan="7" align="left">MegaCli -AdpBbuCmd -BbuLearn<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="2" align="center">&nbsp;storcli /cx/bbu start learn</td><td colspan="7" align="left">&nbsp;storcli /co/bbu start learn</td></tr><tr><td colspan="7" align="left">Set the battery to low power storage<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mode.</td><td colspan="7" align="left">MegaCli -AdpBbuCmd -BbuMfgSleep<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="2" align="center">storcli /cx/bbu set powermode=sleep&nbsp;</td><td colspan="7" align="left"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Seal the gas gauge EEPROM write<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; access</td><td colspan="7" align="left">MegaCli -AdpBbuCmd -BbuMfgSeal<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="2" align="center">storcli /cx/bbu set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writeaccess=sealed&nbsp;</td><td colspan="7" align="left"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="right"><span style="font-size: 16px;">&nbsp;Security Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td><td colspan="7" align="left"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Set the key ID for the controller.</td><td colspan="7" align="left">MegaCli -CreateSecurityKey<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -SecurityKey sssssssssss |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-Passphrase sssssssssss] |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-KeyID kkkkkkkkkkk] -aN</td><td colspan="2" align="center">storcli /cx set SecurityKey=XXXXXX<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [passphrase=yyyyy] [keyId=zzzz]&nbsp;</td><td colspan="7" align="left"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Change the security key for the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; controller.</td><td colspan="7" align="left">MegaCli -ChangeSecurityKey<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -OldSecurityKey sssssssssss |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -SecurityKey sssssssssss|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-Passphrase sssssssssss] |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-KeyID kkkkkkkkkkk] -aN</td><td colspan="2" align="center">storcli /cx set SecurityKey=XXXXXX<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OldSecurityKey=yyyyy&nbsp;</td><td colspan="7" align="left"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">Compare and verify the security key<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for the controller</td><td colspan="7" align="left">Compare and verify the security key<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for the controller</td><td colspan="2" align="center">Compare and verify the security key<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for the controller&nbsp;</td><td colspan="7" align="left"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="left">&nbsp;Delete the security key</td><td colspan="7" align="left">MegaCLI -DestroySecurityKey |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-Force] -aN</td><td colspan="2" align="center">&nbsp;storcli /cx delete SecurityKey</td><td colspan="7" align="left">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Set the security key for the controller</td><td colspan="7" align="left">MegaCli -SetKeyID -KeyID kkkkkkkkkkk<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN</td><td colspan="2" align="center">storcli /cx set SecurityKey<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KeyId=xxxx&nbsp;</td><td colspan="7" align="left"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td></tr><tr><td colspan="7" align="right"><span style="font-size: 16px;">Virtual Drive Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="right">Show the virtual drive information&nbsp;</td><td colspan="7" align="left">MegaCli –LDInfo –Lx|-L0,1,2|-Lall<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/v(x|all) show<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) show all</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Set virtual drive properties</td><td colspan="7" align="left"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MegaCli –LDSetProp WT | WB|NORA |RA<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ADRA|-Cached|Direct|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CachedBadBBU|NoCachedBadBBU} |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -RW|RO|Blocked |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {-Name nameString} |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -EnDskCache|DisDskCache –Lx|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -L0,1,2|-Lall -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/v(x|all) set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wrcache=WT|WB|AWB<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rdcache=RA|NoRA<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iopolicy=Cached|Direct<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; accesspolicy=RW|RO|Blocked|RmvBlkd<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pdcache=On|Off|Default<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name=&lt;NameString&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left"><span style="color: #4f81bd;">Set power-saving (dimmer switch)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; properties.</span></td><td colspan="7" align="left">MegaCli -LDSetPowerPolicy -Default|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Automatic| -None| -Maximum|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -MaximumWithoutCaching<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2|-Lall -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/v(x|all) set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ds=Default|Auto|None|Max|MaxNoCache</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left"><span style="color: #1f497d;">Show virtual drive expansion<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; information</span></td><td colspan="7" align="left">MegaCli -getLdExpansionInfo<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2|-Lall -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/v(x|all) show expansion</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Expand the virtual drive within the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; existing array; also use if you replace<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the drives with larger drives, beyond<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the size of the existing array.</td><td colspan="7" align="left">MegaCli -LdExpansion -pN<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -dontExpandArray -Lx|-L0,1,2|-Lall<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/v(x|all) expand<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Size=&lt;value&gt; [expandarray]</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Secure the virtual drive.</td><td colspan="7" align="left">MegaCLI --LDMakeSecure<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2,...|-Lall –An</td><td colspan="7" align="left">&nbsp;storcli /cx/vx set security=on</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show specific properties of virtual<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; drives.</td><td colspan="7" align="left">MegaCli –LDGetProp -Cache | -Access<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | -Name | -DskCache<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2|-Lall -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/vx show</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Start virtual drive initialization</td><td colspan="7" align="left">MegaCli –LDInit –Start [Fast|Full]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2|-Lall -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/v(x|all) start<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; init[Full]</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Stop a running virtual drive<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; initialization.</td><td colspan="7" align="left">MegaCli –LDInit -Abort<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2|-Lall -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/v(x|all) stop init</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Show the initialization progress</td><td colspan="7" align="left">MegaCli –LDInit –ShowProg<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2|-Lall -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/v(x|all) show init</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Start a consistency check on an<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uninitialized virtual drive</td><td colspan="7" align="left">MegaCli –LDCC –Start<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; –Lx|-L0,1,2|-Lall -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/v(x|all) start cc[Force]</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Start, stop, suspend, resume, and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; show the progress of a consistency<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; check operation</td><td colspan="7" align="left">MegaCli -LDCC -Start|-Abort|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Suspend|-Resume|-ShowProg|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -ProgDsply -Lx|-L0,1,2|-LALL<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/v(x|all) start cc<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) stop cc<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) pause cc<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) resume cc<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) show cc</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Enable/disable automatic<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; background initialization. Show, stop,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pause, resume, and show the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; progress of the background<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; initialization.</td><td colspan="7" align="left">MegaCLI -LDBI -Enbl|-Dsbl|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -getSetting|-Abort|-Suspend|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Resume|-ShowProg|-ProgDsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2|-LALL -aN|-a0,1,2|-Aall</td><td colspan="7" align="left">storcli /cx/v(x|all) set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autobgi=On|Off<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) show autobgi<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) stop bgi<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) pause bgi<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) resume bgi<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) show bgi</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Start and show progress for a migrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; operation.</td><td colspan="7" align="left">MegaCli –LDRecon {–Start –Rx [Add<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Rmv PhysDrv[E0:S0,E1:S1,...] ] }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | –ShowProg|-ProgDsply –Lx –aN</td><td colspan="7" align="left">storcli /cx/vx start migrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type=raidx [option=add|remove<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; drives=[e:]s|[e:]s-x|[e:]s-x,y]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Force]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/v(x|all) show migrate</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Delete preserved cache</td><td colspan="7" align="left">MegaCLI -DiscardPreservedCache<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2|-Lall -force<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/v(x|all) delete<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; preservedcache[force]</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Assign the CacheCade virtual drive</td><td colspan="7" align="left">MegaCLI -Cachecade -assign|-remove<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2|-LALL -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/vx|all set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ssdCaching=on|off</td></tr><tr><td colspan="7" align="right"><span style="font-size: 16px;">&nbsp;Physical Drive Commands</span></td><td colspan="7" align="left"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Show drive information</td><td colspan="7" align="left">MegaCli -pdInfo -<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PhysDrv[E0:S0,E1:S1,...]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/ex/sx show<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx show all</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Start, stop, suspend, or resume an<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ongoing rebuild operation.</td><td colspan="7" align="left">MegaCLI PDRbld -Start|-Stop<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |-Suspend|-Resume|-ShowProg<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |-ProgDsply -PhysDrv<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [E0:S0,E1:S1,...]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/ex/sx start rebuild<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx stop rebuild<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx pause rebuild<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx resume rebuild<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx show rebuild</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Start, stop, pause, resume, or show<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the progress of a copyback operation<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="7" align="left">MegaCLI PDCpyBk -Start|-Stop<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |-Suspend|-Resume|-ShowProg<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |-ProgDsply -PhysDrv<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [E0:S0,E1:S1,...]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/ex/sx start copyback<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; target=exx:sxx<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx stop copyback<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx pause copyback<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx resume copyback<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx show copyback</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Mark a drive as missing</td><td colspan="7" align="left">MegaCli -PdMarkMissing<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -physdrv[E0:S0,E1:S1,...]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/ex/sx set missing</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Show missing drive information</td><td colspan="7" align="left">MegaCli -PdGetMissing<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL </td><td colspan="7" align="left">storcli /cx/ex/sx show all<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NOTE This information is shown as part of the show all<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; command.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Replace the configured drive that is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; identified as missing, and then start<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; an automatic rebuild.</td><td colspan="7" align="left">MegaCli -PdReplaceMissing<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -physdrv[E0:S0] -arrayA, -rowB<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN</td><td colspan="7" align="left">&nbsp;storcli /cx/ex/sx insert array=x row=y</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Set the drive state to online</td><td colspan="7" align="left">MegaCli –PDOnline -<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PhysDrv[E0:S0,E1:S1....]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2</td><td colspan="7" align="left">&nbsp;storcli /cx/ex/sx set online</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Set the drive state to offline</td><td colspan="7" align="left">MegaCli –PDOffline<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -PhysDrv[E0:S0,E1:S1....]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/ex/sx set offline</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Set the drive state to JBOD</td><td colspan="7" align="left">MegaCli –PDMakeGood<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -PhysDrv[E0:S0,E1:S1....]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/ex/sx set good [force]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; or<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx set jbod </td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Add and delete hotspare drives</td><td colspan="7" align="left">MegaCli –PDHSP {–Set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [{-Dedicated -ArrayN |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Array0,1...}] [-EnclAffinity]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-nonRevertible] } |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Rmv -PhysDrv[E0:S0,E1:S1,...]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/ex/sx add hotsparedrive<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [dgs=&lt;N|0,1,2..&gt;] enclaffinity<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nonrevertible<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx delete hotsparedrive</td></tr><tr><td colspan="7" align="left">Start, stop, pause, resume or show<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the progress of an initialization<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; process.</td><td colspan="7" align="left">MegaCli –PDClear -Start |-Stop|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -ShowProg |-ProgDsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - PhysDrv[E0:S0,E1:S1....]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/ex/sx start initialization<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx stop initialization<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx pause initialization<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx resume initialization<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx show initialization</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Start a drive locate and activate (blink) the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; drive’s LED or stop a drive locate (LED blinking) and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; deactivate the drive’s LED</td><td colspan="7" align="left">MegaCli –PDLocate {[-start] |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -stop} -physdrv[E0:S0,E1:S1,...]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/ex/sx start locate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx stop locate</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Spin down an unconfigured drive<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and prepare it for removal or spin up<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spun-down drive and mark the drive<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; state as unconfigured good.</td><td colspan="7" align="left">MegaCli –PDPrpRmv [-Undo]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; – PhysDrv[E0:S0,E1:S1....]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/ex/sx spindown<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx spinup</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show physical drive information of all<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connected drives.</td><td colspan="7" align="left">MegaCli –PDList<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1..|-aAll</td><td colspan="7" align="left">storcli /cx/eall/sall show [all]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NOTE This command does not show drives whose enclosure device ID is not available.</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Flash the physical drive firmware</td><td colspan="7" align="left">MegaCLI PdFwDownload[offline]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ForceActivate] {[-SataBridge]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -PhysDrv[0:1]}|{-EncdevId[devId1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]} -f &lt;filename&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-Aall</td><td colspan="7" align="left">storcli /cx[/ex]/sx download<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; src=&lt;filepath&gt; [satabridge]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex download src=&lt;filepath&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [forceActivate]</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Erase the drive's security<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; configuration and securely erase data on a drive.</td><td colspan="7" align="left">MegaCli -PDInstantSecureErase<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -PhysDrv[E0:S0,E1:S1,...] |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-Force] -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx/ex/sx secureerase [force]</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show the security key for secured physical drives</td><td colspan="7" align="left">MegaCli -GetKeyID<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-PhysDrv[E0:S0]] -aN</td><td colspan="7" align="left">storcli /cx/ex/sx show securitykey<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; keyid</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Start, stop, and show the progress of<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a secure erase operation</td><td colspan="7" align="left">MegaCli -SecureErase Start[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Simple|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Normal [ |ErasePattern<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ErasePatternA|ErasePattern<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ErasePatternA ErasePattern<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ErasePatternB]]|[Thorough [<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |ErasePattern<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ErasePatternA|ErasePattern<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ErasePatternA ErasePattern<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ErasePatternB]]]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Stop| ShowProg| ProgDsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-PhysDrv [E0:S0,E1:S1,...] |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Lx|-L0,1,2|-LALL]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx[/ex]/sx start erase<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [simple| normal| thorough]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [erasepatternA=&lt;val&gt;]\n[erasepatternB=&lt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; val&gt;]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Examples:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx start erase simple<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx start erase normal<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; erasepatterna=10101010<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx start erase thorough<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; erasepatterna=10101010<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; erasepatternb=10101111<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex/sx stop erase</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Enable/disable the direct physical<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; drive mapping mode.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Show the current state of the direct physical drive mapping.</td><td colspan="7" align="left">MegaCLI DirectPdMapping<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Enbl|-Dsbl|-Dsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-Aall</td><td colspan="7" align="left">storcli /cx set directpdmapping=&lt;on |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; off&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx show directpdmapping</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="right">&nbsp;<span style="font-size: 16px;">Enclosure Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="right">Show enclosure information&nbsp;</td><td colspan="7" align="left">MegaCli –EncInfo<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/ex show<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/ex show all</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show enclosure status</td><td colspan="7" align="left">MegaCli –EncStatus<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;/cx/ex show status</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Download enclosure firmware.</td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">/cx/ex download src=filepath<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [offline] [forceActivate</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="right"><span style="font-size: 16px;">&nbsp;PHY Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Show PHY information</td><td colspan="7" align="left">MegaCli –PHYInfo -phyM<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/px(x|all) show<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/px(x|all) show all</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Set PHY link speed</td><td colspan="7" align="left">MegaCLI PhySetLinkSpeed -phyM<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -speed -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx/px(x|all) set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; linkspeed=1.5|3|6|12|auto</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Show the PHY error counters.</td><td colspan="7" align="left">&nbsp;Megacli PhyErrorCounters -An</td><td colspan="7" align="left">storcli /cx/px(x|all) show<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storcli /cx/px(x|all) show all</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="right"><span style="font-size: 16px;">&nbsp;Alarm Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Show alarm properties</td><td colspan="7" align="left">MegaCli -AdpGetProp AlarmDsply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx(x|all) show alarm</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Set alarm properties</td><td colspan="7" align="left">MegaCli -AdpSetProp AlarmEnbl |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AlarmDsbl | AlarmSilence<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx(x|all) set<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alarm=&lt;on|off|silence&gt;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="right"><span style="font-size: 16px;">&nbsp;Event Log Properties Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show event logs.</td><td colspan="7" align="left">MegaCli -AdpEventLog<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -GetEventLogInfo<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;/cx show eventloginfo</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show the specified type of event<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; logs.</td><td colspan="7" align="left">MegaCli -AdpEventLog -GetEvents<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {-info -warning -critical<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -fatal} {-f &lt;fileName&gt;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx show events<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [type=[latest=x|ccincon<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vd=|[sincereboot|sinceshutdown|included<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eleted|latest|ccincon]]]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [filter=[info|warning|critical|fatal]]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file=xyz.txt</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show the specified event logs</td><td colspan="7" align="left">MegaCli -AdpEventLog<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -GetSinceShutdown {-info<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -warning -critical -fatal}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {-f &lt;fileName&gt;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">storcli /cx show events<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [type=[latest=x|ccincon<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vd=|[sincereboot|sinceshutdown|included<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eleted|latest|ccincon]]]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [filter=[info|warning|critical|fatal]]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file=xyz.txt</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Delete the event logs.</td><td colspan="7" align="left">MegaCli -AdpEventLog -Clear<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -aN|-a0,1,2|-aALL</td><td colspan="7" align="left">&nbsp;storcli /cx delete events</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="right">&nbsp;<span style="font-size: 16px;">Premium Feature Key Commands</span></td><td colspan="7" align="left">&nbsp;</td><td colspan="7" align="left">&nbsp;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Show the Safe ID of the controller</td><td colspan="7" align="left">&nbsp;MegaCli -ELF -GetSafeId -a0</td><td colspan="7" align="left">&nbsp;storcli /cx(x|all) show safeid</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show the Advanced Software<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Options that are enabled on the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; controller, including the ones in trial mode.</td><td colspan="7" align="left">MegaCli -ELF –ControllerFeatures<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a0</td><td colspan="7" align="left">MegaCli -ELF –ControllerFeatures<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a0</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Apply the Activation Key in preview mode.</td><td colspan="7" align="left">MegaCli -ELF -Applykey key –val<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -preview -a0</td><td colspan="7" align="left">storcli /cx(x|all) set aso key=&lt;key<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value&gt; preview</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Apply the Activation Key</td><td colspan="7" align="left">MegaCli -ELF -Applykey key –val<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a0</td><td colspan="7" align="left">storcli /cx(x|all) set aso key=&lt;key<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value&gt;</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">&nbsp;Deactivate the trial key</td><td colspan="7" align="left">MegaCli -ELF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; –DeactivateTrialKey -a0</td><td colspan="7" align="left">storcli /cx(x|all) set aso<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; deactivatetrialkey</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Show the re-host information and, if re-hosting is necessary, show the controller and key vault serial<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; numbers.</td><td colspan="7" align="left">&nbsp;MegaCli -ELF -ReHostInfo -a0</td><td colspan="7" align="left">&nbsp;storcli /cx(x|all) show rehostinfo</td><td colspan="2" align="center">&nbsp;</td></tr><tr><td colspan="7" align="left">Indicate to the controller that the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; re-host is complete</td><td colspan="7" align="left">&nbsp;MegaCli -ELF -ReHostComplete -a0</td><td colspan="7" align="left">storcli /cx(x|all) set aso<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rehostcomplete</td><td colspan="2" align="center">&nbsp;</td></tr></tbody></table>
</html>



      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lyvivian0077.github.io/2017/09/13/mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyvivian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="总有刁民想要害朕">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/09/13/mysql/" class="post-title-link" itemprop="url">MySQL</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-09-13 15:17:10" itemprop="dateCreated datePublished" datetime="2017-09-13T15:17:10+09:00">2017-09-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-22 12:58:45" itemprop="dateModified" datetime="2021-06-22T12:58:45+09:00">2021-06-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/main/" itemprop="url" rel="index"><span itemprop="name">main</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h4 id="Mysql参数优化对于新手来讲，是比较难懂的东西，其实这个参数优化，是个很复杂的东西，"><a href="#Mysql参数优化对于新手来讲，是比较难懂的东西，其实这个参数优化，是个很复杂的东西，" class="headerlink" title="Mysql参数优化对于新手来讲，是比较难懂的东西，其实这个参数优化，是个很复杂的东西，"></a>Mysql参数优化对于新手来讲，是比较难懂的东西，其实这个参数优化，是个很复杂的东西，</h4><p>对于不同的网站，及其在线量，访问量，帖子数量，网络情况，以及机器硬件配置都有关系，优化不可能一次性完成，需要不断的观察以及调试，才有可能得到最佳效果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">port = 3306</span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line">[mysqld]</span><br><span class="line">port = 3306</span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line">basedir = /usr/local/mysql</span><br><span class="line">datadir = /data/mysql</span><br><span class="line">pid-file = /data/mysql/mysql.pid</span><br><span class="line">user = mysql</span><br><span class="line">bind-address = 0.0.0.0</span><br><span class="line">server-id = 1 #表示是本机的序号为1,一般来讲就是master的意思</span><br><span class="line">skip-name-resolve</span><br><span class="line"># 禁止MySQL对外部连接进行DNS解析，使用这一选项可以消除MySQL进行DNS解析的时间。但需要注意，如果开启该选项，</span><br><span class="line"># 则所有远程主机连接授权都要使用IP地址方式，否则MySQL将无法正常处理连接请求</span><br><span class="line">#skip-networking</span><br><span class="line">back_log = 600</span><br><span class="line"># MySQL能有的连接数量。当主要MySQL线程在一个很短时间内得到非常多的连接请求，这就起作用，</span><br><span class="line"># 然后主线程花些时间(尽管很短)检查连接并且启动一个新线程。back_log值指出在MySQL暂时停止回答新请求之前的短时间内多少个请求可以被存在堆栈中。</span><br><span class="line"># 如果期望在一个短时间内有很多连接，你需要增加它。也就是说，如果MySQL的连接数据达到max_connections时，新来的请求将会被存在堆栈中，</span><br><span class="line"># 以等待某一连接释放资源，该堆栈的数量即back_log，如果等待连接的数量超过back_log，将不被授予连接资源。</span><br><span class="line"># 另外，这值（back_log）限于您的操作系统对到来的TCP/IP连接的侦听队列的大小。</span><br><span class="line"># 你的操作系统在这个队列大小上有它自己的限制（可以检查你的OS文档找出这个变量的最大值），试图设定back_log高于你的操作系统的限制将是无效的。</span><br><span class="line"></span><br><span class="line">max_connections = 1000</span><br><span class="line"># MySQL的最大连接数，如果服务器的并发连接请求量比较大，建议调高此值，以增加并行连接数量，</span><br><span class="line"># 当然这建立在机器能支撑的情况下，因为如果连接数越多，介于MySQL会为每个连接提供连接缓冲区，</span><br><span class="line"># 就会开销越多的内存，所以要适当调整该值，不能盲目提高设值。可以过&#x27;conn%&#x27;通配符查看当前状态的连接数量，以定夺该值的大小。</span><br><span class="line"></span><br><span class="line">max_connect_errors = 6000</span><br><span class="line"># 对于同一主机，如果有超出该参数值个数的中断错误连接，则该主机将被禁止连接。如需对该主机进行解禁，执行：FLUSH HOST。</span><br><span class="line"></span><br><span class="line">open_files_limit = 65535</span><br><span class="line"># MySQL打开的文件描述符限制，默认最小1024;当open_files_limit没有被配置的时候，比较max_connections*5和ulimit -n的值，哪个大用哪个，</span><br><span class="line"># 当open_file_limit被配置的时候，比较open_files_limit和max_connections*5的值，哪个大用哪个。</span><br><span class="line"></span><br><span class="line">table_open_cache = 128</span><br><span class="line"># MySQL每打开一个表，都会读入一些数据到table_open_cache缓存中，当MySQL在这个缓存中找不到相应信息时，才会去磁盘上读取。默认值64</span><br><span class="line"># 假定系统有200个并发连接，则需将此参数设置为200*N(N为每个连接所需的文件描述符数目)；</span><br><span class="line"># 当把table_open_cache设置为很大时，如果系统处理不了那么多文件描述符，那么就会出现客户端失效，连接不上</span><br><span class="line"></span><br><span class="line">max_allowed_packet = 4M</span><br><span class="line"># 接受的数据包大小；增加该变量的值十分安全，这是因为仅当需要时才会分配额外内存。</span><br><span class="line"># 例如，仅当你发出长查询或MySQLd必须返回大的结果行时MySQLd才会分配更多内存。</span><br><span class="line"># 该变量之所以取较小默认值是一种预防措施，以捕获客户端和服务器之间的错误信息包，并确保不会因偶然使用大的信息包而导致内存溢出。</span><br><span class="line"></span><br><span class="line">binlog_cache_size = 1M</span><br><span class="line"># 一个事务，在没有提交的时候，产生的日志，记录到Cache中；等到事务提交需要提交的时候，则把日志持久化到磁盘。默认binlog_cache_size大小32K</span><br><span class="line"></span><br><span class="line">max_heap_table_size = 8M</span><br><span class="line"># 定义了用户可以创建的内存表(memory table)的大小。这个值用来计算内存表的最大行数值。这个变量支持动态改变</span><br><span class="line"></span><br><span class="line">tmp_table_size = 16M</span><br><span class="line"># MySQL的heap（堆积）表缓冲大小。所有联合在一个DML指令内完成，并且大多数联合甚至可以不用临时表即可以完成。</span><br><span class="line"># 大多数临时表是基于内存的(HEAP)表。具有大的记录长度的临时表 (所有列的长度的和)或包含BLOB列的表存储在硬盘上。</span><br><span class="line"># 如果某个内部heap（堆积）表大小超过tmp_table_size，MySQL可以根据需要自动将内存中的heap表改为基于硬盘的MyISAM表。</span><br><span class="line"># 还可以通过设置tmp_table_size选项来增加临时表的大小。也就是说，如果调高该值，MySQL同时将增加heap表的大小，可达到提高联接查询速度的效果</span><br><span class="line"></span><br><span class="line">read_buffer_size = 2M</span><br><span class="line"># MySQL读入缓冲区大小。对表进行顺序扫描的请求将分配一个读入缓冲区，MySQL会为它分配一段内存缓冲区。</span><br><span class="line"># read_buffer_size变量控制这一缓冲区的大小。</span><br><span class="line"># 如果对表的顺序扫描请求非常频繁，并且你认为频繁扫描进行得太慢，可以通过增加该变量值以及内存缓冲区大小提高其性能</span><br><span class="line"></span><br><span class="line">read_rnd_buffer_size = 8M</span><br><span class="line"># MySQL的随机读缓冲区大小。当按任意顺序读取行时(例如，按照排序顺序)，将分配一个随机读缓存区。进行排序查询时，</span><br><span class="line"># MySQL会首先扫描一遍该缓冲，以避免磁盘搜索，提高查询速度，如果需要排序大量数据，</span><br><span class="line"># 可适当调高该值。但MySQL会为每个客户连接发放该缓冲空间，所以应尽量适当设置该值，以避免内存开销过大</span><br><span class="line"></span><br><span class="line">sort_buffer_size = 8M</span><br><span class="line"># MySQL执行排序使用的缓冲大小。如果想要增加ORDER BY的速度，首先看是否可以让MySQL使用索引而不是额外的排序阶段。</span><br><span class="line"># 如果不能，可以尝试增加sort_buffer_size变量的大小</span><br><span class="line"></span><br><span class="line">join_buffer_size = 8M</span><br><span class="line"># 联合查询操作所能使用的缓冲区大小，和sort_buffer_size一样，该参数对应的分配内存也是每连接独享</span><br><span class="line"></span><br><span class="line">thread_cache_size = 8</span><br><span class="line"># 这个值（默认8）表示可以重新利用保存在缓存中线程的数量，当断开连接时如果缓存中还有空间，那么客户端的线程将被放到缓存中，</span><br><span class="line"># 如果线程重新被请求，那么请求将从缓存中读取,如果缓存中是空的或者是新的请求，那么这个线程将被重新创建,如果有很多新的线程，</span><br><span class="line"># 增加这个值可以改善系统性能.通过比较Connections和Threads_created状态的变量，可以看到这个变量的作用。(–&gt;表示要调整的值)</span><br><span class="line"># 根据物理内存设置规则如下：</span><br><span class="line"># 1G - &gt; 8</span><br><span class="line"># 2G - &gt; 16</span><br><span class="line"># 3G - &gt; 32</span><br><span class="line"># 大于3G - &gt; 64</span><br><span class="line"></span><br><span class="line">query_cache_size = 8M</span><br><span class="line"># MySQL的查询缓冲大小（从4.0.1开始，MySQL提供了查询缓冲机制）使用查询缓冲，MySQL将SELECT语句和查询结果存放在缓冲区中，</span><br><span class="line"># 今后对于同样的SELECT语句（区分大小写），将直接从缓冲区中读取结果。根据MySQL用户手册，使用查询缓冲最多可以达到238%的效率。</span><br><span class="line"># 通过检查状态值&#x27;Qcache_%&#x27;，可以知道query_cache_size设置是否合理：如果Qcache_lowmem_prunes的值非常大，则表明经常出现缓冲不够的情况，</span><br><span class="line"># 如果Qcache_hits的值也非常大，则表明查询缓冲使用非常频繁，此时需要增加缓冲大小；如果Qcache_hits的值不大，则表明你的查询重复率很低，</span><br><span class="line"># 这种情况下使用查询缓冲反而会影响效率，那么可以考虑不用查询缓冲。此外，在SELECT语句中加入SQL_NO_CACHE可以明确表示不使用查询缓冲</span><br><span class="line"></span><br><span class="line">query_cache_limit = 2M</span><br><span class="line">#指定单个查询能够使用的缓冲区大小，默认1M</span><br><span class="line"></span><br><span class="line">key_buffer_size = 4M</span><br><span class="line"># 指定用于索引的缓冲区大小，增加它可得到更好处理的索引(对所有读和多重写)，到你能负担得起那样多。如果你使它太大，</span><br><span class="line"># 系统将开始换页并且真的变慢了。对于内存在4GB左右的服务器该参数可设置为384M或512M。通过检查状态值Key_read_requests和Key_reads，</span><br><span class="line"># 可以知道key_buffer_size设置是否合理。比例key_reads/key_read_requests应该尽可能的低，</span><br><span class="line"># 至少是1:100，1:1000更好(上述状态值可以使用SHOW STATUS LIKE &#x27;key_read%&#x27;获得)。注意：该参数值设置的过大反而会是服务器整体效率降低</span><br><span class="line"></span><br><span class="line">ft_min_word_len = 4</span><br><span class="line"># 分词词汇最小长度，默认4</span><br><span class="line"></span><br><span class="line">transaction_isolation = REPEATABLE-READ</span><br><span class="line"># MySQL支持4种事务隔离级别，他们分别是：</span><br><span class="line"># READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE.</span><br><span class="line"># 如没有指定，MySQL默认采用的是REPEATABLE-READ，ORACLE默认的是READ-COMMITTED</span><br><span class="line"></span><br><span class="line">log_bin = mysql-bin</span><br><span class="line">binlog_format = mixed</span><br><span class="line">expire_logs_days = 30 #超过30天的binlog删除</span><br><span class="line">log_error = /data/mysql/mysql-error.log #错误日志路径</span><br><span class="line">slow_query_log = 1</span><br><span class="line">long_query_time = 1 #慢查询时间 超过1秒则为慢查询</span><br><span class="line">slow_query_log_file = /data/mysql/mysql-slow.log</span><br><span class="line">performance_schema = 0</span><br><span class="line">explicit_defaults_for_timestamp</span><br><span class="line">#lower_case_table_names = 1 #不区分大小写</span><br><span class="line">skip-external-locking #MySQL选项以避免外部锁定。该选项默认开启</span><br><span class="line">default-storage-engine = InnoDB #默认存储引擎</span><br><span class="line"></span><br><span class="line">innodb_file_per_table = 1</span><br><span class="line"># InnoDB为独立表空间模式，每个数据库的每个表都会生成一个数据空间</span><br><span class="line"># 独立表空间优点：</span><br><span class="line"># 1．每个表都有自已独立的表空间。</span><br><span class="line"># 2．每个表的数据和索引都会存在自已的表空间中。</span><br><span class="line"># 3．可以实现单表在不同的数据库中移动。</span><br><span class="line"># 4．空间可以回收（除drop table操作处，表空不能自已回收）</span><br><span class="line"># 缺点：</span><br><span class="line"># 单表增加过大，如超过100G</span><br><span class="line"># 结论：</span><br><span class="line"># 共享表空间在Insert操作上少有优势。其它都没独立表空间表现好。当启用独立表空间时，请合理调整：innodb_open_files</span><br><span class="line"></span><br><span class="line">innodb_open_files = 500</span><br><span class="line"># 限制Innodb能打开的表的数据，如果库里的表特别多的情况，请增加这个。这个值默认是300</span><br><span class="line"></span><br><span class="line">innodb_buffer_pool_size = 64M</span><br><span class="line"># InnoDB使用一个缓冲池来保存索引和原始数据, 不像MyISAM.</span><br><span class="line"># 这里你设置越大,你在存取表里面数据时所需要的磁盘I/O越少.</span><br><span class="line"># 在一个独立使用的数据库服务器上,你可以设置这个变量到服务器物理内存大小的80%</span><br><span class="line"># 不要设置过大,否则,由于物理内存的竞争可能导致操作系统的换页颠簸.</span><br><span class="line"># 注意在32位系统上你每个进程可能被限制在 2-3.5G 用户层面内存限制,</span><br><span class="line"># 所以不要设置的太高.</span><br><span class="line"></span><br><span class="line">innodb_write_io_threads = 4</span><br><span class="line">innodb_read_io_threads = 4</span><br><span class="line"># innodb使用后台线程处理数据页上的读写 I/O(输入输出)请求,根据你的 CPU 核数来更改,默认是4</span><br><span class="line"># 注:这两个参数不支持动态改变,需要把该参数加入到my.cnf里，修改完后重启MySQL服务,允许值的范围从 1-64</span><br><span class="line"></span><br><span class="line">innodb_thread_concurrency = 0</span><br><span class="line"># 默认设置为 0,表示不限制并发数，这里推荐设置为0，更好去发挥CPU多核处理能力，提高并发量</span><br><span class="line"></span><br><span class="line">innodb_purge_threads = 1</span><br><span class="line"># InnoDB中的清除操作是一类定期回收无用数据的操作。在之前的几个版本中，</span><br><span class="line"># 清除操作是主线程的一部分，这意味着运行时它可能会堵塞其它的数据库操作。</span><br><span class="line"># 从MySQL5.5.X版本开始，该操作运行于独立的线程中,并支持更多的并发数。用户可通过设置innodb_purge_threads配置参数来选择清除操作是否使用单</span><br><span class="line"># 独线程,默认情况下参数设置为0(不使用单独线程),设置为 1 时表示使用单独的清除线程。建议为1</span><br><span class="line"></span><br><span class="line">innodb_flush_log_at_trx_commit = 2</span><br><span class="line"># 0：如果innodb_flush_log_at_trx_commit的值为0,</span><br><span class="line">#    log buffer每秒就会被刷写日志文件到磁盘，提交事务的时候不做任何操作（执行是由mysql的master thread线程来执行的。</span><br><span class="line">#    主线程中每秒会将重做日志缓冲写入磁盘的重做日志文件(REDO LOG)中。不论事务是否已经提交）默认的日志文件是ib_logfile0,ib_logfile1</span><br><span class="line"># 1：当设为默认值1的时候，每次提交事务的时候，都会将log buffer刷写到日志。</span><br><span class="line"># 2：如果设为2,每次提交事务都会写日志，但并不会执行刷的操作。每秒定时会刷到日志文件。</span><br><span class="line">#    要注意的是，并不能保证100%每秒一定都会刷到磁盘，这要取决于进程的调度。</span><br><span class="line">#    每次事务提交的时候将数据写入事务日志，而这里的写入仅是调用了文件系统的写入操作，</span><br><span class="line">#    而文件系统是有 缓存的，所以这个写入并不能保证数据已经写入到物理磁盘</span><br><span class="line"># 默认值1是为了保证完整的ACID。当然，你可以将这个配置项设为1以外的值来换取更高的性能，但是在系统崩溃的时候，你将会丢失1秒的数据。</span><br><span class="line"># 设为0的话，mysqld进程崩溃的时候，就会丢失最后1秒的事务。</span><br><span class="line"># 设为2,只有在操作系统崩溃或者断电的时候才会丢失最后1秒的数据。InnoDB在做恢复的时候会忽略这个值。</span><br><span class="line">### 总结 ###</span><br><span class="line"># 设为1当然是最安全的，但性能页是最差的（相对其他两个参数而言，但不是不能接受）。</span><br><span class="line"># 如果对数据一致性和完整性要求不高，完全可以设为2，如果只最求性能，例如高并发写的日志服务器，设为0来获得更高性能</span><br><span class="line"></span><br><span class="line">innodb_log_buffer_size = 2M</span><br><span class="line"># 此参数确定些日志文件所用的内存大小，以M为单位。缓冲区更大能提高性能，但意外的故障将会丢失数据。MySQL开发人员建议设置为1－8M之间</span><br><span class="line"></span><br><span class="line">innodb_log_file_size = 32M</span><br><span class="line"># 此参数确定数据日志文件的大小，更大的设置可以提高性能，但也会增加恢复故障数据库所需的时间</span><br><span class="line"></span><br><span class="line">innodb_log_files_in_group = 3</span><br><span class="line"># 为提高性能，MySQL可以以循环方式将日志文件写到多个文件。推荐设置为3</span><br><span class="line"></span><br><span class="line">innodb_max_dirty_pages_pct = 90</span><br><span class="line"># innodb主线程刷新缓存池中的数据，使脏数据比例小于90%</span><br><span class="line"></span><br><span class="line">innodb_lock_wait_timeout = 120 </span><br><span class="line"># InnoDB事务在被回滚之前可以等待一个锁定的超时秒数。</span><br><span class="line"># InnoDB在它自己的锁定表中自动检测事务死锁并且回滚事务。InnoDB用LOCK TABLES语句注意到锁定设置。默认值是50秒</span><br><span class="line"></span><br><span class="line">bulk_insert_buffer_size = 8M</span><br><span class="line"># 批量插入缓存大小， 这个参数是针对MyISAM存储引擎来说的。</span><br><span class="line"># 适用于在一次性插入100-1000+条记录时， 提高效率。默认值是8M。可以针对数据量的大小，翻倍增加。</span><br><span class="line"></span><br><span class="line">myisam_sort_buffer_size = 8M</span><br><span class="line"># MyISAM设置恢复表之时使用的缓冲区的尺寸，当在REPAIR TABLE或用CREATE INDEX创建索引或ALTER TABLE过程中排序 MyISAM索引分配的缓冲区</span><br><span class="line"></span><br><span class="line">myisam_max_sort_file_size = 10G</span><br><span class="line"># 如果临时文件会变得超过索引，不要使用快速排序索引方法来创建一个索引。注释：这个参数以字节的形式给出</span><br><span class="line"></span><br><span class="line">myisam_repair_threads = 1</span><br><span class="line"># 如果该值大于1，在Repair by sorting过程中并行创建MyISAM表索引(每个索引在自己的线程内) </span><br><span class="line"></span><br><span class="line">interactive_timeout = 28800</span><br><span class="line"># 服务器关闭交互式连接前等待活动的秒数。交互式客户端定义为在</span><br><span class="line"># mysql_real_connect()中使用CLIENT_INTERACTIVE选项的客户端。默认值：28800秒（8小时）</span><br><span class="line"></span><br><span class="line">wait_timeout = 28800</span><br><span class="line"># 服务器关闭非交互连接之前等待活动的秒数。在线程启动时，根据全局wait_timeout值或全局interactive_timeout值初始化会话wait_timeout值，</span><br><span class="line"># 取决于客户端类型(由mysql_real_connect()的连接选项CLIENT_INTERACTIVE定义)。参数默认值：28800秒（8小时）</span><br><span class="line"># MySQL服务器所支持的最大连接数是有上限的，因为每个连接的建立都会消耗内存，因此我们希望客户端在连接到MySQL Server处理完相应的操作后，</span><br><span class="line"># 应该断开连接并释放占用的内存。如果你的MySQL Server有大量的闲置连接，他们不仅会白白消耗内存，而且如果连接一直在累加而不断开，</span><br><span class="line"># 最终肯定会达到MySQL Server的连接上限数，这会报&#x27;too many connections&#x27;的错误。对于wait_timeout的值设定，应该根据系统的运行情况来判断。</span><br><span class="line"># 在系统运行一段时间后，可以通过show processlist命令查看当前系统的连接状态，如果发现有大量的sleep状态的连接进程，则说明该参数设置的过大，</span><br><span class="line"># 可以进行适当的调整小些。要同时设置interactive_timeout和wait_timeout才会生效。</span><br><span class="line">[mysqldump]</span><br><span class="line">quick</span><br><span class="line">max_allowed_packet = 16M #服务器发送和接受的最大包长度</span><br><span class="line">[myisamchk]</span><br><span class="line">key_buffer_size = 8M</span><br><span class="line">sort_buffer_size = 8M</span><br><span class="line">read_buffer = 4M</span><br><span class="line">write_buffer = 4M</span><br></pre></td></tr></table></figure>

<h2 id="innodb-flush-log-at-trx-commit"><a href="#innodb-flush-log-at-trx-commit" class="headerlink" title="innodb_flush_log_at_trx_commit"></a>innodb_flush_log_at_trx_commit</h2><h4 id="innodb-buffer-pool-size"><a href="#innodb-buffer-pool-size" class="headerlink" title="innodb_buffer_pool_size"></a>innodb_buffer_pool_size</h4><p>如 果用Innodb，那么这是一个重要变量。相对于MyISAM来说，Innodb对于buffer size更敏感。MySIAM可能对于大数据量使用默认的key_buffer_size也还好，但Innodb在大数据量时用默认值就感觉在爬了。 Innodb的缓冲池会缓存数据和索引，所以不需要给系统的缓存留空间，如果只用Innodb，可以把这个值设为内存的70%-80%。和 key_buffer相同，如果数据量比较小也不怎么增加，那么不要把这个值设太高也可以提高内存的使用率。</p>
<h4 id="innodb-additional-pool-size"><a href="#innodb-additional-pool-size" class="headerlink" title="innodb_additional_pool_size"></a>innodb_additional_pool_size</h4><p>这个的效果不是很明显，至少是当操作系统能合理分配内存时。但你可能仍需要设成20M或更多一点以看Innodb会分配多少内存做其他用途。</p>
<h4 id="innodb-log-file-size"><a href="#innodb-log-file-size" class="headerlink" title="innodb_log_file_size"></a>innodb_log_file_size</h4><p>对于写很多尤其是大数据量时非常重要。要注意，大的文件提供更高的性能，但数据库恢复时会用更多的时间。我一般用64M-512M，具体取决于服务器的空间。</p>
<h4 id="innodb-log-buffer-size"><a href="#innodb-log-buffer-size" class="headerlink" title="innodb_log_buffer_size"></a>innodb_log_buffer_size</h4><p>默认值对于多数中等写操作和事务短的运用都是可以的。如 果经常做更新或者使用了很多blob数据，应该增大这个值。但太大了也是浪费内存，因为1秒钟总会 flush（这个词的中文怎么说呢？）一次，所以不需要设到超过1秒的需求。8M-16M一般应该够了。小的运用可以设更小一点。</p>
<h4 id="innodb-flush-log-at-trx-commit-（这个很管用）"><a href="#innodb-flush-log-at-trx-commit-（这个很管用）" class="headerlink" title="innodb_flush_log_at_trx_commit  （这个很管用）"></a>innodb_flush_log_at_trx_commit  （这个很管用）</h4><p>抱怨Innodb比MyISAM慢 100倍？那么你大概是忘了调整这个值。默认值1的意思是每一次事务提交或事务外的指令都需要把日志写入（flush）硬盘，这是很费时的。特别是使用电 池供电缓存（Battery backed up cache）时。设成2对于很多运用，特别是从MyISAM表转过来的是可以的，它的意思是不写入硬盘而是写入系统缓存。日志仍然会每秒flush到硬 盘，所以你一般不会丢失超过1-2秒的更新。设成0会更快一点，但安全方面比较差，即使MySQL挂了也可能会丢失事务的数据。而值2只会在整个操作系统 挂了时才可能丢数据。 </p>
<h4 id="innodb-flush-log-at-trx-commit-1"><a href="#innodb-flush-log-at-trx-commit-1" class="headerlink" title="innodb_flush_log_at_trx_commit"></a>innodb_flush_log_at_trx_commit</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">If the value of innodb_flush_log_at_trx_commit is 0, the log buffer is written out to the log file once per second and the flush to disk operation is performed on the log file, but nothing is done at a transaction commit. When the value is 1, the log buffer is written out to the log file at each transaction commit and the flush to disk operation is performed on the log file. When the value is 2, the log buffer is written out to the file at each commit, but the flush to disk operation is not performed on it. However, the flushing on the log file takes place once per second also when the value is 2. Note that the once-per-second flushing is not 100% guaranteed to happen every second, due to process scheduling issues.</span><br><span class="line"></span><br><span class="line">The default value of this variable is 1 (prior to MySQL 4.0.13, the default is 0).</span><br><span class="line"></span><br><span class="line">A value of 1 is required for ACID compliance. You can achieve better performance by setting the value different from 1, but then you can lose at most one second worth of transactions in a crash. With a value of 0, any mysqldprocess crash can erase the last second of transactions. With a value of 2, then only an operating system crash or a power outage can erase the last second of transactions. However, InnoDB&#x27;s crash recovery is not affected and thus crash recovery does work regardless of the value.</span><br><span class="line">Note</span><br><span class="line"></span><br><span class="line">For the greatest possible durability and consistency in a replication setup using InnoDB with transactions, use innodb_flush_log_at_trx_commit=1, sync_binlog=1, and innodb-safe-binlog in your master server my.cnf file.</span><br><span class="line">Caution</span><br><span class="line"></span><br><span class="line">Many operating systems and some disk hardware fool the flush-to-disk operation. They may tellmysqld that the flush has taken place, even though it has not. Then the durability of transactions is not guaranteed even with the setting 1, and in the worst case a power outage can even corrupt theInnoDB database. Using a battery-backed disk cache in the SCSI disk controller or in the disk itself speeds up file flushes, and makes the operation safer. You can also try using the Unix commandhdparm to disable the caching of disk writes in hardware caches, or use some other command specific to the hardware vendor.</span><br></pre></td></tr></table></figure>



<h1 id="my-cnf-最終形態"><a href="#my-cnf-最終形態" class="headerlink" title="my.cnf 最終形態"></a>my.cnf 最終形態</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br><span class="line">socket=/tmp/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">user=mysql</span><br><span class="line">datadir=/home/mysql</span><br><span class="line">socket=/tmp/mysql.sock</span><br><span class="line">tmpdir=/home/tmp</span><br><span class="line">slow_query_log=1</span><br><span class="line"># slow query 機能をONにする</span><br><span class="line">long_query_time=10</span><br><span class="line"># slow query 時間を10秒に設定</span><br><span class="line">slow_query_log_file=/var/log/mysql/slow_query.log</span><br><span class="line">log-error=/var/log/mysql/error.log</span><br><span class="line">log_output=FILE</span><br><span class="line"># log形式をfile式に設定</span><br><span class="line"></span><br><span class="line">#myisam</span><br><span class="line">myisam_sort_buffer_size=128M</span><br><span class="line"># MyISAMで以下の時のインデックスのソートに使われるメモリ上の領域です。 </span><br><span class="line"># REPAIR TABLE、CREATE INDEX、ALTER INDEX。通常のクエリ(DML)では使われないようなので、それほど多くする必要はないでしょう。</span><br><span class="line"></span><br><span class="line">key_buffer_size=512M</span><br><span class="line"># MyISAMのインデックスをキャッシュするメモリ上の領域です。</span><br><span class="line"># 多く割り当てた方がパフォーマンスが向上します。グローバルバッファなのでどかんと割り当てられます。</span><br><span class="line"># もし、MyISAMを(あまり)使ってないのならば、小さくしてほかのパラメータに回すのもアリです。</span><br><span class="line"></span><br><span class="line">sort_buffer_size=2M</span><br><span class="line"># ORDER BYやGROUP BYのときに使われるメモリ上の領域です。</span><br><span class="line"></span><br><span class="line">read_buffer_size=2M</span><br><span class="line"># インデックスを用いないテーブルスキャンのときに使われるメモリ上の領域です。</span><br><span class="line"></span><br><span class="line">read_rnd_buffer_size=2M</span><br><span class="line"># ソート後にレコードを読むときに使われるメモリ上の領域です。</span><br><span class="line"># ディスクI/Oが減るのでORDER BYの性能向上が期待できます。</span><br><span class="line"></span><br><span class="line">#server</span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line">skip-name-resolve</span><br><span class="line"># DNS解決をOFFにする</span><br><span class="line">skip-ssl</span><br><span class="line"># MySQL5.7ではSSL利用しないため、OFFにする</span><br><span class="line"></span><br><span class="line">max_connections=300</span><br><span class="line"># 最大接続数を300にする、サーバのパフォーマンスとネット帯域によるもので、</span><br><span class="line"># 今後サーバリプレースと10G化した後、変更する必要あります。</span><br><span class="line"></span><br><span class="line">max_connect_errors=300</span><br><span class="line"># 連続して接続要求が中断された場合にそれを許可する回数を決定します。</span><br><span class="line"></span><br><span class="line">max_allowed_packet=16M</span><br><span class="line"># MySQL Server およびクライアント間で転送可能なパケット数。</span><br><span class="line"></span><br><span class="line">query_cache_size=512M</span><br><span class="line"># クエリキャッシュ領域。</span><br><span class="line"></span><br><span class="line">query_cache_limit=32M</span><br><span class="line"># キャッシュするクエリ結果の最大サイズ。</span><br><span class="line">query_cache_type=1</span><br><span class="line"># SELECT SQL_NO_CACHE 以外のクエリをキャッシュする</span><br><span class="line"></span><br><span class="line">connect_timeout=30</span><br><span class="line"># connect timeout 時間を30秒に設定</span><br><span class="line"></span><br><span class="line">max_user_connections=30</span><br><span class="line"># 単一アカウントによる同時接続の数</span><br><span class="line"></span><br><span class="line">thread_cache_size=300</span><br><span class="line"># スレッドをコネクションの切断後にもキャッシュしておく数。</span><br><span class="line"># thread_cache_sizeをNに設定すると、N個のアクティブでない接続スレッドをキャッシュできる。</span><br><span class="line"># 関連付けられたクライアント接続が終了すると、接続スレッドはアクティブでなくなる。</span><br><span class="line"></span><br><span class="line">back_log=50</span><br><span class="line"># MySQL で保持できる未処理の接続リクエストの数。</span><br><span class="line"></span><br><span class="line">table_open_cache=19200</span><br><span class="line"># すべてのスレッドについて開いているテーブルの数。</span><br><span class="line"></span><br><span class="line">table_definition_cache=16000</span><br><span class="line"># 定義キャッシュに格納可能な (.frm ファイルからの) テーブル定義の数。</span><br><span class="line"></span><br><span class="line">delayed_insert_timeout=60</span><br><span class="line"># 終了する前に、INSERT DELAYED ハンドラスレッドが INSERT ステートメントを待機する秒数。</span><br><span class="line"></span><br><span class="line">interactive_timeout=300</span><br><span class="line"># サーバーが対話型の接続で、対話型の接続を閉じる前にアクティビティーを待機する秒数。</span><br><span class="line"></span><br><span class="line">wait_timeout=300</span><br><span class="line"># 非インタラクティブな接続を閉じる前に、サーバーがその接続上でアクティビティーを待機する秒数。</span><br><span class="line"></span><br><span class="line">tmp_table_size=256M</span><br><span class="line"># 内部インメモリーの一時テーブルの最大サイズ。</span><br><span class="line"></span><br><span class="line">max_heap_table_size=256M</span><br><span class="line"># ユーザーが作成した MEMORY テーブルの増加が許可される最大サイズを設定します。</span><br><span class="line"># </span><br><span class="line">character-set-server=utf8</span><br><span class="line">collation-server=utf8_general_ci</span><br><span class="line"></span><br><span class="line">#innodb options</span><br><span class="line">innodb_thread_concurrency=32</span><br><span class="line"># InnoDB は、この変数で指定された制限以下の数のオペレーティングシステムスレッドを同時に InnoDB 内部に保持しようと試みます </span><br><span class="line"># スレッド数がこの制限に達すると、それ以降のスレッドは実行されるまで,</span><br><span class="line"># 「先入れ先出し」 (FIFO) キュー内で待機状態になります。ロックを待機しているスレッドは、並列実行中のスレッドの数にカウントされません。</span><br><span class="line"></span><br><span class="line">innodb_buffer_pool_size=48G</span><br><span class="line"># 全体メモリの50%〜60%に設定する。8の倍数。</span><br><span class="line"></span><br><span class="line">innodb_buffer_pool_dump_pct=100</span><br><span class="line">innodb_buffer_pool_dump_at_shutdown=1</span><br><span class="line">innodb_buffer_pool_load_at_startup=0</span><br><span class="line"># http://tech.gmo-media.jp/post/128523146249/innodb-buffer-pool-load-at-startup</span><br><span class="line"></span><br><span class="line">innodb_log_file_size=2G</span><br><span class="line">innodb_log_files_in_group=2</span><br><span class="line"># ロググループ内の各ログファイルのサイズです。通常はinnodb_buffer_pool_sizeの25％が良いと言われてますが、</span><br><span class="line"># 12Gのib_logfileが生成され、クラッシュリカバリ時の速度が遅くなるため、4Gにしました。</span><br><span class="line"># もし、SSDではなく、NVMEであれば、適当な値に変更するべきだろう。</span><br><span class="line"></span><br><span class="line">innodb_log_buffer_size=4M</span><br><span class="line"># ディスク上のログファイルに書き込む際に InnoDB で使用されるバッファーのサイズです。</span><br><span class="line"># ログバッファーを大きくすると、ディスク I/O を節約できますが、障害時ロースするデータも多い、</span><br><span class="line"># 推奨は1〜8Mです。</span><br><span class="line"></span><br><span class="line">innodb_file_per_table</span><br><span class="line"># 新たに作成された各テーブルのデータおよびインデックスがシステムテーブルスペースではなく,</span><br><span class="line"># 個別の .ibd ファイルに格納されます。これらの InnoDB テーブル用のストレージは、テーブルが削除されたり、</span><br><span class="line"># 切り捨てられたりすると再利用されます。5.6.6 以上はデフォルトONです。</span><br><span class="line"></span><br><span class="line">innodb_open_files=9600</span><br><span class="line"># この変数は、複数の InnoDB テーブルスペースを使用する場合にのみ関連します。</span><br><span class="line"># MySQL で一度に開いたままにできる .ibd ファイルの最大数が指定されます。</span><br><span class="line"></span><br><span class="line">innodb_flush_method=O_DIRECT</span><br><span class="line"># InnoDB のデータファイルおよびログファイルにデータをフラッシュする際に使用される方法を定義します。</span><br><span class="line"># これにより、I/O スループットが影響を受ける可能性があります。この変数は、Unix および Linux システムでのみ構成可能です。</span><br><span class="line"># Windows システムでは、フラッシュ方法は常に async_unbuffered であり、変更できません。</span><br><span class="line"></span><br><span class="line"># - fsync: InnoDB は fsync() システムコールを使用して、データファイルとログファイルの両方をフラッシュします。fsync はデフォルト設定です。</span><br><span class="line"># </span><br><span class="line"># - O_DSYNC: InnoDB は、O_SYNC を使用してログファイルを開いてフラッシュし、fsync() を使用してデータファイルをフラッシュします。さまざまな種類の Unix で問題が発生しているため、InnoDB では直接 O_DSYNC が使用されません。</span><br><span class="line"># </span><br><span class="line"># - O_DIRECT: InnoDB は、O_DIRECT (Solaris では directio()) を使用してデータファイルを開き、fsync() を使用してデータファイルとログファイルの両方をフラッシュします。このオプションは、一部の GNU/Linux バージョン、FreeBSD、および Solaris で使用可能です。</span><br><span class="line"># </span><br><span class="line"># - O_DIRECT_NO_FSYNC: InnoDB は、I/O のフラッシュ時に O_DIRECT を使用しますが、後続の fsync() システムコールはスキップします。この設定は、一部のタイプのファイルシステムには適していますが、その他には適していません。たとえば、XFS には適していません。たとえば、使用中のファイルシステムですべてのファイルメタデータを保持するために、fsync() が必要であるのかどうかが不明な場合は、代わりに O_DIRECT を使用してください。このオプションは MySQL 5.6.7 (Bug #11754304、Bug #45892) で導入されました。</span><br><span class="line"></span><br><span class="line">default_password_lifetime=0</span><br><span class="line"># パスワードの有効期限、レンサバと連携しているため、OFFにしました。</span><br><span class="line">#enforce-gtid-consistency=1</span><br><span class="line">#gtid-mode=ON</span><br><span class="line">#safe-user-create=1</span><br><span class="line">#explicit_defaults_for_timestamp=1</span><br><span class="line">log_timestamps=SYSTEM</span><br><span class="line"># ログに出力される時刻変数です、デフォルトはUTCですが、読みにくいため、SYSTEMに変更しました。</span><br><span class="line"></span><br><span class="line">disable-partition-engine-check=1</span><br><span class="line"># https://yoku0825.blogspot.jp/2017/04/mysql-5717-deprecated-partition-engine.html</span><br><span class="line"># MySQL8 の過渡期にあたるMySQL 5.7に追加されたものです、今後MySQL8リリースした場合、</span><br><span class="line"># ユーザがDB移設する時約立つだろう（と思う）、しかし、毎回MySQL起動時にtableとチェックするため、</span><br><span class="line"># 時間かかるため、disableしました。 </span><br><span class="line"></span><br><span class="line">show_compatibility_56=on</span><br><span class="line"># https://yakst.com/ja/posts/2733</span><br><span class="line"></span><br><span class="line">innodb_buffer_pool_instances=8</span><br><span class="line"># InnoDB のバッファープールが分割される領域の数です。CPUコア数に合わせる。</span><br><span class="line"></span><br><span class="line">innodb_rollback_segments=32</span><br><span class="line"># トランザクション内で InnoDB が使用するシステムテーブルスペースにあるロールバックセグメントの数を定義します。</span><br><span class="line"></span><br><span class="line">innodb_write_io_threads=16</span><br><span class="line">innodb_read_io_threads=16</span><br><span class="line"></span><br><span class="line">innodb_io_capacity=2000</span><br><span class="line">innodb_io_capacity_max=5000</span><br><span class="line"># MySQLサーバはSSDのため、io_capacityを2000〜5000に設定する。</span><br><span class="line"></span><br><span class="line">innodb_max_dirty_pages_pct=40</span><br><span class="line"># InnoDB は、ダーティーページの割合がこの値を超えないように、バッファープールからデータをフラッシュしようと試みます。</span><br><span class="line"></span><br><span class="line">innodb_flush_log_at_trx_commit=2</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="现在的设置"><a href="#现在的设置" class="headerlink" title="现在的设置"></a>现在的设置</h2><h3 id="生产环境"><a href="#生产环境" class="headerlink" title="生产环境"></a>生产环境</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line">socket=/tmp/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">server_id=1</span><br><span class="line">user=mysql</span><br><span class="line">datadir=/home/mysql</span><br><span class="line">socket=/tmp/mysql.sock</span><br><span class="line">tmpdir=/home/tmp</span><br><span class="line">bind-address=0.0.0.0</span><br><span class="line"></span><br><span class="line"># log</span><br><span class="line">log_bin=mysql-bin</span><br><span class="line">binlog_error_action=IGNORE_ERROR</span><br><span class="line">expire_logs_days=2</span><br><span class="line">slow_query_log=1</span><br><span class="line">long_query_time=10</span><br><span class="line">slow_query_log_file=/var/log/mysql/slow_query.log</span><br><span class="line">log_error=/var/log/mysql/error.log</span><br><span class="line">log_output=FILE</span><br><span class="line"></span><br><span class="line"># server</span><br><span class="line">sql_mode=&quot;ONLY_FULL_GROUP_BY,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&quot;</span><br><span class="line">default_storage_engine=INNODB</span><br><span class="line">skip-partition</span><br><span class="line">skip-name-resolve</span><br><span class="line">skip-ssl</span><br><span class="line">skip-symbolic-links</span><br><span class="line">max_connections=600</span><br><span class="line">max_connect_errors=300</span><br><span class="line">max_allowed_packet=16M</span><br><span class="line">connect_timeout=30</span><br><span class="line">max_user_connections=30</span><br><span class="line">table_open_cache=19200</span><br><span class="line">interactive_timeout=300</span><br><span class="line">wait_timeout=300</span><br><span class="line">tmp_table_size=256M</span><br><span class="line">max_heap_table_size=256M</span><br><span class="line">default_password_lifetime=0</span><br><span class="line">explicit_defaults_for_timestamp=1</span><br><span class="line">log_timestamps=SYSTEM</span><br><span class="line">disable_partition_engine_check=1</span><br><span class="line">character-set-server=utf8mb4</span><br><span class="line">collation-server=utf8mb4_general_ci</span><br><span class="line"></span><br><span class="line"># buffer</span><br><span class="line">sort_buffer_size=1M</span><br><span class="line">read_buffer_size=1M</span><br><span class="line">read_rnd_buffer_size=1M</span><br><span class="line"></span><br><span class="line"># MyISAM</span><br><span class="line">myisam_sort_buffer_size=128M</span><br><span class="line">key_buffer_size=512M</span><br><span class="line"></span><br><span class="line"># InnoDB</span><br><span class="line">innodb_strict_mode=1</span><br><span class="line">innodb_file_per_table</span><br><span class="line">innodb_temp_data_file_path=ibtmp1:12M:autoextend:max:10G</span><br><span class="line">innodb_buffer_pool_size=56G</span><br><span class="line">innodb_buffer_pool_dump_pct=100</span><br><span class="line">innodb_buffer_pool_dump_at_shutdown=1</span><br><span class="line">innodb_buffer_pool_load_at_startup=0</span><br><span class="line">innodb_log_file_size=512M</span><br><span class="line">innodb_write_io_threads=16</span><br><span class="line">innodb_read_io_threads=16</span><br><span class="line">innodb_io_capacity=2000</span><br><span class="line">innodb_io_capacity_max=5000</span><br><span class="line">innodb_flush_log_at_trx_commit=2</span><br><span class="line">innodb_flush_method=O_DIRECT</span><br><span class="line">innodb_flush_neighbors=0</span><br><span class="line">innodb_read_ahead_threshold=0</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lyvivian</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
