<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>传入参数的几种方法 - 总有刁民想要害朕</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u4f20\u5165\u53c2\u6570\u7684\u51e0\u79cd\u65b9\u6cd5";
        var mkdocs_page_input_path = "python-function.markdown";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> 总有刁民想要害朕
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Welcome</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">ansbile</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ansbile/">ansbileオプション</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ansbile_async/">ansbile_async</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../awk/">awk</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../MB-MiB%E7%9A%84%E5%8C%BA%E5%88%AB/">MB_MiB的区别</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">MegaRAID</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../megacli/">megacli</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../megaraid/">megaraid</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">MySQL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../Explain%E8%AF%A6%E8%A7%A3%E4%B8%8E%E7%B4%A2%E5%BC%95%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">Explain详解与索引最佳实践</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mysql/">Mysql参数优化</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mysql-table/">MySQL-table</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mysql%E3%82%92%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB/">MySQLビルド</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MySQL-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Python Tips</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../python-styleguide/">Python风格规范</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../python-config/">Python程序配置文件管理</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../python-decorator/">装饰器</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../python-dunder/">5种下划线</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">传入参数的几种方法</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#_1">写在前面</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_2">位置参数</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_3">演示一：</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_4">演示二：</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_5">默认参数</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_6">定义默认参数要牢记一点：默认参数必须指向不变对象！</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_7">可变参数</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_8">关键字参数</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_9">命名关键字参数</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_10">参数组合</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_11">写在后面</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#pythoncc">Python的通过赋值进行传递的机制与C++的引用参数选项不完全相同，但是实际中，它与C语言的参数传递模型相当类似：</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../python/">非常规的技巧</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../python-mysql/">操作mysql基础</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Python-Re-%E6%A8%A1%E5%9D%97%E8%B6%85%E5%85%A8%E8%A7%A3%E8%AF%BB/">Re 模块</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Python%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E6%80%BB%E7%BB%93/">字符串拼接总结</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../%E4%B8%80%E8%A1%8C-Python-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%B9%B6%E8%A1%8C/">代码并行</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Regular-Expression/">正規表現</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../taged-VLAN%E3%81%A8untagedVLAN%E3%81%AE%E9%81%95%E3%81%84/">タグVLAN</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../sar/">sar</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Bash%E7%BC%96%E7%A8%8B%E8%B6%85%E8%AF%A6%E7%BB%86%E8%AF%AD%E6%B3%95%E6%80%BB%E7%BB%93/">Bash编程超详细语法总结</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../iptables/">iptables</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../linux-lvm/">linux-lvm</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../centos7-set-kernel/">centos7-set-kernel</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../centos-network-device-naming/">centos-network-device-naming</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Linux-Performance/">Linux Performance</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Linux-shell-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6-%E9%80%BB%E8%BE%91%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%A6%E8%A7%A3/">Linux-shell-逻辑运算符-逻辑表达式详解</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../LVM%E9%80%BB%E8%BE%91%E5%8D%B7%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%8F%8ALVM%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/">LVM逻辑卷基本概念及LVM的工作原理</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../macOS%E8%BD%AF%E4%BB%B6%E7%BC%96%E8%AF%91%E6%97%B6%E6%89%BE%E4%B8%8D%E5%88%B0%E5%A4%B4%E6%96%87%E4%BB%B6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-%E6%9B%B4%E6%96%B010-15/">macOS软件编译时找不到头文件解决方法[更新10.15]</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ubnt/">ubnt</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../vim/">VIM</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">总有刁民想要害朕</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
          <li>Python Tips &raquo;</li>
      <li>传入参数的几种方法</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="python">Python传入参数的几种方法<a class="headerlink" href="#python" title="Permanent link">&para;</a></h1>
<blockquote>
<p>Python传入参数的方法有：位置参数、默认参数、可变参数、关键字参数、和命名关键字参数、以及各种参数调用的组合</p>
</blockquote>
<h2 id="_1">写在前面<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>Python唯一支持的参数传递方式是『共享传参』（call by sharing）</p>
<p>多数面向对象语言都采用这一模式，包括Ruby、Smalltalk和Java（Java的引用类型是这样，基本类型按值传递）</p>
<p>共享传参是指函数的各个形式参数获得实参中各个引用的副本；也就是说，函数内部的形参是实参的别名（alias）</p>
<p>这种方案的结果是，函数可能会修改作为参数传入的可变对象，但是无法修改那些对象的标识（即不能把一个对象替换为另一个对象）</p>
<h2 id="_2">位置参数<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>位置参数是最简单的传入参数的方式，在其它的语言中也常常被使用</p>
<h5 id="_3">演示一：<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h5>
<pre><code class="language-python">def func(a, b):
    print(a+b)

func(1, 2)  #3
</code></pre>
<h5 id="_4">演示二：<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h5>
<pre><code class="language-python">def power(x, n):
    s = 1
    while(n &gt; 0):
        n -= 1
        s *= n
    return s

power(2, 3) #8
</code></pre>
<h2 id="_5">默认参数<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p>默认参数就是在调用函数的时候使用一些包含默认值的参数</p>
<pre><code class="language-python">def power(x, n=2):
    s = 1
    while(n &gt; 0):
        n -= 1
        s *= n
    reutrn s

power(3)    #9
power(2, 3) #8
</code></pre>
<h3 id="_6">定义默认参数要牢记一点：默认参数必须指向不变对象！<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">#以下这个函数如果被多次调用会在默认添加多个END字符串
def add_end(l = []):
    l.append('END')
    return l
</code></pre>
<pre><code class="language-python">#为了避免这个问题，应该把传入的默认参数设置为不可变的
def add_end(l = None):
    l = []
    l.append('END')
    return l
</code></pre>
<h3 id="_7">可变参数<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>可变参数就是允许在调用参数的时候传入多个（≥0个）参数（类似于列表、字典）</p>
<pre><code class="language-python">#传入一个列表，严格地说这不是可变参数
def calc(l):
    sum = 0
    for n in l:
        sum += n
    return sum

&gt;&gt;&gt; calc([1,2,3])
</code></pre>
<pre><code class="language-python">#这才是可变参数，虽然在使用上和列表没有区别，但是参数nums接收到的是一个tuple（这些参数在传入时被自动组组装为一个元祖）
def calc(*nums):
    sum = 0
    for n in nums:
        sum += n
    return sum

&gt;&gt;&gt; calc(1,2,3)
7

&gt;&gt;&gt; my_ls = [1,2,3]
&gt;&gt;&gt; calc(*my_ls)
7
</code></pre>
<h2 id="_8">关键字参数<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<p>可变参数允许传入0个～多个参数，而关键字参数允许在调用时以字典形式传入0个或多个参数（注意区别，一个是字典一个是列表）；在传递参数时用等号（=）连接键和值</p>
<pre><code class="language-python">#用两个星号表示关键字参数
def person_info(name, age, **kw):
    print(&quot;name&quot;, name, &quot;age&quot;, age, &quot;other&quot;, kw)

&gt;&gt;&gt; person_info(&quot;Xiaoming&quot;, 12)
name Xiaoming age 12 other{}
&gt;&gt;&gt; person_info(&quot;Dahuang&quot;, 35, city = &quot;Beijing&quot;)
name Dahuang age 35 other {'city':'Beijing'}
</code></pre>
<h2 id="_9">命名关键字参数<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>命名关键字参数在关键字参数的基础上限制传入的的关键字的变量名</p>
<p>和普通关键字参数不同，命名关键字参数需要一个用来区分的分隔符*，它后面的参数被认为是命名关键字参数</p>
<pre><code class="language-python">#这里星号分割符后面的city、job是命名关键字参数
person_info(name, age, *, city, job):
    print(name, age, city, job)

&gt;&gt;&gt; person_info(&quot;Alex&quot;, 17, city = &quot;Beijing&quot;, job = &quot;Engineer&quot;)
Alex 17 Beijing Engineer    #看来这里不再被自动组装为字典
</code></pre>
<p>不过也有例外，如果参数中已经有一个可变参数的话，前面讲的星号分割符就不要写了（其实星号是写给Python解释器看的，如果一个星号也没有的话就无法区分命名关键字参数和位置参数了，而如果有一个星号即使来自变长参数就可以区分开来）</p>
<pre><code class="language-python">#args是变长参数，而city和job是命名关键字参数
person_info(name, age, *args, city, job):
    print(name, age, args, city)

&gt;&gt;&gt; person_info(&quot;Liqiang&quot;, 43, &quot;balabala&quot;, city = &quot;Wuhan&quot;, job = &quot;Coder&quot;)
Liqiang 43 balabala Wuhan Coder
</code></pre>
<h2 id="_10">参数组合<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<p>总结一下，在Python中一种可以使用5中传递参数的方式（位置参数、默认参数、变长参数、关键字参数、命名关键字参数）</p>
<p>注意，这些参数在书写时要遵循一定的顺序即：位置参数、默认参数、变长参数、关键字参数、命名关键字参数（和本文的行文顺序一致）</p>
<p>这里简单举两个栗子</p>
<pre><code class="language-python">def f1(a, b, c=0, *args, **kw):
    print(&quot;a = &quot;, a, &quot;b = &quot;, b, &quot;args = &quot;, args, &quot;kw = &quot;,kw)
def f2(a, b, c=0, *, d, **kw):
    print(&quot;a = &quot;, a, &quot;b = &quot;, b, &quot;c = &quot;, c, &quot;d = &quot;, d, &quot;kw = &quot;, kw)

&gt;&gt;&gt; f1(1, 2)
a = 1 b = 2 c = 0 args =() kw = {}
&gt;&gt;&gt; f1(1, 2, c=3)
a = 1 b = 2 c = 3 args = () kw = {}
&gt;&gt;&gt; f1(1, 2, 3, 'a', 'b')
a = 1 b = 2 c = 3 args = ('a', 'b') kw = {}
&gt;&gt;&gt; f1(1, 2, 3, 'a', 'b', x = 99)
a = 1 b = 2 c = 3 args = ('a', 'b') kw = {'x':99}
&gt;&gt;&gt; f2(1, 2, d = 99, ext = None)
a = 1 b =2 c = 0 d = 99 kw = {'ext':None}
</code></pre>
<h2 id="_11">写在后面<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<p>关于Python参数传递，有以下几点提请注意：</p>
<ol>
<li>参数的传递是通过自动将对象赋值给本地变量名来实现的</li>
<li>
<p>函数参数在实际中只是Python赋值的另一个实例而已，因为引用可以是以指针的形式来实现的，所有的参数实际上都是通过指针进行传递的，作为参数被传递的对象从来不自动拷贝</p>
</li>
<li>
<p>在函数内部的参数名的赋值不会影响调用者 </p>
</li>
<li>
<p>在函数运行时，在函数头部的参数名时一个新的、本地的变量名，这个变量名是在函数的本地作用域内的，函数参数名和调用者作用域中的变量是没有区别的</p>
</li>
<li>
<p>改变函数的可变对象参数的值也许会对调用者有影响 </p>
</li>
<li>换句话说，因为参数是简单地赋值给传入的对象，函数就能够就地改变传入的可变对象，因此其结果会影响调用者；可变参数对函数来说可以做输入和输出的</li>
</ol>
<h5 id="pythoncc">Python的通过赋值进行传递的机制与C++的引用参数选项不完全相同，但是实际中，它与C语言的参数传递模型相当类似：<a class="headerlink" href="#pythoncc" title="Permanent link">&para;</a></h5>
<ol>
<li>不可变参数“通过值”进行传递 </li>
<li>
<p>像整数和字符串这样的对象是不可变对象，它们通过对象引用而不是拷贝进行传递的，但是因为无论如何都不可能在原处改变不可变对象，实际的效果就很像创建了一份拷贝</p>
</li>
<li>
<p>可变对象是通过“指针”进行传递的 </p>
</li>
<li>列表和字典这样的对象也是通过对象引用进行传递的，这一点与C语言使用指针传递数组很相似，可变对象能够在函数内部进行原处的改变，这一点和C数组很像</li>
</ol>
<p><img alt="python_code" src="/assets/python_code.jpg" />
<img alt="python_res" src="/assets/python_res.jpg" /></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../python-dunder/" class="btn btn-neutral float-left" title="5种下划线"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../python/" class="btn btn-neutral float-right" title="非常规的技巧">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright © 2022 - 2023 - lyvivian0077</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../python-dunder/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../python/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
